<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"><channel><title>折返的Liung</title><link>http://liung.github.io/</link><description>我如溪水，静静流淌在山涧~~我如白云，俯瞰此生今生~~</description><atom:link href="http://liung.github.io/feeds%5Cliung.rss.xml" rel="self"></atom:link><lastBuildDate>Tue, 03 Feb 2015 19:27:42 +0800</lastBuildDate><item><title>APM-加载代码到APM2.x</title><link>http://liung.github.io/blog/apm/2015-02-03-APM-Git%E5%92%8CGitHub%E4%BD%BF%E7%94%A8.html</link><description>&lt;h3&gt;如何开始使用Git进行APM源码操作&lt;/h3&gt;
&lt;p&gt;目前APM源代码在线托管在&lt;a href="https://github.com/diydrones/ardupilot"&gt;https://github.com/diydrones/ardupilot&lt;/a&gt;上。如果你需要了解更多关于forking/cloning该项目的一些细节，请阅读&lt;a href="http://dev.ardupilot.com/wiki/git_github_guide/wiki/where-to-get-the-code/"&gt;这篇在线指南&lt;/a&gt;。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;教程：使用Git向APM贡献代码&lt;/h3&gt;
&lt;p&gt;
这篇指南假定你已具有GitHub账户。如果使用的是Windows平台，本指南假设你已经下载并安装了&lt;a href="https://windows.github.com/"&gt;GitHub的windows客户端&lt;/a&gt;程序。如果你使用Mac OSX或者是Linux的任意一种发布版本，本指南假定你已经安装了git并能够使用终端进行目录切换和输入命令操作。
&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;创建分支并更改代码&lt;/h3&gt;
&lt;p&gt;分支作为将开发分离为不同路径的方法，之后可以和一个单独分支（经常命名为“master”）中进行合并。参考下面“学习Git”部分的更多资源，或快速浏览这篇&lt;a href="http://gitready.com/beginner/2009/01/25/branching-and-merging.html"&gt;简短说明&lt;/a&gt;。这一部分，你可以创建代码分支并对代码进行更改。&lt;/p&gt;
&lt;p&gt;分支命名取决于你，但是选择一个简短且描述性的名字是非常有用的。本指南中的代码分支命名为“apm_git_tutorial”。&lt;/p&gt;
&lt;p&gt;对于OSX/Linux终端命令，假设你目前的工作目录位于你“克隆”到的代码库的根目录中。&lt;/p&gt;
&lt;p&gt;1、创建分支。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OSX/Linux终端：&lt;code&gt;git checkout -b apm_git_tutorial&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Windows(GitHub GUI):在安装GitHub的Windows应用程序中，点击窗口右上角的“master”按钮，输入“aom_git_tutorial”并点击下拉列表中的"+创建分支amp_git_tutorial”：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="github for windows" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/04/APM-Git-Github-Windows-Branch.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;2、更改代码。对于本指南，在你喜欢的文本编辑器中代开&lt;code&gt;Tools/GIT_Test/GIT_Success.txt&lt;/code&gt;文件，在文件末行输入你的名字并保存。&lt;/p&gt;
&lt;p&gt;3、使用&lt;code&gt;git status&lt;/code&gt;查看那些文件改变了：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OSX/Linux终端：&lt;code&gt;git status&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;4、确认在分支上的改动。该命令将你的改动提交到git历史中。请查看下面更多信息，为方便起见已经忽略了对于提交你的改动到官方发布版的确认请求操作。当你确定改动时，你需要添加一段日志消息，说明改动中你做了什么。请阅读下方更多如何操作相关信息。鉴于本指南旨在全面的说明操作，你可以仅仅使用命令行第一句命令：&lt;code&gt;Added name to GIT_Success.txt&lt;/code&gt;：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;OSX/Linux终端：&lt;/p&gt;
&lt;p&gt;git add Tools/GIT_Test/Git_Success.txt
git commit -m'Added name to GIT_Success.txt'&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;5、推送分支到GitHub。该操作将会复制你本地分支的文件到GitHub上新的分支上。推送分支是对于其他GitHUb上的合作者或向官方发布版提交补丁支持的一个前提条件。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;OSX/Linux终端：&lt;code&gt;git push origin amp_git_tutorial&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;恭喜你！你已经完成了从更改代码到向官方项目提交相关的正常进程中的所有工作内容。下一步的&lt;a href="http://dev.ardupilot.com/wiki/submitting-patches-back-to-master/"&gt;确认推送请求&lt;/a&gt;，将把让你的改变内容添加到主项目中。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;rebase-base： 保持你的代码最新&lt;/h3&gt;
&lt;p&gt;当你进行项目开发时，上游的ArduPilot代码库的master主分支有可能已经升级，所以你应该&lt;a href="http://robots.thoughtbot.com/keeping-a-github-fork-updated"&gt;保持你fork的代码库和本地分支最新&lt;/a&gt;。如果使用的是Windows版的Github，启动“Git Shell”工具，该工具在你安装GitHub的Windows客户端时已经默认安装，使用下面的命令：&lt;/p&gt;
&lt;p&gt;1、保证你的代码库连接到你fork的代码库：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;remote&lt;/span&gt; &lt;span class="n"&gt;add&lt;/span&gt; &lt;span class="n"&gt;upstream&lt;/span&gt; &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/diydrones/ardupilot.git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;2、获取上游主分支的改动：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;fetch&lt;/span&gt; &lt;span class="n"&gt;upstream&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;3、重新将上游主分支的当前分支作为基准：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;rebase&lt;/span&gt; &lt;span class="n"&gt;upstream&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;master&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/git_github_guide/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Tue, 03 Feb 2015 19:27:42 +0800</pubDate><guid>tag:liung.github.io,2015-02-03:blog/apm/2015-02-03-APM-Git和GitHub使用.html</guid><category>APM</category><category>Git</category><category>GitHub</category></item><item><title>APM-加载代码到APM2.x</title><link>http://liung.github.io/blog/apm/2015-02-01-APM-%E5%8A%A0%E8%BD%BD%E4%BB%A3%E7%A0%81%E5%88%B0APM2.x.html</link><description>&lt;h3&gt;你还需要：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;mini USB传输线（APM需要） 或者 micro USB传输线（APM2需要）&lt;/li&gt;
&lt;li&gt;&lt;a href="http://firmware.diydrones.com/Tools/Arduino/"&gt;Windows&lt;/a&gt;或&lt;a href="http://firmware.diydrones.com/Tools/Arduino/"&gt;Macintosh&lt;/a&gt;平台下的特定修改版的Arduino IDE&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;设置软件驱动&lt;/h3&gt;
&lt;p&gt;
首先，下载并安装Arduino（按照上面给的链接）。如果之前从没有使用过Arduino，请参阅&lt;a href="http://arduino.cc/en/Guide/HomePage"&gt;这些设置说明&lt;/a&gt;来了解Arduino的基础操作。&lt;/p&gt;
&lt;p&gt;接下来，设置APM连接到电脑上需要的USB驱动器。绝大多数人都会使用常规的USB-A到miniB连接线（一端是常规USB口，另一端是mini USB）通过IMU模块连接APM，如果没有IMU模块，还可以选择使用FIDI传输。下图展示了如何使用这种传输线。
&lt;/p&gt;
&lt;p&gt;当第一次连接APM或FTDI传输线到电脑上时，Windows 7系统会自动辨识FTDI USB端口到串口芯片的类型，并安装正确的驱动器。如果系统没有出现上述描述的情况或者使用的是较老的系统，那么你应该从&lt;a href="http://www.ftdichip.com/Drivers/VCP.htm"&gt;这里&lt;/a&gt;下载并安装对应系统的合适驱动软件。一旦成功安装了驱动，需要重启电脑并重新连接传输线。推荐您查看电脑的设备管理器（可以在电脑控制面板中找到），如下图所示，在你的电脑上可能会显示不同的端口号，这取决于操作系统中连接了多少其他外部设备。确认将在Arduino或与APM连接通信中使用的正确端口号。&lt;/p&gt;
&lt;p&gt;注意：如果你正在使用的是FTDI连接线，必须在控制面板/设备管理器中将COM端口设置为FTDI/USB模式。具体操作：找到USB串口端，如下图所示（你的FTDI可能已经被设置为与COM3不同的端口；不用在意所给的端口号），在属性/端口设置/高级选项（Properties/Port Settings/Advanced）中，确保勾选了“Set RTS On close”选项框，如下图。当其它地方发生改变，你不需要再进行上述的操作。&lt;/p&gt;
&lt;p&gt;&lt;img alt="1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/07/eighteen.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;连接传输线&lt;/h3&gt;
&lt;p&gt;FTDI或USB线提供了足够电力用来进行桌面操作，但是可能不能驱动两个以上的常规舵机。如果你想要驱动更多舵机或使用的是数字舵机，就需要提供额外的电源（通常使用电调（ESC）连接到APM舵机输出端）。&lt;/p&gt;
&lt;p&gt;如果使用的是USB传输线，像下图一样进行连接：&lt;/p&gt;
&lt;p&gt;&lt;img alt="2" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/07/IMG_4805.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;如果使用是FTDI传输线，像下图一样进行连接，注意将传输线中的黑线与黄线标记出来：&lt;/p&gt;
&lt;p&gt;&lt;img alt="3" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/07/IMG_4804.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;设置Sketchbook目录文件夹&lt;/h3&gt;
&lt;p&gt;接下来你必须定义Arduino的"Sketches"文件目录（Arduino要使用的包含程序代码的文件集合）和库。&lt;/p&gt;
&lt;p&gt;创建一个你可以找到的文件夹，可以在你的&lt;strong&gt;文档&lt;/strong&gt;目录或桌面其它地方。（如果你曾经使用过Arduino，可能已经设置了某个路径）。运行Arduino IDE，打开&lt;strong&gt;Preferences&lt;/strong&gt;对话框。设置Sketchbook位置为你刚创建的或使用的Sketchbook文件夹。下图是我电脑上的位置：&lt;/p&gt;
&lt;p&gt;&lt;img alt="4" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/07/sketchfile.png" /&gt;&lt;/p&gt;
&lt;p&gt;一旦你改变了目录，就必须重启Arduino让程序自动检测并识别。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;设置板子类型&lt;/h3&gt;
&lt;p&gt;在Arduino IDE修改版中，有一个新添加的菜单项“ArduPilot”，它可以用来设置板子类型。&lt;/p&gt;
&lt;p&gt;对于2.9.1或更早版本的Arducopter，应该在该菜单下选择“None”，并且在“Tools”菜单中确保板子类型为“ArduinoMega 2560 or Mega ADK”。如果正在使用的是APM2，你需要将APM_Comfig.h文件中的第5行代码取消注释（如最底部截图所示）。
对于2.9.1之后的版本，应该设置ArduPilot/HAL Board为“ArduPilot Mega 1”或者“ArduPilot Mega 2.x”，这取决于你使用的板子类型&lt;/p&gt;
&lt;p&gt;注意：进行上述操作后需要重启Arduino IDE。&lt;/p&gt;
&lt;p&gt;&lt;img alt="5" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/07/ArduinoIDEmodified.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="6" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/07/ArduinoAPMConfig.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/load-the-code-onto-apm2x/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sun, 01 Feb 2015 12:48:01 +0800</pubDate><guid>tag:liung.github.io,2015-02-01:blog/apm/2015-02-01-APM-加载代码到APM2.x.html</guid><category>APM</category></item><item><title>APM-MAVLink命令集</title><link>http://liung.github.io/blog/apm/2015-01-29-APM-mavlink_commands.html</link><description>&lt;h3&gt;APM 2.0 命令集&lt;/h3&gt;
&lt;p&gt;
APM 2.0版本已经采用部分MAVLink消息协议。&lt;a href="http://diydrones.com/group/arducopterusergroup/forum/topics/mavlink-tutorial-for-absolute-dummies-part-i?xg_source=activity"&gt;这里&lt;/a&gt;有一份“傻瓜式指南”直接对MAVLink进行操作。&lt;/p&gt;
&lt;p&gt;APM命令集以14个字节形式存储，字节对应的含义如下表所示：&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;Byte #&lt;/th&gt;
&lt;th align="center"&gt;Address&lt;/th&gt;
&lt;th align="center"&gt;Data type&lt;/th&gt;
&lt;th align="center"&gt;Function&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0x00&lt;/td&gt;
&lt;td align="center"&gt;byte&lt;/td&gt;
&lt;td align="center"&gt;Command ID&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0x01&lt;/td&gt;
&lt;td align="center"&gt;byte&lt;/td&gt;
&lt;td align="center"&gt;Options&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;2&lt;/td&gt;
&lt;td align="center"&gt;0x02&lt;/td&gt;
&lt;td align="center"&gt;byte&lt;/td&gt;
&lt;td align="center"&gt;Parameter 1&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;0x03&lt;/td&gt;
&lt;td align="center"&gt;long&lt;/td&gt;
&lt;td align="center"&gt;Parameter 2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;4&lt;/td&gt;
&lt;td align="center"&gt;0x04&lt;/td&gt;
&lt;td align="center"&gt;..&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;0x05&lt;/td&gt;
&lt;td align="center"&gt;..&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;6&lt;/td&gt;
&lt;td align="center"&gt;0x06&lt;/td&gt;
&lt;td align="center"&gt;..&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;7&lt;/td&gt;
&lt;td align="center"&gt;0x07&lt;/td&gt;
&lt;td align="center"&gt;long&lt;/td&gt;
&lt;td align="center"&gt;Parameter 3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;8&lt;/td&gt;
&lt;td align="center"&gt;0x08&lt;/td&gt;
&lt;td align="center"&gt;..&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;9&lt;/td&gt;
&lt;td align="center"&gt;0x09&lt;/td&gt;
&lt;td align="center"&gt;..&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;10&lt;/td&gt;
&lt;td align="center"&gt;0x0A&lt;/td&gt;
&lt;td align="center"&gt;..&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;11&lt;/td&gt;
&lt;td align="center"&gt;0x0B&lt;/td&gt;
&lt;td align="center"&gt;long&lt;/td&gt;
&lt;td align="center"&gt;Parameter 4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;12&lt;/td&gt;
&lt;td align="center"&gt;0x0C&lt;/td&gt;
&lt;td align="center"&gt;..&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;13&lt;/td&gt;
&lt;td align="center"&gt;0x0D&lt;/td&gt;
&lt;td align="center"&gt;..&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;14&lt;/td&gt;
&lt;td align="center"&gt;0x0E&lt;/td&gt;
&lt;td align="center"&gt;..&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;导航命令-这些参数都包含有lat和lon&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;导航参数具有最高的优先级。对于ID比导航命令更高的命令，当下次导航命令接收到时未被执行的命令将直接被丢弃，所以规划/队列命令集具有差异。&lt;/p&gt;
&lt;p&gt;例如，当航点到达时，正准备执行CMD_MAV_CONDITION命令时又紧接着接收到||ox10命令（导航命令），这时未被执行的CMD_MAV_CONDITION和CMD_MAV_DO命令会直接跳过，加载下一个导航命令。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Command ID hex/decimal&lt;/th&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Parameter 1&lt;/th&gt;
&lt;th&gt;Altitude&lt;/th&gt;
&lt;th&gt;Latitude&lt;/th&gt;
&lt;th&gt;Longitude&lt;/th&gt;
&lt;th&gt;notes&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0x10 / 16&lt;/td&gt;
&lt;td&gt;MAV_CMD_NAV_WAYPOINT&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;altitude&lt;/td&gt;
&lt;td&gt;lat&lt;/td&gt;
&lt;td&gt;lon&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0x11 / 17&lt;/td&gt;
&lt;td&gt;MAV_CMD_NAV_LOITER_UNLIM&lt;/td&gt;
&lt;td&gt;(indefinitely)&lt;/td&gt;
&lt;td&gt;altitude&lt;/td&gt;
&lt;td&gt;lat&lt;/td&gt;
&lt;td&gt;lon&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0x12 / 18&lt;/td&gt;
&lt;td&gt;MAV_CMD_NAV_LOITER_TURNS&lt;/td&gt;
&lt;td&gt;turns&lt;/td&gt;
&lt;td&gt;altitude&lt;/td&gt;
&lt;td&gt;lat&lt;/td&gt;
&lt;td&gt;lon&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0x13 / 19&lt;/td&gt;
&lt;td&gt;MAV_CMD_NAV_LOITER_TIME&lt;/td&gt;
&lt;td&gt;time (seconds*10)&lt;/td&gt;
&lt;td&gt;altitude&lt;/td&gt;
&lt;td&gt;lat&lt;/td&gt;
&lt;td&gt;lon&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0x14 / 20&lt;/td&gt;
&lt;td&gt;MAV_CMD_NAV_RETURN_TO_LAUNCH&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;altitude&lt;/td&gt;
&lt;td&gt;lat&lt;/td&gt;
&lt;td&gt;lon&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0x15 / 21&lt;/td&gt;
&lt;td&gt;MAV_CMD_NAV_LAND&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;altitude&lt;/td&gt;
&lt;td&gt;lat&lt;/td&gt;
&lt;td&gt;lon&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0x16 / 22&lt;/td&gt;
&lt;td&gt;MAV_CMD_NAV_TAKEOFF&lt;/td&gt;
&lt;td&gt;takeoff pitch&lt;/td&gt;
&lt;td&gt;altitude&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;NOTE: for command 0x16 the value takeoff pitch specifies the minimum pitch for the case with airspeed sensor and the target pitch for the case without.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0x17 / 23&lt;/td&gt;
&lt;td&gt;MAV_CMD_NAV_TARGET&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;altitude&lt;/td&gt;
&lt;td&gt;lat&lt;/td&gt;
&lt;td&gt;lon&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;微型飞行器相关命令-这些命令具有终止和完成任务标准，例如“到达航点”或者“到达指定高度”&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Command ID&lt;/th&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Parameter 1&lt;/th&gt;
&lt;th&gt;Parameter 2&lt;/th&gt;
&lt;th&gt;Parameter 3&lt;/th&gt;
&lt;th&gt;Parameter 4&lt;/th&gt;
&lt;th&gt;notes&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0x70 / 112&lt;/td&gt;
&lt;td&gt;MAV_CMD_CONDITION_DELAY&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;time (seconds)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0x71 / 113&lt;/td&gt;
&lt;td&gt;MAV_CMD_CONDITION_CHANGE_ALT&lt;/td&gt;
&lt;td&gt;rate (cm/sec)&lt;/td&gt;
&lt;td&gt;alt (finish)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;Note: rate must be &amp;gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;10 cm/sec due to integer math&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0x72 / 114&lt;/td&gt;
&lt;td&gt;MAV_CMD_CONDITION_DISTANCE&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;distance (meters)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;实时命令（Now Comands）-这些命令集如果检测到存在新的可用实时命令将立刻执行&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;注意：当前DO_XXX命令集需要该命令之后存在一个缓冲航点&lt;/strong&gt;&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Command ID&lt;/th&gt;
&lt;th&gt;Name&lt;/th&gt;
&lt;th&gt;Parameter 1&lt;/th&gt;
&lt;th&gt;Parameter 2&lt;/th&gt;
&lt;th&gt;Parameter 3&lt;/th&gt;
&lt;th&gt;Parameter 4&lt;/th&gt;
&lt;th&gt;notes&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;0xB1 / 177&lt;/td&gt;
&lt;td&gt;MAV_CMD_DO_JUMP&lt;/td&gt;
&lt;td&gt;index&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;repeat count&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;Note: The repeat count must be greater than 1 for the command to execute. Use a repeat count of 1 if you intend a single use.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0xB2 / 178&lt;/td&gt;
&lt;td&gt;MAV_CMD_DO_CHANGE_SPEED&lt;/td&gt;
&lt;td&gt;Speed type&lt;/td&gt;
&lt;td&gt;Speed (m/s)&lt;/td&gt;
&lt;td&gt;Throttle (Percent)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;"(0Airspeed&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Ground Speed)(-1 indicates no change)(-1 indicates no change)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0xB3 / 179&lt;/td&gt;
&lt;td&gt;MAV_CMD_DO_SET_HOME&lt;/td&gt;
&lt;td&gt;Use current&lt;/td&gt;
&lt;td&gt;altitude&lt;/td&gt;
&lt;td&gt;lat&lt;/td&gt;
&lt;td&gt;lon&lt;/td&gt;
&lt;td&gt;"(1use current location&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;use specified location)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0xB4 / 180&lt;/td&gt;
&lt;td&gt;MAV_CMD_DO_SET_PARAMETER&lt;/td&gt;
&lt;td&gt;Param number&lt;/td&gt;
&lt;td&gt;Param value&lt;/td&gt;
&lt;td&gt;(NOT CURRENTLY IMPLEMENTED IN APM)&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0xB5 / 181&lt;/td&gt;
&lt;td&gt;MAV_CMD_DO_SET_RELAY&lt;/td&gt;
&lt;td&gt;Relay number&lt;/td&gt;
&lt;td&gt;On/off (1/0)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0xB6 / 182&lt;/td&gt;
&lt;td&gt;MAV_CMD_DO_REPEAT_RELAY&lt;/td&gt;
&lt;td&gt;Relay number&lt;/td&gt;
&lt;td&gt;Cycle count&lt;/td&gt;
&lt;td&gt;Cycle time (sec)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;"Note: Max cycle time = 60 sec&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0xB7 / 183&lt;/td&gt;
&lt;td&gt;MAV_CMD_DO_SET_SERVO&lt;/td&gt;
&lt;td&gt;Servo number (5-8)&lt;/td&gt;
&lt;td&gt;On/off (1/0)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;0xB6 / 184&lt;/td&gt;
&lt;td&gt;MAV_CMD_DO_REPEAT_SERVO&lt;/td&gt;
&lt;td&gt;Servo number (5-8)&lt;/td&gt;
&lt;td&gt;Cycle count&lt;/td&gt;
&lt;td&gt;Cycle time (sec)&lt;/td&gt;
&lt;td&gt;-&lt;/td&gt;
&lt;td&gt;"Note: Max cycle time = 60 sec&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/mavlink-commands/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Thu, 29 Jan 2015 17:45:52 +0800</pubDate><guid>tag:liung.github.io,2015-01-29:blog/apm/2015-01-29-APM-mavlink_commands.html</guid><category>APM</category><category>MAVLink</category></item><item><title>APM-MAVLink参数集</title><link>http://liung.github.io/blog/apm/2015-01-29-APM-mavlink_parameters.html</link><description>

&lt;p&gt;本页面列出了所有用户可修改的MAVLink参数及这些参数的作用。用户可以使用任何兼容的地面站软件通过MAVLink参数窗口对这些参数进行修改，比如Mission Planner，APM Planner或者QGroundControl。&lt;a href="http://diydrones.com/group/arducopterusergroup/forum/topics/mavlink-tutorial-for-absolute-dummies-part-i?xg_source=activity"&gt;这里&lt;/a&gt;有一份“傻瓜式指南”直接对MAVLink进行操作。
&lt;/p&gt;
&lt;p&gt;本列表包含了所有固定翼（&lt;code&gt;APM:Plane/ArduPlane&lt;/code&gt;）和旋翼（&lt;code&gt;APM:Copter/ArduCopter&lt;/code&gt;）的参数。有些参数可能平台相关。&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align="left"&gt;EEPROM variable name&lt;/th&gt;
&lt;th align="center"&gt;Min&lt;/th&gt;
&lt;th align="center"&gt;Max&lt;/th&gt;
&lt;th align="center"&gt;Default&lt;/th&gt;
&lt;th align="center"&gt;Multiplier&lt;/th&gt;
&lt;th align="center"&gt;Enabled (0 = no, 1 = yes)&lt;/th&gt;
&lt;th align="left"&gt;Comment&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td align="left"&gt;MAH&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;CURRENT_ENABLE&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;AOA&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;MAG_ENABLE&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;HDNG2RLL_P&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;0.7&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_ROLL_P - Navigation control gains. Tuning values for the navigation control PID loops. The P term is the primary tuning value. This determines how the control deflection varies in proportion to the required correction.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;HDNG2RLL_I&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0.01&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_ROLL_I - Navigation control gains. Tuning values for the navigation control PID loops. The I term is used to control drift.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;HDNG2RLL_D&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0.02&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_ROLL_D - Navigation control gains. Tuning values for the navigation control PID loops. The D term is used to control overshoot. Avoid adjusting this term if you are not familiar with tuning PID loops.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;HDNG2RLL_IMAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;3000&lt;/td&gt;
&lt;td align="center"&gt;500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_ROLL_INT_MAX_CENTIDEGREE - In Degrees - Maximum control offset due to the integral. This prevents the control output from being overdriven due to a persistent offset (e.g. native flight AoA). If you find this value is insufficient consider adjusting the AOA parameter.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RLL2SRV_P&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;0.4&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_ROLL_P - Attitude control gains - Tuning values for the attitude control PID loops. The P term is the primary tuning value. This determines how the control deflection varies in proportion to the required correction.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RLL2SRV_I&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_ROLL_I - Attitude control gains - Tuning values for the attitude control PID loops. The I term is used to help control surfaces settle. This value should normally be kept low.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RLL2SRV_D&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_ROLL_D - Attitude control gains - Tuning values for the attitude control PID loops. The D term is used to control overshoot. Avoid using or adjusting this term if you are not familiar with tuning PID loops. It should normally be zero for most aircraft.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RLL2SRV_IMAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;3000&lt;/td&gt;
&lt;td align="center"&gt;500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_ROLL_INT_MAX_CENTIDEGREE - In Degrees - Maximum control offset due to the integral. This prevents the control output from being overdriven due to a persistent offset (e.g. crosstracking). Default is 5 degrees.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;PTCH2SRV_P&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;0.6&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_PITCH_P - Attitude control gains - Tuning values for the attitude control PID loops. The P term is the primary tuning value. This determines how the control deflection varies in proportion to the required correction.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;PTCH2SRV_I&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_PITCH_I - Attitude control gains - Tuning values for the attitude control PID loops. The I term is used to help control surfaces settle. This value should normally be kept low.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;PTCH2SRV_D&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_PITCH_D - Attitude control gains - Tuning values for the attitude control PID loops. The D term is used to control overshoot. Avoid using or adjusting this term if you are not familiar with tuning PID loops. It should normally be zero for most aircraft.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;PTCH2SRV_IMAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;3000&lt;/td&gt;
&lt;td align="center"&gt;500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_PITCH_INT_MAX_CENTIDEGREE - In Degrees - Maximum control offset due to the integral. This prevents the control output from being overdriven due to a persistent offset (e.g. crosstracking). Default is 5 degrees.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ARSPD2PTCH_P&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;0.65&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_PITCH_ASP_P - P. I and D terms for pitch adjustments made to maintain airspeed.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ARSPD2PTCH_I&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_PITCH_ASP_I - P. I and D terms for pitch adjustments made to maintain airspeed.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ARSPD2PTCH_D&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_PITCH_ASP_D - P. I and D terms for pitch adjustments made to maintain airspeed.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ARSPD2PTCH_IMA&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;3000&lt;/td&gt;
&lt;td align="center"&gt;500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_PITCH_ASP_INT_MAX_CMSEC - In Degrees - Maximum pitch offset due to the integral. This limits the control output from being overdriven due to a persistent offset (eg. inability to maintain the programmed airspeed).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;YW2SRV_P&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_YAW_P - P. I and D terms for the YAW control. Note units of this control loop are unusual. PID input is in m/s2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;YW2SRV_I&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_YAW_I - P. I and D terms for the YAW control. Note units of this control loop are unusual. PID input is in m/s2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;YW2SRV_D&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_YAW_D - P. I and D terms for the YAW control. Note units of this control loop are unusual. PID input is in m/s2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;YW2SRV_IMAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;3000&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SERVO_YAW_INT_MAX - Maximum control offset due to the integral. This prevents the control output from being overdriven due to a persistent offset (e.g. crosstracking).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ENRGY2THR_P&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;0.5&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;THROTTLE_TE_P - P. I and D terms for throttle adjustments made to control altitude.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ENRGY2THR_I&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;THROTTLE_TE_I - P. I and D terms for throttle adjustments made to control altitude.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ENRGY2THR_D&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;THROTTLE_TE_D - P. I and D terms for throttle adjustments made to control altitude.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ENRGY2THR_IMAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;20&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;THROTTLE_TE_INT_MAX - In Percent - Maximum throttle input due to the integral term. This limits the throttle from being overdriven due to a persistent offset (e.g. inability to maintain the programmed altitude).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ALT2PTCH_P&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;0.65&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_PITCH_ALT_P - P. I and D terms for pitch adjustments made to maintain altitude.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ALT2PTCH_I&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_PITCH_ALT_I - P. I and D terms for pitch adjustments made to maintain altitude.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ALT2PTCH_D&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_PITCH_ALT_D - P. I and D terms for pitch adjustments made to maintain altitude.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ALT2PTCH_IMAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;3000&lt;/td&gt;
&lt;td align="center"&gt;500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;NAV_PITCH_ALT_INT_MAX_CM - In Meters - Maximum pitch offset due to the integral. This limits the control output from being overdriven due to a persistent offset (eg. inability to maintain the programmed altitude).&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;KFF_PTCHCOMP&lt;/td&gt;
&lt;td align="center"&gt;-3&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;0.2&lt;/td&gt;
&lt;td align="center"&gt;0.01&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;PITCH_COMP - In Percent - Adds pitch input to compensate for the loss of lift due to roll control.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;KFF_RDDRMIX&lt;/td&gt;
&lt;td align="center"&gt;-3&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;0.5&lt;/td&gt;
&lt;td align="center"&gt;0.01&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;RUDDER_MIX - Roll to yaw mixing. This allows for co-ordinated turns.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;KFF_PTCH2THR&lt;/td&gt;
&lt;td align="center"&gt;-3&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;P_TO_T - Pitch to throttle feed-forward gain.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;KFF_THR2PTCH&lt;/td&gt;
&lt;td align="center"&gt;-3&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;T_TO_P - Throttle to pitch feed-forward gain.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;XTRK_GAIN_SC&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;XTRACK_GAIN_SCALED - Default value is 1.0 degrees per metre. Values lower than 0.001 will disable crosstrack compensation.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ALT_MIX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0.01&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"ALTITUDE_MIX - In Percent - Configures the blend between GPS and pressure altitude. 0 = GPS altitude&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ARSPD_RATIO&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;1.9936&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;AIRSPEED_RATIO - Adjust AIRSPEED_RATIO in small increments to calibrate the airspeed sensor relative to your GPS. The calculation and default value are optimized for speeds around 12 m/s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;WP_RADIUS&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;td align="center"&gt;30&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"WP_RADIUS_DEFAULT - When the user performs a factory reset on the APM&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;WP_LOITER_RAD&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;200&lt;/td&gt;
&lt;td align="center"&gt;60&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"LOITER_RADIUS_DEFAULT - When the user performs a factory reset on the APM&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ARSPD_FBW_MIN&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;6&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;AIRSPEED_FBW_MIN - In m/s - Airspeed corresponding to minimum and maximum throttle in Fly By Wire B mode.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ARSPD_FBW_MAX&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;22&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;AIRSPEED_FBW_MAX - In m/s - Airspeed corresponding to minimum and maximum throttle in Fly By Wire B mode. AIRSPEED_FBW_MAX also sets the maximum airspeed that the cruise airspeed can be ※§nudged§§ to in AUTO mode when ENABLE_STICK_MIXING is set. In AUTO the cruise airspeed can be increased between AIRSPEED_CRUISE and AIRSPEED_FBW_MAX by positioning the throttle stick in the top 1/2 of its range. Throttle stick in the bottom 1/2 provide regular AUTO control.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_MIN&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"THROTTLE_MIN - The minimum throttle setting to which the autopilot will reduce the throttle while descending. The default is zero&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_MAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;75&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;THROTTLE_MAX - The maximum throttle setting the autopilot will apply. The default is 75%. Reduce this value if your aicraft is overpowered or has complex flight characteristics at high throttle settings.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_FAILSAFE&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;THROTTLE_FAILSAFE - The throttle failsafe allows you to configure a software failsafe activated by a setting on the throttle input channel (channel 3). This can be used to achieve a failsafe override on loss of radio control without having to sacrifice one of your FLIGHT_MODE settings as the throttle failsafe overrides the switch-selected mode. Throttle failsafe is enabled by setting THROTTLE_FAILSAFE to 1.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_FS_ACTION&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;2&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;THROTTLE_FAILSAFE_ACTION - The FAILSAFE_ACTION setting determines what APM will do when throttle failsafe mode is entered while flying in AUTO mode. This is important in order to avoid accidental failsafe behaviour when flying waypoints that take the aircraft temporarily out of radio range. If FAILSAFE_ACTION is 1 when failsafe is entered in AUTO or LOITER modes the aircraft will head for home in RTL mode. If the throttle channel moves back up it will return to AUTO or LOITER mode. The default behavior is to ignore throttle failsafe in AUTO and LOITER modes.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;TRIM_THROTTLE&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;90&lt;/td&gt;
&lt;td align="center"&gt;45&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;THROTTLE_CRUISE - In Percent - The approximate throttle setting to achieve AIRSPEED_CRUISE in level flight. The default is 45% which is reasonable for a modestly powered aircraft.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;TRIM_AUTO&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;AUTO_TRIM - ArduPilot Mega can update its trim settings by looking at the radio inputs when switching out of MANUAL mode. This allows you to manually trim your aircraft before switching to an assisted mode but it also means that you should avoid switching out of MANUAL while you have any control stick deflection.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLTMODE_CH&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;8&lt;/td&gt;
&lt;td align="center"&gt;8&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"FLIGHT_MODE_CHANNEL - Flight modes assigned to the control channel&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLIGHT_MODE_1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;14&lt;/td&gt;
&lt;td align="center"&gt;11&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;"FLIGHT_MODE_1 - The following standard flight modes are available: MANUAL = Full manual control via the hardware multiplexer. STABILIZE = Tries to maintain level flight but can be overridden with radio control inputs. FLY_BY_WIRE_A = Autopilot style control via user input with manual throttle. FLY_BY_WIRE_B = Autopilot style control via user input&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLIGHT_MODE_2&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;14&lt;/td&gt;
&lt;td align="center"&gt;11&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;FLIGHT_MODE_2&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLIGHT_MODE_3&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;14&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;FLIGHT_MODE_3&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLIGHT_MODE_4&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;14&lt;/td&gt;
&lt;td align="center"&gt;5&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;FLIGHT_MODE_4&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLIGHT_MODE_5&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;14&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;FLIGHT_MODE_5&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLIGHT_MODE_6&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;14&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;FLIGHT_MODE_6&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC1_MIN&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC1_MIN - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC1_MAX&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC1_MAX - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC1_TRIM&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1200&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC1_TRIM - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC2_MIN&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC2_MIN - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC2_MAX&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC2_MAX - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC2_TRIM&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1200&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC2_TRIM - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC3_MIN&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC3_MIN - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC3_MAX&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC3_MAX - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC3_TRIM&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC3_TRIM - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC4_MIN&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC4_MIN - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC4_MAX&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC4_MAX - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC4_TRIM&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1200&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_RC4_TRIM - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC5_MIN&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH5_MIN - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC5_MAX&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH5_MAX - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC5_MAX&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH5_MAX - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC5_TRIM&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH5_TRIM - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC6_MIN&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH6_MIN - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC6_MAX&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH6_MAX - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC6_TRIM&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH6_TRIM - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC7_MIN&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH7_MIN - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC7_MAX&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH7_MAX - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC7_TRIM&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH7_TRIM - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC8_MIN&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH8_MIN - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC8_MAX&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH8_MAX - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC8_TRIM&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PWM_CH8_TRIM - Radio Settings - all radio settings represent the period of the pulse width modulated signal. Typically 1000 ms is the lower limit&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;IMU_OFFSET_0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;IMU_OFFSET_0 - IMU Calibration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;IMU_OFFSET_1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;IMU_OFFSET_1 - IMU Calibration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;IMU_OFFSET_2&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;IMU_OFFSET_2 - IMU Calibration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;IMU_OFFSET_3&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;IMU_OFFSET_3 - IMU Calibration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;IMU_OFFSET_4&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;IMU_OFFSET_4 - IMU Calibration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;IMU_OFFSET_5&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;IMU_OFFSET_5 - IMU Calibration&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;YAW_MODE&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;YAW_MODE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;WP_MODE&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;WP_MODE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;WP_TOTAL&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;255&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;WP_TOTAL&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;WP_INDEX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;255&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;WP_INDEX&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;CONFIG&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;CONFIG_OPTIONS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SWITCH_ENABLE&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"REVERS_SWITCH_ENABLE - 0 = Off&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FIRMWARE_VER&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;FIRMWARE_VER&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;LOG_BITMASK&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;65535&lt;/td&gt;
&lt;td align="center"&gt;334&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;LOG_BITMASK&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;TRIM_ELEVON&lt;/td&gt;
&lt;td align="center"&gt;900&lt;/td&gt;
&lt;td align="center"&gt;2100&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;TRIM_ELEVON&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_FS_VALUE&lt;/td&gt;
&lt;td align="center"&gt;850&lt;/td&gt;
&lt;td align="center"&gt;1000&lt;/td&gt;
&lt;td align="center"&gt;950&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"THROTTLE_FS_VALUE - If the throttle failsafe is enabled&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;TRIM_ARSPD_CM&lt;/td&gt;
&lt;td align="center"&gt;500&lt;/td&gt;
&lt;td align="center"&gt;5000&lt;/td&gt;
&lt;td align="center"&gt;1200&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"AIRSPEED_CRUISE_CM - The speed in metres per second to maintain during cruise. The default is 10m/s&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;GND_TEMP&lt;/td&gt;
&lt;td align="center"&gt;-10&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;28&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;GND_TEMP - Ground Temperature&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;AP_OFFSET&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;AP_OFFSET&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;TRIM_PITCH_CD&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;TRIM_PITCH_CD&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ALT_HOLD_RTL&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;20000&lt;/td&gt;
&lt;td align="center"&gt;10000&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;ALT_HOLD_HOME_CM - When the user performs a factory reset on the APM. Sets the flag for weather the current altitude or ALT_HOLD_HOME altitude should be used for Return To Launch. Also sets the value of USE_CURRENT_ALT in meters. This is mainly intended to allow users to start using the APM without programming a mission first.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;XTRK_ANGLE_CD&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;6000&lt;/td&gt;
&lt;td align="center"&gt;3000&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;XTRACK_ENTRY_ANGLE_CENTIDEGREE - Maximum angle used to correct for track following.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ROLL_SRV_MAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;4500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="left"&gt;ROLL_SERVO_MAX_CENTIDEGREE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;PITCH_SRV_MAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;4500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="left"&gt;PITCH_SERVO_MAX_CENTIDEGREE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RUDER_SRV_MAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;4500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="left"&gt;RUDDER_SERVO_MAX_CENTIDEGREE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;LIM_ROLL_CD&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;6000&lt;/td&gt;
&lt;td align="center"&gt;4500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;HEAD_MAX_CENTIDEGREE - The maximum commanded bank angle in either direction. The default is 45 degrees. Decrease this value if your aircraft is not stable or has difficulty maintaining altitude in a steep bank.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;LIM_PITCH_MAX&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;6000&lt;/td&gt;
&lt;td align="center"&gt;1500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"PITCH_MAX_CENTIDEGREE - The maximum commanded pitch up angle. The default is 15 degrees. Care should be taken not to set this value too large&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;LIM_PITCH_MIN&lt;/td&gt;
&lt;td align="center"&gt;-6000&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;-2500&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;PITCH_MIN_CENTIDEGREE - The maximum commanded pitch down angle. Note that this value must be negative. The default is -25 degrees. Care should be taken not to set this value too large as it may result in overspeeding the aircraft.&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;GND_ALT_CM&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;500000&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;GND_ALT_CM&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;GND_ABS_PRESS&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;GND_ABS_PRESS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;COMPASS_DEC&lt;/td&gt;
&lt;td align="center"&gt;-1.57075&lt;/td&gt;
&lt;td align="center"&gt;1.57075&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;COMPASS_DEC - Compass Declination&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR0_EXT_STAT&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"TELEMETRY_ENABLE Port 0 - Enable GPS_STATUS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR0_EXTRA1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;10&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;TELEMETRY_ENABLE Port 0 - Enable MSG_ATTITUDE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR0_EXTRA2&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;TELEMETRY_ENABLE Port 0 - Enable MSG_VFR_HUD&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR0_EXTRA3&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;TELEMETRY_ENABLE Port 0 - Not currently used&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR0_POSITION&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"TELEMETRY_ENABLE Port 0 - Enable LOCAL_POSITION&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR0_RAW_CTRL&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"TELEMETRY_ENABLE Port 0 - Enable ATTITUDE_CONTROLLER_OUTPUT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR0_RAW_SENS&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"TELEMETRY_ENABLE Port 0 - Enable IMU_RAW&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR0_RC_CHAN&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;3&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"TELEMETRY_ENABLE Port 0 - Enable RC_CHANNELS_SCALED&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR3_EXT_STAT&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"TELEMETRY_ENABLE Port 3 - Enable GPS_STATUS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR3_EXTRA1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;TELEMETRY_ENABLE Port 3 - Enable MSG_ATTITUDE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR3_EXTRA2&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;TELEMETRY_ENABLE Port 3 - Enable MSG_VFR_HUD&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR3_EXTRA3&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;TELEMETRY_ENABLE Port 3 - Not currently used&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR3_POSITION&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"TELEMETRY_ENABLE Port 3 - Enable LOCAL_POSITION&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR3_RAW_CTRL&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"TELEMETRY_ENABLE Port 3 - Enable ATTITUDE_CONTROLLER_OUTPUT&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR3_RAW_SENS&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"TELEMETRY_ENABLE Port 3 - Enable IMU_RAW&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SR3_RC_CHAN&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;50&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"TELEMETRY_ENABLE Port 3 - Enable RC_CHANNELS_SCALED&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;MAG_ENABLE&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"MAG_ENABLE - 0 = Off&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ARSPD_ENABLE&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"AIRSPEED_ENABLE - 0 = Off&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;BATT_CAPACITY&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;10000&lt;/td&gt;
&lt;td align="center"&gt;1760&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;BATTERY_MAH - Battery capacity in mAh&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;BATT_MONITOR&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;4&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"BATTERY_MONITOR - The value should be set to 0 to disable battery monitoring&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FS_GCS_ENABL&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"FS_GCS_ENABLE - 0 = Off&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FS_LONG_ACTN&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"FS_LONG_ACTION - 0 = Off&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FS_SHORT_ACTN&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"FS_SHORT_ACTION - 0 = Off&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYSID_MYGCS&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;255&lt;/td&gt;
&lt;td align="center"&gt;255&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SYSID_MYGCS - The system ID of the GCS&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYSID_THISMAV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;255&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;SYSID_THISMAV - The system ID of the MAVlink vehicle&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;AOA&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_PIT_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_PIT_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_PIT_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_PIT_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_RLL_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_RLL_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_RLL_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_RLL_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_YAW_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_YAW_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_YAW_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ACR_YAW_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ESC&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;ESC_CALIBRATE_MODE&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FRAME&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;FRAME_ORIENTATION&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;LOITER_RADIUS&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_LAT_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_LAT_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_LAT_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_LAT_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_LON_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_LON_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_LON_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_LON_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_WP_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_WP_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_WP_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;NAV_WP_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;PITCH_MAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SONAR_ENABLE&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"SONAR_ENABLE - 0 = Off&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_PIT_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_PIT_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_PIT_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_PIT_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_RLL_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_RLL_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_RLL_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_RLL_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_YAW_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_YAW_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_YAW_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;STB_YAW_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_BAR_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_BAR_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_BAR_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_BAR_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soo&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_SON_D&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_SON_I&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_SON_IMAX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_SON_P&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;WP_MODE&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;WP_MUST_INDEX&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;XTRACK_ANGLE&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;XTRK_GAIN&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ARSPD_OFFSET&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ELEVON_CH1_REV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;ELEVON_CHANNEL1_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ELEVON_CH2_REV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;ELEVON_CHANNEL2_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ELEVON_MIXING&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"ELEVON_MIXING - 0 = Disabled&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;ELEVON_REVERSE&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;ELEVON_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;INVERTEDFLT_CH&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;8&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"INVERTED_FLIGHT_CHANNEL - Channel to select inverted flight mode&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC1_REV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;RC_CHANNEL1_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC2_REV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;RC_CHANNEL2_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC3_REV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;RC_CHANNEL3_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC4_REV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;RC_CHANNEL4_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC5_REV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;RC_CHANNEL5_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC6_REV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;RC_CHANNEL6_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC7_REV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;RC_CHANNEL7_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;RC8_REV&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;RC_CHANNEL8_REVERSE - Channel Reversing (Future use on APM board 2.0) - Does not override dip switches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYSID_SW_MREV&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;SYSID_SW_TYPE&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;Description coming soon&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;THR_SLEWRATE&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;100&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="left"&gt;"THROTTLE_SLEW_RATE - 0 = Disabled&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLTMODE1&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;20&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;"FLIGHT_MODE_1 - Mode switch setting 1 - APM: 0 = Manual&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLTMODE2&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;20&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;"FLIGHT_MODE_2 - Mode switch setting 2 - APM: 0 = Manual&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLTMODE3&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;20&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;"FLIGHT_MODE_3 - Mode switch setting 3 - APM: 0 = Manual&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLTMODE4&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;20&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;"FLIGHT_MODE_4 - Mode switch setting 4 - APM: 0 = Manual&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLTMODE5&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;20&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;"FLIGHT_MODE_5 - Mode switch setting 5 - APM: 0 = Manual&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td align="left"&gt;FLTMODE6&lt;/td&gt;
&lt;td align="center"&gt;0&lt;/td&gt;
&lt;td align="center"&gt;20&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;1&lt;/td&gt;
&lt;td align="center"&gt;&lt;/td&gt;
&lt;td align="left"&gt;"FLIGHT_MODE_6 - Mode switch setting 6 - APM: 0 = Manual&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/mavlink-parameters/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Thu, 29 Jan 2015 17:45:52 +0800</pubDate><guid>tag:liung.github.io,2015-01-29:blog/apm/2015-01-29-APM-mavlink_parameters.html</guid><category>APM</category><category>MAVLink</category></item><item><title>APM-GPS原始输出</title><link>http://liung.github.io/blog/apm/2015-01-29-APM-GPS_input_raw.html</link><description>&lt;h3&gt;原始GPS输出&lt;/h3&gt;
&lt;p&gt;
本页面用来说明GPS模块原始的输出形式。如果你在GPS的正常测试过程中遇到问题，那么这些命令可能有助于你进行调试。
&lt;/p&gt;
&lt;p&gt;&lt;em&gt;大多数用户不推荐，仅用于GPS底层硬件调试&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;如果你想要以ASCII格式查看GPS输出，在测试命令窗口将该行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Serial&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;incoming&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;BYTE&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// will output Byte values&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;改为:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Serial&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;incoming&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="n"&gt;ASCII&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt; &lt;span class="c1"&gt;// will output ASCII values&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/gps_input_raw/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Thu, 29 Jan 2015 15:39:21 +0800</pubDate><guid>tag:liung.github.io,2015-01-29:blog/apm/2015-01-29-APM-GPS_input_raw.html</guid><category>APM</category></item><item><title>APM-GPS指南</title><link>http://liung.github.io/blog/apm/2015-01-29-APM-GPS-Guide.html</link><description>



&lt;h3&gt;GPS指南&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;//  *EXPLAINED*   &lt;/span&gt;
&lt;span class="c1"&gt;// Diydrones is a Open source site and different people use different quipement,&lt;/span&gt;
&lt;span class="c1"&gt;// because of this there are different GPS modules available to use and APM needs to be told wich one you have purchased.&lt;/span&gt;
&lt;span class="c1"&gt;//  &lt;/span&gt;
&lt;span class="c1"&gt;//  *INSTRUCTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;// Look at the list of GPS modules below, look for your specific module and define it as follows&lt;/span&gt;
&lt;span class="c1"&gt;// example&amp;quot; #define GPS_PROTOCOL GPS_PROTOCOL_UBLOX &amp;quot; please note that only the &amp;quot;GPS_PROTOCOL_UBLOX &amp;quot; part of the statement changes &lt;/span&gt;
&lt;span class="c1"&gt;// and your&amp;#39;s should look identical after editing.&lt;/span&gt;
&lt;span class="c1"&gt;//   &lt;/span&gt;
&lt;span class="c1"&gt;//   *AVAILABLE OPPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_NONENo GPS attached&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_IMU X-Plane interface or ArduPilot IMU.&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_MTK MediaTek-based GPS.&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_MTK16   MediaTek GPS with firmware 1.6&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_UBLOX   UBLOX GPS&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_SIRFSiRF-based GPS in Binary mode.  NOT TESTED&lt;/span&gt;
&lt;span class="c1"&gt;//  ******************&lt;/span&gt;
&lt;span class="c1"&gt;//   *SELECTED OPPTION*&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;GPS_PROTOCOL&lt;/span&gt; &lt;span class="no"&gt;GPS_PROTOCOL_UBLOX&lt;/span&gt;
&lt;span class="c1"&gt;//  ******************&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/gps_guide/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Thu, 29 Jan 2015 14:36:02 +0800</pubDate><guid>tag:liung.github.io,2015-01-29:blog/apm/2015-01-29-APM-GPS-Guide.html</guid><category>APM</category></item><item><title>APM-Combo4</title><link>http://liung.github.io/blog/apm/2015-01-28-APM-Combo4.html</link><description>



&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;//-------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;GPS_PROTOCOL&lt;/span&gt; &lt;span class="no"&gt;GPS_PROTOCOL_MTK&lt;/span&gt;
&lt;span class="c1"&gt;//   *AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_NONENo GPS attached&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_IMU X-Plane interface or ArduPilot IMU.&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_MTK MediaTek-based GPS.&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_MTK16   MediaTek GPS with firmware 1.6&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_UBLOX   UBLOX GPS&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_SIRFSiRF-based GPS in Binary mode.  NOT TESTED&lt;/span&gt;
&lt;span class="c1"&gt;//-------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;AIRSPEED_SENSOR&lt;/span&gt; &lt;span class="no"&gt;ENABLED&lt;/span&gt;
&lt;span class="c1"&gt;//   *AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;//  #define AIRSPEED_SENSOR DISABLED&lt;/span&gt;
&lt;span class="c1"&gt;//  #define AIRSPEED_SENSOR ENABLED&lt;/span&gt;
&lt;span class="c1"&gt;//-------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;SERIAL3_BAUD&lt;/span&gt;   &lt;span class="mh"&gt;57600&lt;/span&gt;
&lt;span class="c1"&gt;//   *AVAILABLE SPEED OPTIONS*   NOTE: When choosing a speed for APM, you need to configure your Xbee modules and GCS for that same speed)&lt;/span&gt;
&lt;span class="c1"&gt;//  #define SERIAL3_BAUD   9600  &lt;/span&gt;
&lt;span class="c1"&gt;//  #define SERIAL3_BAUD   19200  &lt;/span&gt;
&lt;span class="c1"&gt;//  #define SERIAL3_BAUD   38400&lt;/span&gt;
&lt;span class="c1"&gt;//  #define SERIAL3_BAUD   57600&lt;/span&gt;
&lt;span class="c1"&gt;//  #define SERIAL3_BAUD   115200&lt;/span&gt;
&lt;span class="c1"&gt;//-------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;GCS_PORT&lt;/span&gt;  &lt;span class="mh"&gt;3&lt;/span&gt; 
&lt;span class="c1"&gt;// *AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;// #  define GCS_PORT    0  (APM will send information through the mini usb port) &lt;/span&gt;
&lt;span class="c1"&gt;// #  define GCS_PORT    3  (APM will send information through the Telemport to be sent wirelessly by Xbee module)&lt;/span&gt;
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//--------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;GCS_PROTOCOL&lt;/span&gt; &lt;span class="no"&gt;GCS_PROTOCOL_LEGACY&lt;/span&gt;
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;// *AVAILABLE OPTIONS* &lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_NONE  No GCS output&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_STANDARD  standard APM protocol&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_SPECIAL   special test protocol (?)&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_LEGACYlegacy ArduPilot protocol&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_XPLANEHIL simulation ground station&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_IMU   ArdiPilot IMU output&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_JASON Jason&amp;#39;s special secret GCS&lt;/span&gt;
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//--------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;BATTERY_EVENT&lt;/span&gt; &lt;span class="no"&gt;ENABLED&lt;/span&gt;
&lt;span class="c1"&gt;//   &lt;/span&gt;
&lt;span class="c1"&gt;//*AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;// #define BATTERY_EVENT  ENABLED&lt;/span&gt;
&lt;span class="c1"&gt;// #define BATTERY_EVENT  DISABLED&lt;/span&gt;
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//---------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;BATTERY_TYPE&lt;/span&gt;  &lt;span class="mh"&gt;1&lt;/span&gt; 
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//*AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;//  #define BATTERY_TYPE 1&lt;/span&gt;
&lt;span class="c1"&gt;//  #define BATTERY_TYPE 0&lt;/span&gt;
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//---------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;LOW_VOLTAGE&lt;/span&gt;  &lt;span class="mf"&gt;11.4&lt;/span&gt;  
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//*AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;//  What ever you consider as a low voltage&lt;/span&gt;
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//---------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;INPUT_VOLTAGE&lt;/span&gt; &lt;span class="mf"&gt;5.0&lt;/span&gt; 
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//*AVAILABE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;//   The default value is 5.0 measure for other input value&lt;/span&gt;
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//---------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;VOLT_DIV_RATIO&lt;/span&gt;  &lt;span class="mf"&gt;3.0&lt;/span&gt; 
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//*AVAILABLE OPTIONS*&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/combo_4/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Wed, 28 Jan 2015 14:36:02 +0800</pubDate><guid>tag:liung.github.io,2015-01-28:blog/apm/2015-01-28-APM-Combo4.html</guid><category>APM</category></item><item><title>APM-Combo3</title><link>http://liung.github.io/blog/apm/2015-01-28-APM-Combo3.html</link><description>



&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;//-------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;GPS_PROTOCOL&lt;/span&gt; &lt;span class="no"&gt;GPS_PROTOCOL_MTK&lt;/span&gt;
&lt;span class="c1"&gt;//   *AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_NONENo GPS attached&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_IMU X-Plane interface or ArduPilot IMU.&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_MTK MediaTek-based GPS.&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_MTK16   MediaTek GPS with firmware 1.6&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_UBLOX   UBLOX GPS&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_SIRFSiRF-based GPS in Binary mode.  NOT TESTED&lt;/span&gt;
&lt;span class="c1"&gt;//-------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;AIRSPEED_SENSOR&lt;/span&gt; &lt;span class="no"&gt;ENABLED&lt;/span&gt;
&lt;span class="c1"&gt;//   *AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;//  #define AIRSPEED_SENSOR DISABLED&lt;/span&gt;
&lt;span class="c1"&gt;//  #define AIRSPEED_SENSOR ENABLED&lt;/span&gt;
&lt;span class="c1"&gt;//-------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;SERIAL3_BAUD&lt;/span&gt;   &lt;span class="mh"&gt;57600&lt;/span&gt;
&lt;span class="c1"&gt;//   *AVAILABLE SPEED OPTIONS*   NOTE: When choosing a speed for APM, you need to configure your Xbee modules and GCS for that same speed)&lt;/span&gt;
&lt;span class="c1"&gt;//  #define SERIAL3_BAUD   9600  &lt;/span&gt;
&lt;span class="c1"&gt;//  #define SERIAL3_BAUD   19200  &lt;/span&gt;
&lt;span class="c1"&gt;//  #define SERIAL3_BAUD   38400&lt;/span&gt;
&lt;span class="c1"&gt;//  #define SERIAL3_BAUD   57600&lt;/span&gt;
&lt;span class="c1"&gt;//  #define SERIAL3_BAUD   115200&lt;/span&gt;
&lt;span class="c1"&gt;//-------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;GCS_PORT&lt;/span&gt;  &lt;span class="mh"&gt;3&lt;/span&gt; 
&lt;span class="c1"&gt;// *AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;// #  define GCS_PORT    0  (APM will send information through the mini usb port) &lt;/span&gt;
&lt;span class="c1"&gt;// #  define GCS_PORT    3  (APM will send information through the Telemport to be sent wirelessly by Xbee module)&lt;/span&gt;
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;//--------------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;GCS_PROTOCOL&lt;/span&gt; &lt;span class="no"&gt;GCS_PROTOCOL_LEGACY&lt;/span&gt;
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="c1"&gt;// *AVAILABLE OPTIONS* &lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_NONENo GCS output&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_STANDARDstandard APM protocol&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_SPECIAL special test protocol (?)&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_LEGACY  legacy ArduPilot protocol&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_XPLANE  HIL simulation ground station&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_IMU ArdiPilot IMU output&lt;/span&gt;
&lt;span class="c1"&gt;// GCS_PROTOCOL_JASON   Jason&amp;#39;s special secret GCS protocol&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/combo_3/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Wed, 28 Jan 2015 14:35:01 +0800</pubDate><guid>tag:liung.github.io,2015-01-28:blog/apm/2015-01-28-APM-Combo3.html</guid><category>APM</category></item><item><title>APM-Combo2</title><link>http://liung.github.io/blog/apm/2015-01-28-APM-Combo2.html</link><description>



&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;//-------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;GPS_PROTOCOL&lt;/span&gt; &lt;span class="no"&gt;GPS_PROTOCOL_MTK&lt;/span&gt;
&lt;span class="c1"&gt;//   *AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_NONENo GPS attached&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_IMU X-Plane interface or ArduPilot IMU.&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_MTK MediaTek-based GPS.&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_MTK16   MediaTek GPS with firmware 1.6&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_UBLOX   UBLOX GPS&lt;/span&gt;
&lt;span class="c1"&gt;// GPS_PROTOCOL_SIRFSiRF-based GPS in Binary mode.  NOT TESTED&lt;/span&gt;
&lt;span class="c1"&gt;//-------------------------------&lt;/span&gt;
&lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="no"&gt;AIRSPEED_SENSOR&lt;/span&gt; &lt;span class="no"&gt;ENABLED&lt;/span&gt;
&lt;span class="c1"&gt;//   *AVAILABLE OPTIONS*&lt;/span&gt;
&lt;span class="c1"&gt;//  #define AIRSPEED_SENSOR DISABLED&lt;/span&gt;
&lt;span class="c1"&gt;//  #define AIRSPEED_SENSOR ENABLED&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/combo_2/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Wed, 28 Jan 2015 14:28:05 +0800</pubDate><guid>tag:liung.github.io,2015-01-28:blog/apm/2015-01-28-APM-Combo2.html</guid><category>APM</category></item><item><title>飞行器相关站点</title><link>http://liung.github.io/blog/fei-xing-qi/2015-01-27-web_site_about_aircraft.html</link><description>&lt;h3&gt;飞行器设计站点&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;http://mach-up.com/&lt;/li&gt;
&lt;/ol&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Tue, 27 Jan 2015 16:16:17 +0800</pubDate><guid>tag:liung.github.io,2015-01-27:blog/fei-xing-qi/2015-01-27-web_site_about_aircraft.html</guid></item><item><title>APM-使用Visual Studio编译Mission Planner</title><link>http://liung.github.io/blog/apm/2015-01-24-APM-%E4%BD%BF%E7%94%A8Visual_Studio%E7%BC%96%E8%AF%91Mission_Planner.html</link><description>&lt;h3&gt;简介&lt;/h3&gt;


&lt;p&gt;Mission Planner（简称MP）是一款Windows平台使用（可通过mono实现Mac平台上的跨平台使用）的开源地面站软件，主要开发语言采用C#。该软件是目前使用最普遍的一款地面站软件，它不仅面向各种载具提供了完备地功能性设置，还提供了飞行任务规划、飞行实时监测、飞行后日志文件分析等功能。
&lt;/p&gt;
&lt;p&gt;本页面将介绍如何在自己的电脑上使用微软的Visual Studio2013软件编译Mission Planner。能够顺利的完成编译工作不仅对你想要在Mission Planner上需要添加的某些变化或者面向社区的改进等非常有用，而且可以对于开发编译个人定制地面站软件是一个很好的指导。&lt;/p&gt;
&lt;p&gt;深入研究之前的一些警告：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用个人改变/编译Mission Planner版的风险由本人承担&lt;/li&gt;
&lt;li&gt;Mission Planner具有非常复杂的库包含关系，不推荐概念模糊就改编代码。这里列出了你需要对MP做出可信改变的一些基本技术能力：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;● 具备C#编程技术与相关经验（至少有C++相关经验）&lt;/p&gt;
&lt;p&gt;● 具有微软VS开发环境相关经验。MP不是学习VS的入门应用。&lt;/p&gt;
&lt;p&gt;● 具有Windows的API（应用程序接口），包括理解数据流、进程、线程等相关知识。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;VS的相关支持，C#编程相关以及Windows API相关技术可能不会从DIY Drones社区获得。你需要从其他资源获得帮助与支持。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;系统需求&lt;/h3&gt;
&lt;p&gt;你需要：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows XP, Vista, 7, 8&lt;/li&gt;
&lt;li&gt;足够的硬盘空间、内存、处理器用来运行VS（具体内容见下文）&lt;/li&gt;
&lt;li&gt;网络连接通畅&lt;/li&gt;
&lt;li&gt;Visual Studio 2013社区版&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;安装Visual Studio 和 DirectX&lt;/h3&gt;
&lt;p&gt;第一步安装&lt;a href="http://www.visualstudio.com/"&gt;Visual Studio 2013&lt;/a&gt;，并且保证在Windows系统中能够正常运行。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;下载并安装MS Visual Studio 2013社区版（&lt;a href="http://www.visualstudio.com/"&gt;点击这里&lt;/a&gt;）&lt;/li&gt;
&lt;li&gt;重启电脑&lt;/li&gt;
&lt;li&gt;从开始按钮中运行Visual Studio&lt;/li&gt;
&lt;li&gt;当安装完成后，尝试改变Mission Planner之前先使用一个简单的“Hello World”例子测试一下你安装的软件能否正常使用。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;通过下载并运行 &lt;a href="http://www.microsoft.com/en-us/download/confirmation.aspx?id=35"&gt;DirectX End-User Runtime Web Installer&lt;/a&gt;，完成DirectX的安装。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;从Github中得到源代码&lt;/h3&gt;
&lt;p&gt;Mission Planner源代码储存在Github网站上。你可以遵循之前如何获取&lt;a href="http://dev.ardupilot.com/wiki/buildin-mission-planner/wiki/where-to-get-the-code/"&gt;ardupilot飞行代码&lt;/a&gt;的介绍在 &lt;a href="https://github.com/diydrones/MissionPlanner"&gt;https://github.com/diydrones/MissionPlanner&lt;/a&gt;代码库中获取得到Mission Planner源代码。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;在Visual Studio中打开Mission Planner&lt;/h3&gt;
&lt;p&gt;&lt;img alt="img1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/06/MPBuild_OpenSolution-1024x703.png" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;运行Visual Studio&lt;/li&gt;
&lt;li&gt;点击 文件 &amp;gt;&amp;gt; 打开 &amp;gt;&amp;gt; 工程 / 解决方案&lt;/li&gt;
&lt;li&gt;导航到Mission Planner文件夹，选择ArdupilotMega.sla文件打开&lt;/li&gt;
&lt;li&gt;Visual Studio应该打开包含有Mission Planner和其他一些相关引用（如“3DR Radio”, “Updater”等）的相关解决方案（solution）,可以在“解决方案”资源管理器面板看到（上图黄色高亮区域）&lt;/li&gt;
&lt;li&gt;设置“Solution Configuration”为“Debug”或者“Release”（可在工具菜单下找到相关命令）&lt;/li&gt;
&lt;li&gt;设置“Solution Platforms”为“x86″&lt;/li&gt;
&lt;li&gt;在“解决方案”管理器面板中，在Mission Planner项右击选择属性，在Signing（签名）选型卡中取消选中“Sign the ClickOnce manifests”(为ClickOnce清单签名)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="img2" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/06/MPBuild_UncheckSigning-1024x641.png" /&gt;&lt;/p&gt;
&lt;p&gt;Mission Planner有如下几个工程项目组成，你可以通过在解决方案面板中打开“Mission Planner”和“Libs”文件夹看到。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;MissionPlanner (主代码)&lt;/li&gt;
&lt;li&gt;AviFile&lt;/li&gt;
&lt;li&gt;BaseClasses&lt;/li&gt;
&lt;li&gt;BSE.Windows.Forms&lt;/li&gt;
&lt;li&gt;Core&lt;/li&gt;
&lt;li&gt;GeoUtility&lt;/li&gt;
&lt;li&gt;GMap.Net.Core&lt;/li&gt;
&lt;li&gt;GMap.Net.WindowsForms&lt;/li&gt;
&lt;li&gt;KMLib&lt;/li&gt;
&lt;li&gt;MAVLink&lt;/li&gt;
&lt;li&gt;MetaDataExtractor&lt;/li&gt;
&lt;li&gt;MissionPlanner.Comms&lt;/li&gt;
&lt;li&gt;MissionPlanner.Controls&lt;/li&gt;
&lt;li&gt;MissionPlanner.Utils&lt;/li&gt;
&lt;li&gt;px4uploader&lt;/li&gt;
&lt;li&gt;SharpKml&lt;/li&gt;
&lt;li&gt;ZedGraph&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;编译Mission Planner&lt;/h3&gt;
&lt;p&gt;在尝试编译Mission Planner之前，还必须在你的电脑上安装官方安装版Mission Planner。这是因为有一些动态库文件.dll没有包含在Git代码库中。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img3" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/06/MPBuild_BatchBuild-1024x741.png" /&gt;&lt;/p&gt;
&lt;p&gt;选择Build &amp;gt;&amp;gt; Batch Build…（生成 &amp;gt;&amp;gt; 批生成），“Select All”（全选），然后点击“Rebuild”（重新生成）。第一次尝试编译Mission Planner时可能会出现一些错误，所以多尝试几次。&lt;/p&gt;
&lt;p&gt;如果一些错误仍然存在，那么试着使用下面这些方法：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于缺失dlls相关的错误:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;● 解决方案面板中，在MissionPlanner工程上右击选择属性，参考路径。&lt;/p&gt;
&lt;p&gt;● 在文件选择窗口，选择已经安装的Mission Planner文件目录，其可能为： C:\Program Files (x86)\Mission Planner 或者 C:\Program Files\Mission Planner&lt;/p&gt;
&lt;p&gt;● 点击添加文件夹按钮，然后将已安装的Mission Planner文件目录输入到参考目录框中。&lt;/p&gt;
&lt;p&gt;● 点击(选择)编译事件。移除所有预编译pre-build和编译后（Post build）选项。&lt;/p&gt;
&lt;p&gt;● 点击 (选择)编译。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;对于缺失索引相关错误，可以查看每个列出的错误对应的工程名。然后选择相应工程的属性，和之前一样添加已安装版Mission Planner安装目录。这样应该可以减少此类错误。&lt;/li&gt;
&lt;li&gt;如果在工程BSE.Windows.Forms中遇到类似“..could not locate the Code Analysis tool at”。你可以在BSE.Windows.Forms属性选项中的Code Analysis通过取消勾选代码分析选型来解决。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;解决编译错误时一些有用的帮助:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在VS中，当你进行编译或者预编译一个解决方案时，选择菜单项[BUILD] [Configuration Manager]，将会显示出每次哪个项目将被编译。&lt;/li&gt;
&lt;li&gt;选择编译那些未被选中的项目: (例如 3DRRadio, Updater, wix)&lt;/li&gt;
&lt;li&gt;选择 [Build], [Clean Solution] 然后 [Build], [Rebuild solution].&lt;/li&gt;
&lt;li&gt;所有的工程应该都可以被正确编译.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;当编译中没有错误发生时，那么你就可以准备开始浏览并编辑源代码了。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;编译SimpleExample&lt;/h3&gt;
&lt;p&gt;&lt;img alt="img4" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/06/MPBuild_SimpleExampleRun-1024x582.png" /&gt;&lt;/p&gt;
&lt;p&gt;“SimpleExample”方案作为一个微型应用，用来说明一个C#程序如何与载具连接，并且控制它解锁与上锁。这个简单的例子与完整的Mission Planner相比具有更少的依赖性，因此编译工作相当容易理解。&lt;/p&gt;
&lt;p&gt;首先，从Visual Studio的 File &amp;gt;&amp;gt; Open &amp;gt;&amp;gt; Project/Solution 中打开Solution面板。然后在MissionPlanner代码目录选择&lt;code&gt;ExtLibs/SimpleExample.sln&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;选择 Build &amp;gt;&amp;gt; Build Solution 选项，确保程序能够成功的被编译。&lt;/p&gt;
&lt;p&gt;完成上述工作后，接下来第一步先要检查能够正常连接到你的飞行控制板，并且使用已安装的Mission Planner软件能够正常解锁，然后断开常规的Mission Planner，点击“Start”按钮使用debug模式运行程序。当面板“Florm1”弹出后，选择正确的COM端口和波特率（一般115200），点击“Connect”按钮。如果连接成功，点击“Arm/Disarm”按钮尝试解锁你的载具。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;编辑与调试Mission Planner (与其它温馨提示)&lt;/h3&gt;
&lt;p&gt;编辑与调试代码相关细节超出了本Wiki的范畴。调试结果可能会造成一些警告，你应该认真了解这些警告产生的原因并采取一些必要措施来解决。下面这些简单的调试例子可以让你有个很好的开始：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;编译MP时不要连接你的APM。你应该首先复制一些.xml文件到bin/degub文件夹。请查看下面的详细内容。&lt;/li&gt;
&lt;li&gt;首先确保VS软件配置为调试模式（相对于发布release）。可以在主菜单中的工具菜单或者配置管理器中进行相关设置。&lt;/li&gt;
&lt;li&gt;选择菜单 DEBUG, Start Debugging.   (或者按下 F5 键).  Mission Planner应该可以正常的运行，但是由于一些重要的配置文件处于丢失状态，所以此时不推荐连接APM。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;● 如果开始调试后，程序出现启动画面后挂起状态，并且得到如下信息：“Managed Debugging Assistant ‘LoaderLock’ has detected a problem …… “‘  and/or the debugger has paused at the line  Application.Run(new MainV2()); in ArdupilotMega.Program。这时应该选择：[Debug],  [Exceptions].打开[Managed Debugging Assistants].  取消勾选‘Loader Lock’。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;关闭MP。(或者在VS中选择菜单DEBUG, Stop Debugging)。&lt;/li&gt;
&lt;li&gt;接下来可以尝试在程序中设置断点：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;● 在VS的资源方案管理器中展开 ArdupilotMega 项目，这样你可以一目了然地查看包含的所有对象。&lt;/p&gt;
&lt;p&gt;● 滚动到MainV2.cs文件，文件对象上右击选择显示代码。&lt;/p&gt;
&lt;p&gt;● 在MainV2.cs的代码窗口，鼠标滚动到public MainV2()模块那一行。&lt;/p&gt;
&lt;p&gt;● &lt;code&gt;splash.Text = “Mission Planner ” + Application.ProductVersion + ” ” + strVersion;&lt;/code&gt;  (about line number 169)&lt;/p&gt;
&lt;p&gt;● 点击行首（左侧深灰色边条）设置断点（红色圆点）。&lt;/p&gt;
&lt;p&gt;● 点击调试（按键F5）。&lt;/p&gt;
&lt;p&gt;● 可以观察到MP正常开始启动并出现启动画面，然后程序停止运行。当你点击断点，Visual Studio将会显示代码并高亮断点。需要注意的是此时你不能移除启动屏幕，所以你需要重新调整VS窗口来观察断点位置。&lt;/p&gt;
&lt;p&gt;● 将鼠标移动到代码中不同的变量和对象上，会看到需要变量的当前值或当前对象的包含项。&lt;/p&gt;
&lt;p&gt;● 按下F5，Mission Planner会继续运行。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;编辑与调试代码更深入的细节留给用户自己探究。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;使用修改过的Mission Planner&lt;/h3&gt;
&lt;p&gt;如果你对Mission Planner做了一下改变，你可能想要使用你自己版本的MP。这里我们将提供给你一些关于这方面的初步的信息。你可以使用你本地编译过的版本，但是VS中编译输出的文件位于不同位置，这需要一些额外的步骤。有一些和Mission Planner安装相关的文件没有包含在Github上的代码库中，而仅在Mission Planner安装包文件中提供。所以你需要复制这些文件到你正在使用的Visual Studio工程文件文件的正确位置。可以从下面步骤入手：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;使用你自己硬盘中改变/编译过的Mission Planner版本。&lt;/li&gt;
&lt;li&gt;这些步骤假定VS处在调试模式。&lt;/li&gt;
&lt;li&gt;为了使你VS中MP的版本和APM能够连接，你需要复制一些文件从你之前MP的安装目录(C:\Program Files (x86)\APM Planner  or C:\Program Files\APM Planner)复制到你的VS工程编译文件输出目录。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;● 从MP安装版的根目录(C:\Program Files\APM Planner)复制（不是移动）所有的xml文件(例如 files with the extension .xml)到需要调试的Mission Planner方案存储路径中的bin/Debug目录下。这样就会设置你编译的版本与你的APM当前配置文件相一致(旋翼VS固定翼，其他选项等)。&lt;/p&gt;
&lt;p&gt;● 例如， 如果你的工程目录为MPGitClone，那么复制.xml文件到MPGitClone\bin\Debug。复制过程中可能会提示是否要替换已存在的文件。选择替换所有文件，此步骤之前你应该进行深入分析并确保你的MP在实际情况下能够正常工作。&lt;/p&gt;
&lt;p&gt;● 如果你在发布模式下编译Mission Planner，那么文件应该复制到bin/Release目录下。该操作目前还没有进行测试。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;这里有一些相关提示：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;● 当使用自己版本的日志文件存储目录将会位于/bin/Debug或者bin/Release文件目录下。这可以在Mission Planner 1.2.63和之后的版本中改变。&lt;/p&gt;
&lt;p&gt;● 如果你想通过快捷方式来运行个人版本的Mission Planner而又不运行Visual Studio软件，可以创建一个快捷方式链接到bin/Debug或bin/Release子目录下的程序ArdupilotMegaPlanner10.exe。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;此时当运行本地个人版本Mission Planner时，你应该已经可以和你的APM相连接。包含状态的飞行数据应该可以正常工作，并且可以上载APM参数，终端应该也可以正常保存和浏览日志信息。和之前提到过的一样，使用本地硬盘的个人版Mission Planner，飞行规划也应该可以工作。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;代码主分支中确认你的改动&lt;/h3&gt;
&lt;p&gt;衷心提出和Ardupilot飞行代码一样的建议，如下几个要点：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Github上注册账户&lt;/li&gt;
&lt;li&gt;通过 &lt;a href="https://github.com/diydrones/MissionPlanner"&gt;https://github.com/diydrones/MissionPlanner&lt;/a&gt; 点击右上角的Fork按钮，创建个人账户的Mission Planner的镜像代码。&lt;/li&gt;
&lt;li&gt;“克隆”私人库代码（上一步中Fork的库）到本地电脑上。&lt;/li&gt;
&lt;li&gt;在私人库中建立新分支，提交改变并push到Github的私人仓库中。&lt;/li&gt;
&lt;li&gt;使用Github网站页面创建分支推送请求。&lt;/li&gt;
&lt;li&gt;Mission Planner维护人员(Michael Oborne)将会收到关于你推送的通知邮件。他会尽可能仔细地审查你的代码请求，并积极地向你反馈相关信息。如果请求通过，那么你的代码将会被添加到主分支master中。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/buildin-mission-planner/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sat, 24 Jan 2015 14:19:53 +0800</pubDate><guid>tag:liung.github.io,2015-01-24:blog/apm/2015-01-24-APM-使用Visual_Studio编译Mission_Planner.html</guid><category>APM</category><category>Mission Planner</category></item><item><title>无人机（UAV）</title><link>http://liung.github.io/blog/fei-xing-qi/UAV.html</link><description>&lt;h3&gt;美国&lt;/h3&gt;


&lt;p&gt;美国军方在为无人系统编写军用编号时，采用的是导弹序列的编号模式，即以“M”打头，之前，再加上前缀“Q”，这一做法有其历史。美军为无人系统采用“Q”的前缀，是为标示一些由有人战机改装而成的无人机，例如，QF-4就是一种由F-4战机改装的无人系统。1997年，军方深感未来无人系统将越来越多，原有使用加“Q”前缀的方法已不能满足需要，故将此“Q”前缀独立出来，成为无人系统的专用序列编号字母。对于各种用途不同的无人机，则采用类似加前缀的方法来区分，比如“R”（reconnoitre）前缀意为“侦察”，“M”（multipurpose）前缀意为“多用途”，即既可进行作战也可用于侦察。
&lt;/p&gt;
&lt;p&gt;下面列出了一些美国已知的无人机系列：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;RQ/MQ-1 “掠食者” /天空勇士  /蚊蚋 750&lt;/li&gt;
&lt;li&gt;RQ-2 先锋&lt;/li&gt;
&lt;li&gt;RQ-3  暗星 /臭鼬 /RQ-170 哨兵&lt;/li&gt;
&lt;li&gt;RQ-4 全球鹰  /  欧洲鹰&lt;/li&gt;
&lt;li&gt;RQ-5 猎手&lt;/li&gt;
&lt;li&gt;RQ-6A 警卫 &lt;/li&gt;
&lt;li&gt;RQ-7 阴影&lt;/li&gt;
&lt;li&gt;RQ-8/MQ-8  火力侦察兵&lt;/li&gt;
&lt;li&gt;MQ-9 收割者&lt;/li&gt;
&lt;li&gt;CQ-10 雪雁&lt;/li&gt;
&lt;li&gt;RQ-11B 大鸦&lt;/li&gt;
&lt;li&gt;RQ-14 龙眼 / 雨燕&lt;/li&gt;
&lt;li&gt;RQ-15 海王星&lt;/li&gt;
&lt;li&gt;RQ-16 狼蛛一鹰&lt;/li&gt;
&lt;li&gt;XMQ-17A 间谍鹰&lt;/li&gt;
&lt;li&gt;XMQ-18A/A-160T 蜂雀&lt;/li&gt;
&lt;li&gt;X-47B&lt;/li&gt;
&lt;li&gt;AD-150&lt;/li&gt;
&lt;li&gt;航空探测 Mk4&lt;/li&gt;
&lt;li&gt;MQM-171 阔剑&lt;/li&gt;
&lt;li&gt;破坏者 /  黑光&lt;/li&gt;
&lt;li&gt;鸬鹚  /  变形&lt;/li&gt;
&lt;li&gt;DP-5X  黄蜂  /  DP-5XT 短鼻鳄&lt;/li&gt;
&lt;li&gt;DP-7 蝙蝠 、DP-10X 飞镖  DP-11 刺刀&lt;/li&gt;
&lt;li&gt;达科他（Dakota）&lt;/li&gt;
&lt;li&gt;沙漠鹰&lt;/li&gt;
&lt;li&gt;鹰眼（Eagle Eye）&lt;/li&gt;
&lt;li&gt;亚瑟王神剑&lt;/li&gt;
&lt;li&gt;BQM-147可消耗无人机&lt;/li&gt;
&lt;li&gt;发现者&lt;/li&gt;
&lt;li&gt;全球观察者&lt;/li&gt;
&lt;li&gt;金眼&lt;/li&gt;
&lt;li&gt;高升限飞艇&lt;/li&gt;
&lt;li&gt;混合动力无人飞行器&lt;/li&gt;
&lt;li&gt;猎人-杀手&lt;/li&gt;
&lt;li&gt;杀手蜜蜂 / 蝙蝠&lt;/li&gt;
&lt;li&gt;翠鸟2&lt;/li&gt;
&lt;li&gt;合成者&lt;/li&gt;
&lt;li&gt;ISIS高空飞艇&lt;/li&gt;
&lt;li&gt;幼畜&lt;/li&gt;
&lt;li&gt;幻影射线&lt;/li&gt;
&lt;li&gt;指示器&lt;/li&gt;
&lt;li&gt;寂寞眼&lt;/li&gt;
&lt;li&gt;银狐&lt;/li&gt;
&lt;li&gt;天空之眼&lt;/li&gt;
&lt;li&gt;燕鸥&lt;/li&gt;
&lt;li&gt;黄蜂&lt;/li&gt;
&lt;li&gt;猫头鹰&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Mon, 19 Jan 2015 22:01:05 +0800</pubDate><guid>tag:liung.github.io,2015-01-19:blog/fei-xing-qi/UAV.html</guid></item><item><title>非线性非定常空气动力学建模论文摘要</title><link>http://liung.github.io/blog/fei-xing-qi/Nonlinear_Unsteady_Model_Notebook_about_Aircraft_Modeling_Papers.html</link><description>&lt;p&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;*&lt;em&gt;本笔记主要用来记录阅读飞行器非定常大攻角建模相关的文献和资料极其相关总结&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;hr&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Modeling-of-Aircraft-Unsteady-Aerodynamic-Characteristics."&gt;Modeling of Aircraft Unsteady Aerodynamic Characteristics.&lt;a class="anchor-link" href="#Modeling-of-Aircraft-Unsteady-Aerodynamic-Characteristics."&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;em&gt;by Vladislav Klein and Keith D.Noderer&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Part-1-Postulated-Model(NASA-1994)"&gt;Part 1 Postulated Model(NASA 1994)&lt;a class="anchor-link" href="#Part-1-Postulated-Model(NASA-1994)"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="summary"&gt;Summary&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;   介绍了目前非定常效应模型方程的一些方法和理论。主要提出了单位阶跃模型，并由此得到了飞行器积分微分运动方程；在第二部分提出了模型方程的状态空间形式。并在两个例子中运用非定常方程。一个例子是针对绕体轴的单自由度简谐运动；在另一个例子中提出了纵向短周期运动。上述两个例子仅关心模型方程的线性项。单位阶跃方法用指数方程和内在状态变量的形式假设，并且该方程是线性、时不变的一阶微分方程。同样，本文中还展示了两个不同的非定常空气动力模型会得到相同的仿真结果。在纵向短周期运动中，内在变量的辨识问题，如果涉及到从飞行数据的气动参数预估，将会做简要的介绍。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="aerodynamic-charactertics-in-terms-of-indicial-functions"&gt;Aerodynamic Charactertics in Terms of Indicial Functions&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;\begin{equation}
C_\alpha (t) = C_\alpha (\infty;\xi(t)) - \int_0^t F_{\alpha_\xi} (t- \tau;\xi(t))^T \frac{d}{d\tau} \xi (\tau) d \tau  \tag{1}
\end{equation}&lt;/p&gt;
&lt;p&gt;or&lt;/p&gt;
&lt;p&gt;\begin{align}
C_\alpha (t) &amp;amp;= C_\alpha (0) + \int_0^t C_{\alpha_\xi} (t- \tau))^T \frac{d}{d\tau} \xi (\tau) d \tau \\
             &amp;amp;= C_\alpha (0) + C_{\alpha_\xi}(\infty)^T \xi (\tau) - \int_0^t F_{\alpha_\xi} (t- \tau))^T \frac{d}{d\tau} \xi (\tau) d \tau   \tag{2}
\end{align}&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="examples"&gt;Examples&lt;/h3&gt;
&lt;blockquote&gt;
&lt;h4 id="harmonic-oscillatory-motion-"&gt;Harmonic Oscillatory Motion:&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;升力和俯仰力矩的表达形式：&lt;/p&gt;
&lt;p&gt;\begin{align}
C_L(t) &amp;amp;= C_L(\alpha (t),q(t)) \\
C_m (t)&amp;amp;= C_m(\alpha (t),q(t))
\end{align}&lt;/p&gt;
&lt;p&gt;通过指数模型和状态空间模型的对比。发现，这两种模型可以相互变换。（&lt;strong&gt;这一部分是重点，包括一些表达式的提出，处理，时域和频域的转换及相关傅里叶变换等等&lt;/strong&gt;）&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="Part-2-Parmaeters-Estimated-From-Wind-Tunnel-Data&amp;#65288;1995&amp;#65289;"&gt;Part 2 Parmaeters Estimated From Wind Tunnel Data&amp;#65288;1995&amp;#65289;&lt;a class="anchor-link" href="#Part-2-Parmaeters-Estimated-From-Wind-Tunnel-Data&amp;#65288;1995&amp;#65289;"&gt;&amp;#182;&lt;/a&gt;&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="summary"&gt;Summary&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;part 1 针对飞行器的单自由度、小振幅、简谐运动建立了一套非定常气动方程。该方程需要将模型的风洞试验数据进行参数预估。基于非线性最小二乘法的预估算法已经应用到70°三角翼和X-31模型的俯仰和滚转振荡试验和大攻角研究模型2（HIRM 2）的小策划试验中。上述试验的预估参数表明，该模型可以用简单的指数方程来解释测量得到的试验数据。预估得到的参数和模型验证的精准度强烈依赖于这些未知参数所对应的试验数据点的数量。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="introduction"&gt;Introduction&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;From the measured aerodynamic forces and moments are obtained. It has been a long-standing practice to analyze the oscillatory data by formulating the aerodynamic model equations with constant parameters known as stability derivatives. In this formulation,&lt;strong&gt;the in-phase component is a combination of a static derivative(such as $C_{m_\alpha}$) and a rotational acceleration derivative (such as $ C_{m_\dot{q}}$) whereas the out-of-phase component is a combination of a purely-rotary derivative (such as $ C_{m_q}$) and a translation acceleration derivative (such as $C_{m_\dot{\alpha}}$). 同相导数分量是一个静导数和一个旋转角加速度导数的组合，同时，反相导数是一个纯粹动导数和一个延伸（转化）加速度导数的组合。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="part-3-parameters-estimated-from-flight-data-1996-"&gt;Part 3 Parameters Estimated From Flight Data （1996）&lt;/h3&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="summary"&gt;Summary&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;本文进一步完善了基于非线性最小二乘法的飞行数据的参数预估算法。通过分析假设的模型来展示纵向和短周期飞行器运动。相对应的气动力方程包含了单位阶跃方程（含非线性项）和传统的稳定和控制导数，其中，单位阶跃方程采用简单的指数形式描述。在五个不同的试验中采用参数预估的方法。其中四组试验用于仿真和模拟来自F-18 HARV和X-31A飞行器的小振幅机动飞行数据。另外一组X-31 模型的快速大振幅机动试验之后也将被分析。通过小振幅振荡机动的气动数据分析可以得出，通过假设提出的气动方程模型得到的传统稳定和控制导数是足够准确的。并且，通过最后一组试验的参数预估表明，在快速大振幅机动运动中，非定常气动力和力矩并没有表现的很明显。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;hr&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Difficulties-in-the-Application-of-Stability-Derivatives-to-the-Manoeuvring-Aerodynamics-of-Combat-Aircraft(ICAS-1998-31466)"&gt;Difficulties in the Application of Stability Derivatives to the Manoeuvring Aerodynamics of Combat Aircraft(ICAS 1998-31466)&lt;a class="anchor-link" href="#Difficulties-in-the-Application-of-Stability-Derivatives-to-the-Manoeuvring-Aerodynamics-of-Combat-Aircraft(ICAS-1998-31466)"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;em&gt;by D.I.Greenwill from Defence Evaluation and Research Agency Bedford, UK&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="abstract"&gt;Abstract&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;本文展示了常规稳定性导数概念在许多理论和实践应用中是失效的，这是由于其最初的线化假设和六自由度运动方程的解耦目的。实际应用中，动导数提供了其数学上的修正，并且需要在飞行器运动输入参数中设定一个频率上限。本文将展示和讨论一系列运用动导数模型来仿真模拟战斗机的机动气动性能的试验难点。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;hr&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Simple-Wings-Unsteady-Aerodynamics-at-High-Angles-of-Attack:-Experimental-and-Modeling-Results.(AIAA-99-4013)"&gt;Simple Wings Unsteady Aerodynamics at High Angles of Attack: Experimental and Modeling Results.(AIAA-99-4013)&lt;a class="anchor-link" href="#Simple-Wings-Unsteady-Aerodynamics-at-High-Angles-of-Attack:-Experimental-and-Modeling-Results.(AIAA-99-4013)"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;em&gt;by N.B.Abramov,M.G.Goman,A.N.Khrabrov,K.A.kolinko&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="experimental-investigations"&gt;Experimental investigations&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;通过将给定时间间隔下固定迎角采集得到数据集周期平均，就可以计算出带有最小平均二乘残差的静态试验数据。对于动态设备采集得到的气动数据需要采用特殊的数据处理技术。通常实验情况下，驱动动态机构来模拟16个周期的振荡运动，然后使用截止频率为4.0Hz（$f_0 = 4.0 Hz$）的低通滤波器对采集数据进行光滑滤波。为了消除可能的低频信号干扰（$f\leqslant f_0$），多周期数据平均成一个周期的数据值。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="mathematical-modeling-"&gt;Mathematical modeling:&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;70°三角翼在大攻角时的流场结构主要是涡流和占主导地位并对所有气动响应产生明显时间迟滞效应的的动态涡破碎过程。考虑迎角和侧滑角大范围变化过程，翼面会产生不同的流场结构：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;1）未破碎涡流；2）一边涡破碎流；3）两侧涡同时破碎流；4）完全失速流（FSF）。&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;而这些不同流动结构的交叠区域就产生了所谓的临界状态或者分叉。数学模型中，这些状态的判断需要特殊考虑。&lt;/p&gt;
&lt;p&gt;非定常气动响应的特征时间量完全依赖于流场结构，并随着给定subarea的机翼的姿态角变化。&lt;strong&gt;涡破碎过程造成的特征时间量比由势流或未破碎涡流造成的特征时间量大一个量级。这就是这些流动结构气动贡献可以被分开考虑的原因。&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;所有的气动载荷归根结底都是反映了涡破碎或者流动分离的内部流场动态特性，所以可以由此假定：所有力和力矩的变化过程可以由一组相同的特征时间常数来表示。但是，气动力和力矩是模型总体气动载荷的不同表现形式，这就导致由于压心位置变化引起了力矩额外的特征时间量。&lt;/p&gt;
&lt;p&gt;$$C_m(t) = C_N(t)(x_0 - x_p(t))$$&lt;/p&gt;
&lt;p&gt;$C_N(t)$和$x_p(t)$都具有非定常效应（涡破碎引起），因此$C_N(t)$和$x_p(t)$的相乘会导致$C_m$额外的时间分量。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;hr&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Two-Step-Linear-Regression-Method-for-Identification-of-High-Incidence-Unsteady-Aerodynamic-Model.(AIAA-2001-4080)"&gt;Two-Step Linear Regression Method for Identification of High Incidence Unsteady Aerodynamic Model.(AIAA 2001-4080)&lt;a class="anchor-link" href="#Two-Step-Linear-Regression-Method-for-Identification-of-High-Incidence-Unsteady-Aerodynamic-Model.(AIAA-2001-4080)"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;em&gt;by N.B.Abramov,M.G.Goman,D.I.Greenwell,A.N.Khrabrov&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="unsteady-aerodynamic-modeling"&gt;Unsteady aerodynamic modeling&lt;/h3&gt;
&lt;blockquote&gt;
&lt;h4 id="linear-model"&gt;Linear model&lt;/h4&gt;
&lt;blockquote&gt;
&lt;p&gt;$$
C_N(t) = C_{N_{pt}}(\alpha) + C_{\dot{\alpha}_{pt}}(\alpha)\dot{\alpha} + C_{N_{dyn}}    \\
\tau \frac{dC_{N_{dyn}}}{dt} + C_{N_{dyn}} = \Delta C_{N_{vb}}(\alpha) \ref {1}
$$&lt;/p&gt;
&lt;p&gt;where: &lt;/p&gt;
&lt;p&gt;$t = \frac{tV_{oo}}{l}$无量纲时间，$\tau$ 是特征时间常数，$\Delta C_{N_{vb}}(\alpha) = C_{N_{st}}(\alpha) - C_{N_{pt}}(\alpha)$.&lt;/p&gt;
&lt;p&gt;小振幅振荡角度变化为：&lt;/p&gt;
&lt;p&gt;\begin{align}
\alpha &amp;amp;= \alpha_0 + \alpha_s sin\omega t    \\
\dot{\alpha} &amp;amp;= \omega \alpha_s cos \omega t
\end{align}&lt;/p&gt;
&lt;p&gt;where&lt;/p&gt;
&lt;p&gt;$$\omega = \frac{\Omega l }{  V_{\infty}}$$&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;hr&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="comparative-evaluation-of-unsteady-aerodynamic-modelling-approaches-aiaa-2004-5272-"&gt;Comparative Evaluation of Unsteady Aerodynamic Modelling Approaches (AIAA 2004-5272)&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;em&gt;by Hilton Kyle, Mark Lowenberg and Doug Greenwell&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="abstract"&gt;Abstract&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;主要讲了一些建模的方法：单位阶跃模型、状态空间模型、常微分方程建模等等方法。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;hr&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Estimation-of-Unsteady-Aerodynamic-Models-from-Dynamic-Wind-Tunnel-Data-(2011)"&gt;Estimation of Unsteady Aerodynamic Models from Dynamic Wind Tunnel Data (2011)&lt;a class="anchor-link" href="#Estimation-of-Unsteady-Aerodynamic-Models-from-Dynamic-Wind-Tunnel-Data-(2011)"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;em&gt;by Patrick C.Murphy and Vladislav Klein (from NASA)&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="abstract"&gt;Abstract&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;军用和民用飞行器日益苛刻的气动建模仿真需求促使研究人员不断改善计算和试验技术，并促进这些领域更深层次的合作。模型的辨识和验证问题是这些研究对象的主要部分。本文将给出一些数学模型结构和辨识技术，这些方法已经成功运用于大多数单自由度动态试验的模型仿真上。对于模型参数，气动特性变量的预估采用了在时域和频率中线性和非线性的回归方法。模型辨识的一些步骤，包括模型结构的论证、参数预估和模型验证，将在本文中采用单自由度风洞和水洞的试验数据一一说明。这些技术采用的方法，是在飞行动力学的应用中对计算方法工具的进一步扩展。因为对于早期的模型验证采用飞行试验不是一种通用的选择，所以在计算和实验结果的时间历程比较和评估模型的精准度将通过一些被证实的结果来验证。这些方法是对传统的通用模型参数预估和标准差比较的方法的一种扩展。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="introduction"&gt;Introduction&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;现代解决大攻角非线性问题一般有两个方向：&lt;/p&gt;
&lt;blockquote&gt;
&lt;ol&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;采用高精度的CFD方法&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;&lt;p&gt;&lt;strong&gt;通过高科技试验技术获取相应运动的气动响应，并后期进行系统辨识&lt;/strong&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;作者在该部分讲解了为何进行非定常气动建模，以及气动建模目前的途径，讲的比较好。&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="mathematical-model-structures"&gt;Mathematical Model Structures&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;数学模型一般包括&lt;strong&gt;飞行器的运动方程组&lt;/strong&gt;和&lt;strong&gt;气动力和力矩方程组（也就是气动模型方程）&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;常规飞行包线内，流场结构一般为附着流和准静态流，因此，气动模型方程用时不变线性项来表示（稳定性和控制导数）。而在常规飞行包线之外，这些气动项通常包含有时间作为自变量的气动项和非线性气动项。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="estimation-methods"&gt;Estimation Methods&lt;/h3&gt;
&lt;blockquote&gt;
&lt;h4 id="1-harmonic-analysis"&gt;1.    Harmonic Analysis&lt;/h4&gt;
&lt;h4 id="2-nonlinear-regression"&gt;2.    Nonlinear Regression&lt;/h4&gt;
&lt;h4 id="3-two-step-linear-regression"&gt;3.    Two-Step Linear Regression&lt;/h4&gt;
&lt;h4 id="4-equation-error-method"&gt;4.    Equation Error Method&lt;/h4&gt;
&lt;h4 id="5-output-error-method-frequency-domain-"&gt;5.    Output Error Method(Frequency Domain)&lt;/h4&gt;
&lt;h4 id="6-output-error-method-time-domain-"&gt;6.    Output Error Method(Time Domain)&lt;/h4&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Mon, 19 Jan 2015 13:36:33 +0800</pubDate><guid>tag:liung.github.io,2015-01-19:blog/fei-xing-qi/Nonlinear_Unsteady_Model_Notebook_about_Aircraft_Modeling_Papers.html</guid></item><item><title>飞行器相关基础知识</title><link>http://liung.github.io/blog/fei-xing-qi/Aircraft-Modeling-Knowledge.html</link><description>&lt;p&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="1&amp;#12289;&amp;#24179;&amp;#22343;&amp;#27668;&amp;#21160;&amp;#24358;&amp;#38271;"&gt;1&amp;#12289;&amp;#24179;&amp;#22343;&amp;#27668;&amp;#21160;&amp;#24358;&amp;#38271;&lt;a class="anchor-link" href="#1&amp;#12289;&amp;#24179;&amp;#22343;&amp;#27668;&amp;#21160;&amp;#24358;&amp;#38271;"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;平均空气动力弦长是—个假想矩形机翼的弦长，这一假想机翼的面积S和实际机翼的面积相等，它的力矩特性和实际机翼也相同。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;&lt;strong&gt;Wiki上的解释：&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;一般的飞行器，在机翼各个位置的翼弦长度不尽相同，因此便有其它的定义。在分析飞行器的性能时，最常用的是&lt;strong&gt;平均空气动力弦长&lt;/strong&gt;（平均气动弦长，mean aerodynamic chord，MAC，或是用$\bar{c}$表示)，其定义如下：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$\bar{c} = \frac{1}{S}\int_{-\frac{b}{2}}^{\frac{b}{2}} c^2(y) dy$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中$y$座标的方向是沿着机翼翼展方向，而$c(y)$则是在该位置上翼剖面的弦长。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;另外一种纯几何的定义为&lt;strong&gt;标准平均弦长&lt;/strong&gt;（standard mean chord，SMC）：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$SMC = \frac{S}{b}$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中$S$为翼面积，$b$为翼展长度。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="2&amp;#12289;&amp;#32553;&amp;#20943;&amp;#39057;&amp;#29575;&amp;#65288;reduced-frequency&amp;#65289;"&gt;2&amp;#12289;&amp;#32553;&amp;#20943;&amp;#39057;&amp;#29575;&amp;#65288;reduced frequency&amp;#65289;&lt;a class="anchor-link" href="#2&amp;#12289;&amp;#32553;&amp;#20943;&amp;#39057;&amp;#29575;&amp;#65288;reduced-frequency&amp;#65289;"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;定义：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$k = \frac{\omega l}{V} = 2\pi f \frac{l}{V}$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中：$\omega = 2\pi f $,圆频率。$V$ 表示风速。$l$ 表示特征长度（characteristic length）,对于纵向和横航向，分别有如下定义：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$l = \frac{\bar{c}}{2} \quad or \quad \frac{b}{2}$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中，$\bar{c}$为平均气动弦长。$b$为模型展长。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="3&amp;#12289;&amp;#26102;&amp;#38388;&amp;#30340;&amp;#26080;&amp;#37327;&amp;#32434;&amp;#21270;&amp;#65288;nondimensional-time&amp;#65289;"&gt;3&amp;#12289;&amp;#26102;&amp;#38388;&amp;#30340;&amp;#26080;&amp;#37327;&amp;#32434;&amp;#21270;&amp;#65288;nondimensional time&amp;#65289;&lt;a class="anchor-link" href="#3&amp;#12289;&amp;#26102;&amp;#38388;&amp;#30340;&amp;#26080;&amp;#37327;&amp;#32434;&amp;#21270;&amp;#65288;nondimensional-time&amp;#65289;"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;用 $t'$ 来表示无量纲化的时间，则：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$t' = \frac{t V}{l}$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;其中，$V$表示风速。$l$ 表示特征长度。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h4 id="4&amp;#12289;&amp;#20851;&amp;#20110;&amp;#21160;&amp;#23548;&amp;#25968;&amp;#38754;&amp;#31215;&amp;#31215;&amp;#20998;&amp;#27861;&amp;#30340;&amp;#29702;&amp;#35299;"&gt;4&amp;#12289;&amp;#20851;&amp;#20110;&amp;#21160;&amp;#23548;&amp;#25968;&amp;#38754;&amp;#31215;&amp;#31215;&amp;#20998;&amp;#27861;&amp;#30340;&amp;#29702;&amp;#35299;&lt;a class="anchor-link" href="#4&amp;#12289;&amp;#20851;&amp;#20110;&amp;#21160;&amp;#23548;&amp;#25968;&amp;#38754;&amp;#31215;&amp;#31215;&amp;#20998;&amp;#27861;&amp;#30340;&amp;#29702;&amp;#35299;"&gt;&amp;#182;&lt;/a&gt;&lt;/h4&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;用能量交换法来分析模型运动的稳定性：当飞机模型做俯仰振荡运动时。瞬时法向气动力的做功为：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$
\Delta E = F_m * \Delta l
$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;而$\Delta l$可以看做一小段弧长。所以有：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$\Delta l = rad(t)*R$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;这里，$R$ 代表飞机绕轴心做俯仰运动的半径。$rad(t)$ 代表瞬时的弧度。经过分析可以知道，飞行过程中，$R$ 可以看做是特征长度$b$。$rad(t)$ 可以认为有如下关系： &lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$rad(t) = \omega (t) * \Delta t = \dot{\alpha} (t) *\Delta t$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;另外，$F_m$ 可以如下表示：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$
F_m(t) = \frac{1}{2} \rho V_\infty^2 S C_m (t)= \bar{q} S C_m (t)
$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;整理可以得到：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$
\Delta E = \bar{q} S b C_m (t) \dot{\alpha} (t) \Delta t
$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;沿时间路径积分可以得出：&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;$$
E = \bar{q} S  b \int_{t_1}^{t_2} C_m (t) \dot{\alpha} (t) dt =  \bar{q} S  b \int_{C_{\alpha}} \!\!\!\!C_m (\alpha) d\alpha  
\overset{\underset{\mathrm{一个周期}}{}}{=====}
\bar{q} S  b \oint C_m (\alpha) d\alpha
$$&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="5-rk4-"&gt;5、求解一阶常微分方程的四阶龙格库塔方法（RK4）&lt;/h3&gt;
&lt;p&gt;数值分析中，龙格－库塔法（Runge-Kutta）是用于模拟常微分方程的解的重要的一类隐式或显式迭代法。这些技术由数学家卡尔·龙格和马丁·威尔海姆·库塔于1900年左右发明。龙格库塔法的家族中的一个成员如此常用，以至于经常被称为“RK4”或者就是“龙格库塔法”。该方法主要是在已知方程导数和初值信息，利用计算机仿真时应用，省去求解微分方程的复杂过程。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;关于初值问题表示如下：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;$$
y' = f(t,y)\quad,\quad y(t_0) = y_0
$$&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;则，对于该问题的RK4由如下方程给出&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;$$
y_{n+1} = y_n + \frac{h}{6}(k_1 + 2k_2 + 2k_3 + k4)
$$&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;其中：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;\begin{align}
k_1 &amp;amp;= f(t_n,y_n) \\
k_2 &amp;amp;= f(t_n + \frac{h}{2},y_n + \frac{h}{2}k_1) \\
k_3 &amp;amp;= f(t_n + \frac{h}{2},y_n + \frac{h}{2}k_2   \\
k_4 &amp;amp;= f(t_n + h,y_n + hk_3)
\end{align}&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;这样，下一个值($y_n+1$)由现在的值($y_n$)加上时间间隔($h$)和一个估算的斜率的乘积决定。该斜率是以下斜率的加权平均：&lt;/p&gt;
&lt;blockquote&gt;
&lt;li&gt;&lt;i&gt;k&lt;/i&gt;&lt;sub&gt;1&lt;/sub&gt;是时间段开始时的斜率；&lt;/li&gt;
&lt;li&gt;&lt;i&gt;k&lt;/i&gt;&lt;sub&gt;2&lt;/sub&gt;是时间段中点的斜率，通过欧拉法采用斜率&lt;i&gt;k&lt;/i&gt;&lt;sub&gt;1&lt;/sub&gt;来决定&lt;i&gt;y&lt;/i&gt;在点&lt;i&gt;t&lt;/i&gt;&lt;sub&gt;&lt;i&gt;n&lt;/i&gt;&lt;/sub&gt; + &lt;i&gt;h&lt;/i&gt;/2的值；&lt;/li&gt;
&lt;li&gt;&lt;i&gt;k&lt;/i&gt;&lt;sub&gt;3&lt;/sub&gt;也是中点的斜率，但是这次采用斜率&lt;i&gt;k&lt;/i&gt;&lt;sub&gt;2&lt;/sub&gt;决定&lt;i&gt;y&lt;/i&gt;值；&lt;/li&gt;
&lt;li&gt;&lt;i&gt;k&lt;/i&gt;&lt;sub&gt;4&lt;/sub&gt;是时间段终点的斜率，其&lt;i&gt;y&lt;/i&gt;值用&lt;i&gt;k&lt;/i&gt;&lt;sub&gt;3&lt;/sub&gt;决定。&lt;/li&gt;

&lt;/blockquote&gt;
&lt;p&gt;当四个斜率取平均时，中点的斜率有更大的权值：&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;$$\mbox{slope} = \frac{k_1 + 2k_2 + 2k_3 + k_4}{6}$$&lt;/p&gt;
&lt;p&gt;RK4法是四阶方法，也就是说每步的误差是&lt;i&gt;h&lt;/i&gt;&lt;sup&gt;5&lt;/sup&gt;，而总积累误差为&lt;i&gt;h&lt;/i&gt;&lt;sup&gt;4&lt;/sup&gt;阶。&lt;/p&gt;
&lt;p&gt;注意上述公式对于标量或者向量函数(&lt;i&gt;y&lt;/i&gt;可以是向量)都适用。&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h3 id="6-"&gt;6.动导数&lt;/h3&gt;
&lt;blockquote&gt;
&lt;p&gt;1911年，Byran最早给出了动导数较为完整和严格的定义。飞行器受到的非定常气动力可以严格地表示为飞行状态变量的泛函。&lt;/p&gt;
&lt;p&gt;在线性的气动力系统中，气动力和力矩关于角位移的导数称为&lt;strong&gt;静导数&lt;/strong&gt;,而气动力和力矩关于角速度的导数称为&lt;strong&gt;动导数&lt;/strong&gt;。&lt;/p&gt;
&lt;p&gt;动导数又称动稳定性导数（dynamic stability derivatives,DSD），用来描述飞行器进行机动飞行和受到扰动时的气动特性。在物理上一般表现为气动力对运动（状态变化）的阻尼作用。更一般地，动导数即飞行器所受气动力和力矩的各个分量，对飞行器各飞行状态参数的一阶时间变化率的偏导数。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;气动力和力矩分量：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;a.)    阻力D；侧向力Y；升力L&lt;/p&gt;
&lt;p&gt;b.)    滚转力矩$M_x$；俯仰力矩$M_y$；偏航力矩$M_z$；&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;飞行器飞行状态变量：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;a.)    滚转角速度$\omega_x$；俯仰角速度$\omega_y$；偏航角速度$\omega_z$；&lt;/p&gt;
&lt;p&gt;b.)    迎角变化率$\dot{\alpha}$；偏航角变化率$\dot{\beta}$；飞行速度变化率$\frac{dV}{dt}$；&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;共构成&lt;strong&gt;36&lt;/strong&gt;个原始的动导数参数。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;实践表明，如下动导数是非常重要的：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;直接阻尼导数（direct derivatives）：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$$C_{lp} = \frac{\partial{M_x}}{\partial{p}},C_{nr} = \frac{\partial{M_y}}{\partial{r}},C_{mq} = \frac{\partial{M_z}}{\partial{q}}$$&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;时差导数（plunging derivatives）：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$$C_{n \dot{\beta}} = \frac{\partial{M_y}}{\partial{\dot{\beta}}},C_{m \dot{\alpha}} = \frac{\partial{M_z}}{\partial{\dot{\alpha}}}$$&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;交叉导数（cross derivatives）：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$$C_{lr} = \frac{\partial{M_x}}{\partial{\omega_y}},C_{np} = \frac{\partial{M_y}}{\partial{\omega_x}}$$&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;交叉耦合导数（coupling cross derivatives）：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$$C_{lq} = \frac{\partial{M_x}}{\partial{\omega_z}},C_{nq} = \frac{\partial{M_y}}{\partial{\omega_z}},C_{mp} = \frac{\partial{M_z}}{\partial{\omega_x}},C_{mr} = \frac{\partial{M_z}}{\partial{\omega_y}}$$&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;铰链阻尼力矩导数（hinge damping moment derivatives）(下标h代表铰链)：&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;$$C_{h \dot{\delta}_y} = \frac{\partial{M_h}}{\partial{\dot{\delta}_y}},C_{h \dot{\delta} _z}= \frac{\partial{M_h}}{\partial{\dot{\delta}_z}}$$&lt;/p&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/blockquote&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Mon, 19 Jan 2015 11:17:54 +0800</pubDate><guid>tag:liung.github.io,2015-01-19:blog/fei-xing-qi/Aircraft-Modeling-Knowledge.html</guid></item><item><title>APM-I2C</title><link>http://liung.github.io/blog/apm/2014-10-19-APM-I2C.html</link><description>&lt;p&gt;&lt;em&gt;关于串行总线（$I^2C$），请阅读维基百科相关条目（&lt;a href="http://zh.wikipedia.org/wiki/I%C2%B2C"&gt;$I^2C$&lt;/a&gt;）&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;使用其他I2C通信传感器&lt;/h3&gt;
&lt;p&gt;
你可以使用任何你想使用的I2C传感器连接到I2C端口。I2C is a bus, so sensors can be daisy-chained using any creative wiring solution you can solder, or for neatness add an &lt;a href="http://store.3drobotics.com/products/i2c-splitter"&gt;I2C splitter&lt;/a&gt;。
&lt;/p&gt;
&lt;p&gt;你可以更改相应的代码来支持你所要添加的I2C设备类型。APM主要使用I2C库来驱动相应设备，所以，你可以尝试更改磁力计库作为扩展你自己的传感器的开端。&lt;/p&gt;
&lt;p&gt;需要注意的是I2C总线已经存在于板载设备中：大气压力传感器芯片。当APM已正常模式启动，它便作为主线程驱动I2C总线，并定期读取这些从属设备。&lt;/p&gt;
&lt;p&gt;添加第三方I2C主设备到该I2C总线是不可能的。例如： eagletree e-logger 是一个总线设备。它不能被连接和可靠地使用。eagletree powerpanel 是一个从设备，所以它（and many other i2c sensors with non-conflicting device IDs）可以被连接并读取数据。&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/i2c/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sun, 19 Oct 2014 13:22:24 +0800</pubDate><guid>tag:liung.github.io,2014-10-19:blog/apm/2014-10-19-APM-I2C.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-采用Make方法编译APM2.x（Win，Mac，Linux）</title><link>http://liung.github.io/blog/apm/2014-10-17-APM-%E9%87%87%E7%94%A8Make%E6%96%B9%E6%B3%95%E7%BC%96%E8%AF%91APM2.x%EF%BC%88Win%EF%BC%8CMac%EF%BC%8CLinux%EF%BC%89.html</link><description>&lt;h3&gt;概述&lt;/h3&gt;
&lt;p&gt;
对于开发者而言编译APM应用的最佳方式是使用带有分布式版本管理的Makefile系统，该系统是编译APM的标准方式。APM应用不再使用标准的Arduino IDE,因为APM编译需要的Arduino IDE基础库已经被排除在编译之外。&lt;/p&gt;
&lt;p&gt;对于不喜欢使用make方法的开发者，可以使用一个修改版的Arduino IDE来模拟通常的APM编译过程。
&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;要求&lt;/h3&gt;
&lt;p&gt;APM的makefiles可以在Mac OS和Liunx平台运行。Windows平台用户可以通过Unix兼容系统如Mingw或Cygwin使用Makefiles。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Mac OS&lt;/h3&gt;
&lt;p&gt;Mac OS系统需要：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;1.0或更高版本的Arduino。Arduino安装程序提供了一个AVR的编译器。&lt;/li&gt;
&lt;li&gt;苹果开发者工具（从苹果官网可免费下载）。它提供了一个包含GNU Make的命令行工具。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Arduino应该安装到可以被Spotlight工具索引到的位置。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Linux&lt;/h3&gt;
&lt;p&gt;请按照&lt;a href="http://liung.github.io/blog/apm/2014-09-10-APM-Linux平台上用Make方法编译APM2.x.html"&gt;本页面&lt;/a&gt;的指导在Linux上进行代码编译。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;GNU sed（stream editor，流编辑器）工具&lt;/li&gt;
&lt;li&gt;GNU make 工具，也被称为‘gmake’&lt;/li&gt;
&lt;li&gt;GNU awk 工具, 也被称为‘gawk’，&lt;strong&gt;注意&lt;/strong&gt;: 许多Liunx发布版本默认没有安装‘gawk’。你可以通过&lt;code&gt;which gawk&lt;/code&gt;命令测试该工具是否已经安装&lt;/li&gt;
&lt;li&gt;AVR-GCC 工具链&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;还有许多方法能够得到针对你的系统的所有工具集。在Linux上安装AVR工具链时你可以咨询&lt;a href="http://playground.arduino.cc/learning/linux"&gt;Arduino的Linux指导手册&lt;/a&gt;相关说明。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Windows&lt;/h3&gt;
&lt;p&gt;大概需要如下基本要求：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;可正常运行的当前版本Arduino&lt;/li&gt;
&lt;li&gt;安装了基本Cygwin软件，确保带有GNU sed、GNU make、GNU awk等模块（地址：&lt;a href="http://www.cygwin.com/"&gt;http://www.cygwin.com/&lt;/a&gt;）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果你将arduino安装在一些特定地方，那么当前makefile是不能够自动识别其位置。这时，你需要使用环境变量定义一个ARDUINO路径，或者将arduino可执行程序路径添加在config.mk配置文件中以保证makefile能够正常运行。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;准备工作&lt;/h3&gt;
&lt;p&gt;从https://github.com/diydrones/ardupilot中克隆一份APM代码库到本地。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;clone&lt;/span&gt; &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/diydrones/ardupilot.git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;第一次编译代码前，先从APM内相应模式下的sketches中使用&lt;code&gt;make configure&lt;/code&gt;命令，将会在&lt;code&gt;ardupilot&lt;/code&gt;代码库的顶层目录生成&lt;code&gt;config.mk&lt;/code&gt;文件。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduCopter&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;
&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="p"&gt;..&lt;/span&gt;
&lt;span class="n"&gt;vim&lt;/span&gt; &lt;span class="n"&gt;config&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mk&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;根据自己的系统类型来编辑&lt;code&gt;config.mk&lt;/code&gt;文件内容&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;接下来你需要根据自己的需要执行：&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;编译&lt;/h3&gt;
&lt;p&gt;对于默认平台编译sketch文件，可以在该sketch目录下调用不带参数的&lt;code&gt;make&lt;/code&gt;命令。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduPlane&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;默认的编译文件输出位于&lt;code&gt;$TMPDIR/_sketchname_.build&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;make&lt;/span&gt;
&lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="n"&gt;param_table&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;
&lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="n"&gt;ArduPlane&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cpp&lt;/span&gt;
&lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="n"&gt;ArduPlane&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;o&lt;/span&gt;
&lt;span class="p"&gt;...&lt;/span&gt;
&lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="n"&gt;ArduPlane&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;elf&lt;/span&gt;
&lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="n"&gt;ArduPlane&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eep&lt;/span&gt;
&lt;span class="o"&gt;%%&lt;/span&gt; &lt;span class="n"&gt;ArduPlane&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;hex&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h3&gt;加载固件&lt;/h3&gt;
&lt;p&gt;如果你已经配置了正确的&lt;code&gt;PORT&lt;/code&gt;变量，那么可以利用&lt;code&gt;upload&lt;/code&gt;参数会使用&lt;code&gt;avrdude&lt;/code&gt;工具将编译完成的APM应用加载到基于AVR的平台系统中。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduPlane&lt;/span&gt;
&lt;span class="err"&gt;$&lt;/span&gt; &lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;upload&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;对于PX4平台系列，利用&lt;code&gt;px4-upload&lt;/code&gt;参数会使用PX4 bootloader来执行加载操作。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;故障排除&lt;/h3&gt;
&lt;p&gt;编译过程中，编译器可能会抛出代码错误之外的一些诊断问题，这可能潜在地影响代码是否能够成功编译。这些诊断问题可能包括：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;WARNING: More than one copy of Arduino was found, using …(Mac OS only)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Spotlight工具检测到你系统中存在多个Arduino程序。检查打印出来的Arduino路径，确保使用具有正确版本号的Arduino程序。为了避免出现该问题，可以直接删除其他老版本的Arduino，也可以在调用编译系统时指定&lt;code&gt;ARDUINO&lt;/code&gt;选项。通常情况下编译系统会使用最近频繁使用的某版本Arduino。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ERROR: must set BOARD before including this file.&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;sketch的Makefile文件中没有定义BOARD变量。正常情况下对于编译APM2.x该变量设置为&lt;code&gt;atmega2560&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ERROR: Spotlight cannot find Arduino on your system.(Mac OS only)&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;Arduino没有安装，或者是已经安装在某个位置但没有被Spotlight索引到。你既可以使Spotlight重新定向Arduino的安装位置，也可以和上面说明一样设置&lt;code&gt;ARDUINO&lt;/code&gt;选项。需要注意地是Spotlight重新索引需要花费一些时间，所以当Spotlight能够定位Arduino位置时可能还不能够立刻解决此问题。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ERROR: Cannot find Arduino on this system&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;（Linux 和 Windows系统可能存在）Arduino没有在默认索引位置找到。可以将Arduino移动到标准路径，也可以直接在&lt;code&gt;config.mk&lt;/code&gt;文件中指定&lt;code&gt;ARDUINO&lt;/code&gt;选项为当前Arduino位置。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ERROR: cannot find the compiler tools anywhere on the path …&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;没有找到编译器和相关工具。对于Mac OS和Win平台，这些工具正常情况下是Arduino程序的一部分，出现该信息表明Arduino安装程序已经损坏或者不完整。&lt;/p&gt;
&lt;p&gt;对于Linux系统，这意味着AVR工具没有安装到标准位置。可以设置&lt;code&gt;TOOLPATH&lt;/code&gt;选项指定为包含AVR工具的目录，也可以安装它们到标准位置。正常情况下Liunx系统下安装Arduino会更正AVR工具的安装问题。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;ERROR: cannot find gawk – you may need to install GNU awk&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;（Linux和Windows系统可能存在）需要GNU awk工具，但是没有安装或者没有检测到。在命令窗口使用&lt;code&gt;gawk -version&lt;/code&gt;检查awk工具是否工作。可能需要显式地使用&lt;code&gt;AWK&lt;/code&gt;选项指定其安装位置。&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building_with_make/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Fri, 17 Oct 2014 12:55:14 +0800</pubDate><guid>tag:liung.github.io,2014-10-17:blog/apm/2014-10-17-APM-采用Make方法编译APM2.x（Win，Mac，Linux）.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-Windows7上的MAVProxy使用</title><link>http://liung.github.io/blog/apm/2014-10-16-APM-Windows7%E4%B8%8A%E7%9A%84MAVProxy%E4%BD%BF%E7%94%A8.html</link><description>&lt;h3&gt;简介&lt;/h3&gt;
&lt;p&gt;本说明取自于Ben Dellar在DIY Drones上的一篇&lt;a href="http://diydrones.com/profiles/blogs/step-by-step-guide-to-mavproxy-on-windows-7-live-forward-your-uav?xg_source=activity"&gt;优秀的指导手册&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;MAVProxy是一款强大的地面站软件，它极大的扩充了GUI界面的地面站。比如Mission Planner，APM Planner等。驱动我探索MAVProxy的最大动力在于，它对通过网络的UDP协议获取到的UAV信息和不同设备上的多种地面站软件的交互具有强大的兼容性。例如，你可以在笔记本上运行你的地面站软件，并通过天线或者wifi和手机/平板连接，从而可以在固定的天线转向之前轻松重新定位发送信号（you can run a ground station on a laptop next to your antenna and forward via wifi to a smartphone/tablet which lets you easily relocate to launch into wind before heading back to your fixed antenna.我也不是很明白 ：&amp;gt;）。我也曾经在一次长距离飞行中将遥测数据通过网络（4G VPN）发送给几千米之外充当观测员的朋友，这样，他就可以实时监测整个飞行，从而随时可以确定飞行器的位置信息。&lt;/p&gt;
&lt;p&gt;本手册将指导你如何成功设置MAVProxy从而可以通过命令行与网络界面通信。当然，也有许多其他方法可以让它运行，并且，为了能够使用一些高级方法，可能还需要其他的安装包，具体信息请看官方文档：&lt;a href="http://tridge.github.io/MAVProxy/"&gt;http://tridge.github.io/MAVProxy/&lt;/a&gt;。免责声明，所有信息归Andrew Tridgell及MAVProxy和这里用到的其他软件开发者所有。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img0" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/05/Mavproxy_usage.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 1： 检查是否能够连接你的UAV&lt;/h3&gt;
&lt;p&gt;在开始任何事情之前请确保你的飞行器和地面站连接正常。检查连接到你的电脑上的端口及波特率（后面需要这些信息）。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 2：安装Python&lt;/h3&gt;
&lt;p&gt;下载并安装&lt;a href="https://www.python.org/download/releases/2.7/"&gt;Python2.7-WindowsX86 MSI&lt;/a&gt;，不需要关心OS/CPU类型。安装并采用默认安装位置：C:\Python27\&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 3：安装Pyserial&lt;/h3&gt;
&lt;p&gt;下载并安装&lt;a href="https://pypi.python.org/pypi/pyserial/2.7"&gt;Pyserial 2.7 – Win32 for Python 2.x (2.4…2.7) &lt;/a&gt;， 使用默认安装位置：&lt;strong&gt;C:\Python27\ directory&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 4：安装并设置MAVProxy&lt;/h3&gt;
&lt;p&gt;下载最新版的&lt;a href="https://pypi.python.org/pypi/MAVProxy"&gt;MAVProxy&lt;/a&gt; .tar.gz 文件（如果没有合适的解压缩工具，请安装&lt;a href="http://www.rarlab.com/download.htm"&gt;WinRAR&lt;/a&gt;）到*&lt;em&gt;C:\Python27*&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;解压完成之后就会出现&lt;strong&gt;C:\Python27\MAVProxy-1.3.3\MAVProxy &lt;/strong&gt;目录和&lt;strong&gt;mavproxy.py&lt;/strong&gt;文件&lt;/p&gt;
&lt;p&gt;右击&lt;strong&gt;mavproxy.py&lt;/strong&gt;文件选择IDLE打开。在文件第20行&lt;code&gt;sys.path.append(os.path.join(os.path.dirname(os.path.realpath(__file__)), ‘..’))&lt;/code&gt;去掉前面的#，如下图所示：&lt;/p&gt;
&lt;p&gt;&lt;img alt="img1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/05/Mavproxyedit.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 5：安装pymavlink&lt;/h3&gt;
&lt;p&gt;下载最新版&lt;a href="https://pypi.python.org/pypi/pymavlink"&gt;pymavlink&lt;/a&gt;，并解压到&lt;strong&gt;C:\Python27\MAVProxy-1.3.3\MAVProxy&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;这将会在上面的目录中出现一个类似“pymavlink-1.1.29”的文件夹，将文件夹改名为pymavlink。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 6：准备运行&lt;/h3&gt;
&lt;p&gt;检查你的无线模块是否通过USB连到电脑上，飞行器模块和APM是否上电，确保所有地面站软件都已经关闭。&lt;/p&gt;
&lt;p&gt;打开命令终端窗口（start-&amp;gt;cmd,then press enter），输入&lt;code&gt;cd “C:\Python27\MAVProxy-1.3.3\MAVProxy”&lt;/code&gt;并按回车。命令窗口将会切到该目录下。&lt;/p&gt;
&lt;p&gt;然后输入&lt;code&gt;mavproxy.py –master=”com14″ –baudrate 57600&lt;/code&gt;（替换成你的本地连接端口和波特率），按回车。&lt;/p&gt;
&lt;p&gt;如果一切正常，MAVProxy就会启动，并出现一些基本的飞行数据，如模式及当前航点。偶尔一些数据可能会出现干扰并显示出一些奇怪的字符，但这并不影响总体的可靠性和性能。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img3" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/05/mavproxy_running.png" /&gt;&lt;/p&gt;
&lt;p&gt;命令窗口输入&lt;code&gt;mode FBWA&lt;/code&gt;，按回车。就会看到MAVLink报告模式改变并通知你的飞行器将切换到该模式下。&lt;/p&gt;
&lt;p&gt;如果你想在命令行测试更多的命令，可以在&lt;a href="http://tridge.github.io/MAVProxy/"&gt;这里&lt;/a&gt;找到MAVLink的所有命令。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 7：网络收发&lt;/h3&gt;
&lt;p&gt;为了和PC上的本地程序通过网络收发MAV数据，我们可以简单的在在命令启动MAVProxy时添加额外的参数。&lt;/p&gt;
&lt;p&gt;为了和地面站软件连接（如Mission Planner），可以使用下述命令启动MAVProxy：&lt;code&gt;mavproxy.py –master=”com14″ –baudrate 57600 –out 127.0.0.1:14550&lt;/code&gt;并按回车。&lt;/p&gt;
&lt;p&gt;然后打开Mission Planner，选择UDP，点击连接。当点击完默认弹出的端口号（14550）提示OK后，就能看到Mission Planner开始下载参数并连接到你的UAV上。&lt;/p&gt;
&lt;p&gt;最后，你还可以添加任何发送遥测数据流到任何电脑的地面站软件的IP地址信息。&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;在本地网络/wifi环境中，需要确保本地PC上没有防火墙阻止向地面站的输入数据流的发送。&lt;/li&gt;
&lt;li&gt;在mavproxy.py命令的后面添加： –out IP_ADDRESS:14550。你还可以添加许多单独的-out参数，这取决于你运行了多少地面站软件。&lt;/li&gt;
&lt;li&gt;设置每个地面站在端口14550监听UDP包&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 8: 使用批处理文件简单启动&lt;/h3&gt;
&lt;p&gt;为了简化MAVProxy的启动，我（原作者）已经写了一个简单的5行批处理文件：&lt;/p&gt;
&lt;p&gt;&lt;a href="http://api.ning.com/files/LAl787uzrCCKik-3pTnOKtXuYtVXVMkpLenY6ZJqdXwGtQI-7IYZxf*Lqb*X*iWsM48fW6B0IXNiJP24esqUxLduGtyOQbKY/StartMavproxy.bat"&gt;Mavproxy Startup Batch File&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;你可以编辑参数为你的本地端口，波特率及需要传送数据的IP地址等。&lt;/p&gt;
&lt;p&gt;简单的保存并双击就可以启动MAVProxy（假设你已经遵循了上述的操作）&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/mavproxy-on-windows-7/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Thu, 16 Oct 2014 13:54:19 +0800</pubDate><guid>tag:liung.github.io,2014-10-16:blog/apm/2014-10-16-APM-Windows7上的MAVProxy使用.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-使用Atmel Studio 或者微软的Visual Studio编辑代码</title><link>http://liung.github.io/blog/apm/2014-10-16-APM-%E4%BD%BF%E7%94%A8Atmel_Studio%E6%88%96%E8%80%85%E5%BE%AE%E8%BD%AF%E7%9A%84Visual_Studio%E7%BC%96%E8%BE%91%E4%BB%A3%E7%A0%81.html</link><description>&lt;p&gt;&lt;img alt="1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/04/Atmel-Studio-+-Visual-Micro-300x238.jpg" /&gt;&lt;/p&gt;
&lt;h3&gt;简介&lt;/h3&gt;
&lt;p&gt;
对APM代码开发需要一款高鲁棒性的开发环境？请尝试使用Atmel Studio 6.2或者带有&lt;a href="http://www.visualmicro.com/"&gt;Visual Micro&lt;/a&gt;插件的微软Visual Studio吧。使用这些工具你可以编辑、编译、上载你的APM代码，其中，编译与上传代码与Ardupilot Arduino的编译方法一致。本指南带你开始这方面的内容。
&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;预览&lt;/strong&gt;：Atmel Studio或微软的Visual Studio提供了高鲁棒性的集成开发环境（IDE）。但是，Ardupilot是建立在特殊版本的Ardupilot Arduino IDE上，所以没有相关插件来设置正确的工程结构关系和提供上传工具，这些代码是不能在这些环境中正常工作的。使用Arduino找到不同函数与类型的源文件是非常困难的，有时寻找在主代码初始设置体与循环体中的函数或者类的原始定义代码文件，需要通过多个文件与目录来人工搜索。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;解决方案&lt;/strong&gt;：Visual Micro能够解决上述的大部分问题。Visual Micro作为Atmel Studio或Visual Studio软件的一个插件，具有如下特性：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;兼容Arduino代码结果关系，库，文件命名与sketch程序块（配合高鲁棒性的studio IDE）&lt;/li&gt;
&lt;li&gt;能够将Arduino sketch代码上传到任何类型的Arduino板和APM飞控板&lt;/li&gt;
&lt;li&gt;解决方案面板中显示所有文件，方便任何文件的打开、浏览与编辑&lt;/li&gt;
&lt;li&gt;可以前往&lt;a href="http://www.visualmicro.com/"&gt;Visual Micro&lt;/a&gt;网站了解更多细节&lt;/li&gt;
&lt;li&gt;Visual Micro具有对标准的Arduino sketches代码文件的调试功能。但是APM代码已经移除或更改了许多标准Arduino特性(例如&lt;code&gt;Serial.print()&lt;/code&gt;)和硬件串口特性。Visual Micro调试器不能对APM正常工作。但是，这不能让我们放弃使用Atmel Studio或者Visual Studio IDE&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这里来一步一步地介绍设置Atmel Stduio或者Visual Studio来浏览、编辑、编译和上传APM代码。特别感谢Tim Leek对于开发出Visual Micro这样棒的插件以及对本文档撰写提供的帮助。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;安装软件&lt;/h3&gt;
&lt;p&gt;如果你之前没有使用过Atmel Studio或Visual Studio Pro软件，但曾经使用Arduino IDE编译过APM代码，那么本指南对你来说是一个很好的开始。文中给出了其它相关详细信息的wiki页面链接，但不包含Visual Studio和Atmel Studio特性的介绍，因此你需要自己学习相关知识。&lt;a href="http://www.visualmicro.com/"&gt;Visual Micro&lt;/a&gt;网站介绍了如何针对Arduino安装Visual Micro以及如何设置Ateml Studio和Visual Studio来使用Arduino sketches代码文件和不同类型板子工作，但是没有明确涉及到如何支持APM飞控板的相关说明。一旦这些信息明确，那么设置工作变得非常简单。这里列入了所需要的一些关键步骤的简短总结：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;假定：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;■ 特殊版本的Ardupilot Arduino已经安装，并且已经测试能够正常编译与上传代码。详细细节点击&lt;a href="http://dev.ardupilot.com/wiki/building-ardupilot-with-arduino-windows/"&gt;这里&lt;/a&gt;，这里假定该软件安装在C:\ArduPilot-Arduino-1.0.3-windows&lt;/p&gt;
&lt;p&gt;■ 需要安装&lt;a href="http://www.atmel.com/tools/ATMELSTUDIO.aspx"&gt;Atmel Studio&lt;/a&gt;（免费版）和带有许可证的Visual Studio 2008、2010或2012完整版。Visual Micro不能在Visual Studio的Express版正常运行。本例中使用了Visual Studio 2008&lt;/p&gt;
&lt;p&gt;■ 需要下载Ardupilot源码。对于本教程，假定APM源码存放在C:\Users\Public\Documents\ardupilot-ArduCopter-3.1.3。&lt;a href="http://ardupilot.com/downloads/?category=29"&gt;这里&lt;/a&gt;可以得到最新发布的源码压缩文件“APM：Plane x.x.x”，或使用&lt;a href="http://dev.ardupilot.com/wiki/where-to-get-the-code/"&gt;GitHub&lt;/a&gt;克隆一份当前代码到本地。如果你需要特定发布版本，请到&lt;a href="https://github.com/diydrones/ardupilot"&gt;diydrones/ardupilot&lt;/a&gt;代码仓库中，选择想要的ardupilot分支，然后点击&lt;strong&gt;download zip&lt;/strong&gt;。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;下载并安装了&lt;a href="http://www.visualmicro.com/"&gt;Visual Micro&lt;/a&gt;网站的Visual Micro，并且完成&lt;a href="http://www.visualmicro.com/post/2011/10/04/How-to-test-a-new-installation-of-Arduino-for-Visual-Studio.aspx"&gt;软件安装&lt;/a&gt;部分内容。参考网站说明。&lt;/li&gt;
&lt;li&gt;对Arduino使用&lt;a href="http://www.visualmicro.com/post/2011/10/04/How-to-test-a-new-installation-of-Arduino-for-Visual-Studio.aspx"&gt;本说明&lt;/a&gt;进行了Visual Micro测试。继续进行之前确保能够正常工作。&lt;/li&gt;
&lt;li&gt;下载并安装APM飞控板相关信息文件。该步骤在编译和上传APM代码中是必须的。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;■ 前往Visual Micro论坛的&lt;a href="http://www.visualmicro.com/post/2013/05/02/APM-Installation-Guide.aspx"&gt;Apm-安装指导&lt;/a&gt;页面。阅读相关内容并下载&lt;a href="http://www.visualmicro.com/downloads/APM_Sketchbook_Hardware.zip"&gt;boards.txt&lt;/a&gt;文件&lt;/p&gt;
&lt;p&gt;■ 将“boards.txt”文件放到包含有“Arduino/hardware”文件夹的“APM”目录中。无论你的Arduino IDE存放在什么地方，你的Arduino文件（本例中位于C:\ArduPilot-Arduino-1.0.3-windows）应该具有如下结构：&lt;/p&gt;
&lt;p&gt;&lt;img alt="2" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/04/VisualMicroHardware.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;■ 运行Atmel Studio或Visual Studio，针对APM设置如下：（本例中使用APM2）&lt;/p&gt;
&lt;p&gt;--&amp;gt;★ Tools&amp;gt;&amp;gt;Visual Micro&amp;gt;&amp;gt;Boards：选择Arduino Mega 2560 （APM2）&lt;/p&gt;
&lt;p&gt;--&amp;gt;★ Tools&amp;gt;&amp;gt;Options&amp;gt;&amp;gt;Visual Micro：窗口右侧，选择Applications &amp;amp; Locations&amp;gt;&amp;gt;Application Ide Locations&amp;gt;&amp;gt;Click to configure Ide locations。在对话窗口：&lt;/p&gt;
&lt;p&gt;----&amp;gt;☆　在下拉选项中选择Auduino为“1.0.x”&lt;/p&gt;
&lt;p&gt;----&amp;gt;☆ 选择IDE的文件位置：C:\ArduPilot-Arduino-1.0.3-windows （或者你自己Arduino IDE的路径）&lt;/p&gt;
&lt;p&gt;----&amp;gt;☆ 设置sketchbook位置：C:\Users\Public\Documents\ardupilot-ArduCopter-3.1.3 （或选择你自己Ardupilot代码路径）&lt;/p&gt;
&lt;p&gt;----&amp;gt;☆ 注意：该文件包含了APMover2、ArduCopter、ArduPlane、docs、FollowMe、libraries、mk、Tools。下图是该部分教程的截图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="3" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/04/VisualMicroSetup-278x300.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;■ 打开arducopter.pde文件： File&amp;gt;&amp;gt;Open&amp;gt;&amp;gt;Sketch Project: 然后选择ArduCopter\arducopter.pde (或者你自己电脑上代码文件中的arducopter.pde文件)&lt;/p&gt;
&lt;p&gt;■ 编译代码： Build&amp;gt;&amp;gt;Clean Solution then Build&amp;gt;&amp;gt;Build Solution。代码编译应该不会出现错误。取决于你使用的源代码内容，可能会得到“Sketch too big …”信息。你可以通过在文件APM_Config.h中注释掉一些编译选项来减少编译后文件的大小。&lt;strong&gt;Important：&lt;/strong&gt;每次改变&lt;code&gt;#define statement&lt;/code&gt;（或者注释/取消注释代码）时，必须执行Build&amp;gt;&amp;gt;Clean Solution followed by Build&amp;gt;&amp;gt;Rebuild Solution。更多细节请查看&lt;strong&gt;相关提示与注意&lt;/strong&gt;部分。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;上传代码&lt;/h3&gt;
&lt;p&gt;当你完成代码编译并没有出现错误时，就可以上传代码到APM。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;首先，要做：Tools&amp;gt;&amp;gt;Options&amp;gt;&amp;gt;Visual Micro -Micro Debug – Advanced设置自动调试（Automatic debugging）为False，然后摁下F5键开始不带调试上传。摁下Ctrl+F5执行保存操作。&lt;/li&gt;
&lt;li&gt;使用USB连接你的APM和电脑&lt;/li&gt;
&lt;li&gt;在Tools&amp;gt;&amp;gt;Visual Micro&amp;gt;&amp;gt;Serial Port，设置检测到的APM的USB端口号。如果USB端口没有检测到，那么检查Arduino安装，按照说明增加正确的驱动器。如果Arduino IDE可以正常工作，那么Visual Studio/Visual Studio也就能正常工作了。&lt;/li&gt;
&lt;li&gt;摁下F5，将编译好的二进制固件加载到APM飞控板中&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;作者采用了3.1.3发布版本进行代码编译与上传到APM板和飞行测试，飞行测试中分别进行了自稳、定高、悬停模式测试，测试结果与通过Mission Planner加载对应版本的固件一致。但是，还是要注意编译自己从源码下载的代码可能会造成某些意外结果。你必须配置所有的选项&lt;code&gt;define&lt;/code&gt;和其他代码是否正确。时刻小心，在使用Visual Micro的Visual Studio编译过程中顺利与快乐~&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;相关提示与注意&lt;/h3&gt;
&lt;p&gt;本次编译与上传代码到APM的整个过程都在作者电脑上进行。还有许多其他方法来配置Arduino、Atmel Studio，Visual Studio、Visual Micro。这些方法留给读者研究。举例来讲，你可以在任何位置安装Ardupilot Arduino IDE，而不仅仅局限于上文中的位置。不过建议使用上面的方法来验证整个软件等设置是否可用。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;减少Arducopter空间使之可以编译的方法&lt;/strong&gt;：在Visual Studio或Atmel Studio的资源方案解决面板（这里里除了所有文件资源），打开文件Arducopter/Header Files/APM_Copfit.h，取消注释一些诸如&lt;code&gt;#Define XXX DISABLED&lt;/code&gt;语句，例如，禁用一些对于你的APM不用的功能：MOUNT, OPTIFLOW, CAMERA, CONFIG_CONAR和/或者PARACHUTE。每次更改&lt;code&gt;Define&lt;/code&gt;语句时，必须在执行Build&amp;gt;&amp;gt;Clean Solution完后紧接着执行Build&amp;gt;&amp;gt;Rebuild Solution&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;从刚下载的源码克隆库中直接编译的错误&lt;/strong&gt;：第一次设置应用位置（例如刚克隆了一份源码到本地后）或者改变了使用的IDE时，你可能即使选择正确的Arduino版类型的情况下依然得到一些编译错误信息。为了避免错误能够正常完成编译，仅需要重新选择正确的飞控板类型。查看&lt;strong&gt;多版本的Arduino&lt;/strong&gt;部分内容。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;快速编译 VS 改变defines&lt;/strong&gt;:Visual Micro有一个默认选择快速编译。这个功能作为默认设置。IDE会监测文件的改变，如果文件没有变化，那么就不会再编译未发生改变的这部分文件。这个特性存在一些负面影响：如果某些define声明语句发生改变，可能会影响到其他文件的调用，但是这部分文本（代码）并没有明确的改变，这些由于define声明改变而影响的文件不会再次编译就会造成混乱。不过，可以采用两个方法来避免这个问题：&lt;/p&gt;
&lt;p&gt;●　每次改变define声明或者取消注释/注释一些define语句，执行下面动作：&lt;/p&gt;
&lt;p&gt;--&amp;gt;■ Build&amp;gt;&amp;gt;Clean&amp;gt;&amp;gt;Solution     （该操作会清除之前编译的缓存）&lt;/p&gt;
&lt;p&gt;--&amp;gt;■ Build&amp;gt;&amp;gt;Rebuild&lt;/p&gt;
&lt;p&gt;--&amp;gt;■ 接下来所有编译（假定再没有define语句发生变化）可以使用快速编译方法：Build&amp;gt;&amp;gt;Build Solution&lt;/p&gt;
&lt;p&gt;● 或者，如果你想每次编译都喜欢等待一些时间，那么你可以改变Visual Micro的配置选项&lt;/p&gt;
&lt;p&gt;--&amp;gt;■ Tools&amp;gt;&amp;gt;Options，选择Visual Micro。使用滚轮滚动到编译器优化（Compiler Optimistation）。（英式英语中采用这种翻译）&lt;/p&gt;
&lt;p&gt;--&amp;gt;■ 设置核心代码改变和代码库变化选项为False&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;多版本的Arduino&lt;/strong&gt;：需要提醒的是Arduino只有一个安装位置相当重要，所有的参数将被存储到这个文件C:\Users\….\AppData\Roaming\Arduino\preferences.txt中。每次启动任何一个Arduino程序（标准版），Ardupilot Arduino或之前在Visual Micro设置过的文件可能会发生改变。所以每次改变IDE后检查所有的IDE设置非常重要，可以避免IDE的参数设置为上次IDE使用的参数。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;在Visual Micro中索引标准的Arduino&lt;/strong&gt;：正常情况下，Visual Micro会所以一个标准的Arduino，来代替针对APM的HAL类型的Ardupilot Arduino特殊版。你可以配置Visual Studio或Atmel Studio索引标准Arduino安装位置，这样的话代码可以正常的编译但不能正常的上传APM代码到飞控板中。而且编译的大小不相同，并且没有连接Mission Planner。强烈建议仅仅当编译APM代码时所引导特殊版的Ardupilot Arduino安装位置。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;使用Arduino声明与库&lt;/strong&gt;：最好不使用标准Arduino的语法声明。较新的Ardupilot的HAL版本针对APM已经移除了大部分（并非所有）标准arduino函数声明和标准库。比如你不能加入&lt;code&gt;analogRead(sensorPin)&lt;/code&gt;函数声明。所以，当你试着使用标准Arduino语言的方法编辑APM代码时，它大部分是无用的。对于APM有着很多的等效函数与语句声明，但你不得不搜索代码样例。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;编译老版本Ardupilot&lt;/strong&gt;：如果你仍然使用是2.9.1b版本或者比HAL更老的版本，那么你可以充分利用带有Visual Micro 的Atmel Studio或Visual Studio IDE。仅需按照如下执行：&lt;/p&gt;
&lt;p&gt;●　下载&lt;a href="https://code.google.com/p/ardupilot-mega/downloads/detail?name=ArduPilot-Arduino-1.0.3-windows.zip&amp;amp;can=2&amp;amp;q="&gt;Ardupilot Arduino that supports the 2.x.x revisions&lt;/a&gt;。不要对当前版本存在疑惑，实质上他们大部分都一样仅有少量不同&lt;/p&gt;
&lt;p&gt;●　安装Ardupilot Arduino到一个单独文件目录，并且添加apm/boards.txt文件到hardware文件夹（和之前介绍的一样）&lt;/p&gt;
&lt;p&gt;●　在Atmel（或Visual） Studio的Tools&amp;gt;&amp;gt;Options&amp;gt;&amp;gt;Visual Micro，设置应用程序和Arduino位置，参考位置为之前安装的支持2.x.x版Ardupilot Arduino且包含2.x.x源代码的文件夹。你可以在&lt;a href="https://github.com/diydrones/ardupilot"&gt;diydrones/ardupilot&lt;/a&gt;代码库中得到2.9.1b版源代码（通过选择需要的Ardupilot分支，点击下载zip）&lt;/p&gt;
&lt;p&gt;●　设置Tools&amp;gt;&amp;gt;Visual Micro&amp;gt;&amp;gt;Boards为APM Arduino Mega 2560&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-ardupilot-apm-with-visual-studio-visual-micro/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Thu, 16 Oct 2014 13:54:19 +0800</pubDate><guid>tag:liung.github.io,2014-10-16:blog/apm/2014-10-16-APM-使用Atmel_Studio或者微软的Visual_Studio编辑代码.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-使用Eclipse进行ArduPilot Mega开发</title><link>http://liung.github.io/blog/apm/2014-10-16-APM-%E4%BD%BF%E7%94%A8Eclipse%E7%BC%96%E8%BE%91%E4%BB%A3%E7%A0%81.html</link><description>&lt;h3&gt;综述&lt;/h3&gt;


&lt;ol&gt;
&lt;li&gt;Eclipse是一款精致地多语言集成开发平台&lt;/li&gt;
&lt;li&gt;Eclipse CDT（C++开发工具）实现了支持在Eclipse平台进行C/C++开发&lt;/li&gt;
&lt;li&gt;Eclipse CDT工具可以帮助管理与组织大型C++工程，比如ArduPilot Mega的固件开发工程&lt;/li&gt;
&lt;li&gt;本指南用来说明如何将最近的ArduPilot Mega 固件开发工程设置为Eclipse CDT工程&lt;/li&gt;
&lt;li&gt;提醒：这些操作都在Eclipse Kepler（4.3.0）版本上进行。&lt;/li&gt;
&lt;/ol&gt;


&lt;hr /&gt;
&lt;h3&gt;当前编译相关信息&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;基于make的编译系统支持在Windows，MacOS，Liunx平台进行APM编译&lt;/li&gt;
&lt;li&gt;但是，你仍然可以使用安装的Arduino IDE进行，因为在编译过程中也使用到了它的工具链的一部分&lt;/li&gt;
&lt;li&gt;位于ardupilot-mega工程文件顶层目录的文件README.txt记录了编译说明相关信息&lt;/li&gt;
&lt;li&gt;在Readme.txt文件中关于使用Eclipse的编译说明仍然可以使用，但是相对复杂一些&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;h3&gt;安装Eclipse和CDT组件&lt;/h3&gt;
&lt;p&gt;如果你已经安装了Eclipse，但是没有安装CDT组件，那么你可以直接跳到下一部分内容。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;下载并安装最新版本的&lt;a href="http://java.com/en/download/index.jsp"&gt;Java Runtime Environment（Java运行时环境）&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;对于C/C++开发者下载并安装最新版本的Eclipse IDE。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A.前往&lt;a href="http://www.eclipse.org/downloads/"&gt;下载页面&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;B.在“安装包选型”中点击“Eclipse IDE for C/C++ Developer”&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;将下载的压缩包解压到你的桌面上。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/ExtractEclipse1.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="2" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/ExtractDesktop1.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="3" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/ExtractToDesktop1.png" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果Eclipse不能正常运行并弹出“不能找到Java JDK or JRE”相关信息，请阅读&lt;strong&gt;问题排查&lt;/strong&gt;部分内容&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;在Eclipse安装程序中添加C开发工具&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;如果你按照上一部分的说明下载了Eclipse，那么你可以跳过该部分&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A.因为你安装的Eclipse中已经带有CDT组件&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;如果你还没有加载C开发工具（或者还不能够正确加载）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A. 前往&lt;a href="http://www.eclipse.org/cdt/downloads.php"&gt;http://www.eclipse.org/cdt/downloads.php&lt;/a&gt;的&lt;strong&gt;CDT 8.2.0 for Eclipse Kepler&lt;/strong&gt;部分&lt;/p&gt;
&lt;p&gt;B. 运行Eclipse 工程，选择&lt;strong&gt;Windows&lt;/strong&gt;下拉菜单中的&lt;strong&gt;参数（Preference）&lt;/strong&gt;选项&lt;/p&gt;
&lt;p&gt;&lt;img alt="4" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/Eclipse-Preferences.png" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;单击参数窗口的&lt;strong&gt;Install/Unpdate&lt;/strong&gt;左侧小三角箭头，选择&lt;strong&gt;可用站点（Availabel Sorftware Sites）&lt;/strong&gt;，然后选择添加按钮&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A.在添加站点（&lt;strong&gt;Add Site&lt;/strong&gt;）窗口的&lt;strong&gt;Name&lt;/strong&gt;栏键入&lt;strong&gt;CDT&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;B.然后从CDT的下载页面复制URL链接&lt;strong&gt;http://download.eclipse.org/tools/cdt/releases/kepler&lt;/strong&gt;到&lt;strong&gt;Location&lt;/strong&gt;栏&lt;/p&gt;
&lt;p&gt;C.在添加站点（&lt;strong&gt;Add Site&lt;/strong&gt;）窗口点击&lt;strong&gt;OK&lt;/strong&gt;，然后在&lt;strong&gt;参数（Preference）&lt;/strong&gt;窗口点击&lt;strong&gt;OK&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="5" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/EclipseLoadCDT.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;创建工作空间&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;运行Eclipse：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A.导航到桌面的Eclipse目录&lt;/p&gt;
&lt;p&gt;B.双击eclipse.exe&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当Eclipse窗口打开：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A.选择&lt;strong&gt;Window&lt;/strong&gt;菜单项中的&lt;strong&gt;Preference&lt;/strong&gt;选项&lt;/p&gt;
&lt;p&gt;B.在&lt;strong&gt;Preference&lt;/strong&gt;窗口点击&lt;strong&gt;C/C++&lt;/strong&gt;的左侧箭头，然后选择&lt;strong&gt;File Types&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;C.如果列表中没有“*.pde”条目，使用&lt;strong&gt;New&lt;/strong&gt;按钮打开&lt;strong&gt;C/C++文件类型&lt;/strong&gt;窗口&lt;/p&gt;
&lt;p&gt;D.在&lt;strong&gt;Pattern&lt;/strong&gt;栏键入&lt;strong&gt;*.pde&lt;/strong&gt;，在&lt;strong&gt;Type&lt;/strong&gt;下拉选项中选择&lt;strong&gt;C++ Source File&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;E.在&lt;strong&gt;C/C++ File Type&lt;/strong&gt;窗口点击&lt;strong&gt;OK&lt;/strong&gt;，然后点击&lt;strong&gt;Preference&lt;/strong&gt;窗口的&lt;strong&gt;OK&lt;/strong&gt;按钮&lt;/p&gt;
&lt;p&gt;F.这样就解决了Eclipse中pde文件与C++的关联&lt;/p&gt;
&lt;p&gt;&lt;img alt="6" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/EclipsePrefPDE.png" /&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Eclipse的代码分析功能不能够正确的解析arduino的.pde文件。为了避免编辑arduino代码时出现上百个“undeclared（未声明）”和“unused（未使用）”错误信息，禁用代码解析带来的错误&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;A.选择&lt;strong&gt;Window&lt;/strong&gt;菜单项中的&lt;strong&gt;Preference&lt;/strong&gt;选项&lt;/p&gt;
&lt;p&gt;B.点击&lt;strong&gt;C/C++&lt;/strong&gt;选项卡左侧的小三角展开内容，选择&lt;strong&gt;Code Analysis&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;C.取消选中&lt;strong&gt;Syntax and Semantic Errors&lt;/strong&gt;，然后点击&lt;strong&gt;OK&lt;/strong&gt;按钮&lt;/p&gt;
&lt;p&gt;&lt;img alt="7" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/UntitledEclipsePrefTurnOffErrors.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;创建Ardupilot Mega工程&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1、&lt;/strong&gt;运行&lt;strong&gt;Eclipse&lt;/strong&gt;软件，单击左上方的&lt;strong&gt;File&lt;/strong&gt;菜单，在下拉菜单中选择&lt;strong&gt;Import&lt;/strong&gt;选项。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2、&lt;/strong&gt;在&lt;strong&gt;Import&lt;/strong&gt;窗口，通过点击C/C++左边的小三角展开选项。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3、&lt;/strong&gt;选择&lt;strong&gt;Existing Code as Makefile Project&lt;/strong&gt;（译者注：某些版本的Eclipse，可能是&lt;strong&gt;Makefile Project with Existing Code&lt;/strong&gt;），点击&lt;strong&gt;Next&lt;/strong&gt;按钮进入导入代码选项窗口。&lt;/p&gt;
&lt;p&gt;&lt;img alt="8" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/EclipseSelectExistCodeAsMake.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4、&lt;/strong&gt;在&lt;strong&gt;New Project&lt;/strong&gt;的文件导航窗口，选择ardupilot-mega代码的顶层目录到&lt;strong&gt;Existing Code Location&lt;/strong&gt;文本栏，然后点击&lt;strong&gt;Finish&lt;/strong&gt;按钮。&lt;/p&gt;
&lt;p&gt;&lt;img alt="9" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/EclipseImportArduPilot.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5、&lt;/strong&gt;为了针对你特定类型的载具和飞控板类型编译相应代码，需要对编译配置进行更改。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;A、&lt;/strong&gt;选择Eclipse软件页面左上侧的如Java页面部件的菜单项（打开视图窗口）。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;B、&lt;/strong&gt;在弹出的视图窗口中选择&lt;strong&gt;C/C++(default)&lt;/strong&gt;项，点击&lt;strong&gt;OK&lt;/strong&gt;按钮。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;C、&lt;/strong&gt;在工程管理器页面你的工程（下图的&lt;strong&gt;ardupilot-master&lt;/strong&gt;）上右击&lt;/p&gt;
&lt;p&gt;&lt;img alt="10" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/EclipseOpenPerspectiveCC++.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6、&lt;/strong&gt;在弹出菜单中选择&lt;strong&gt;Properties&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7、&lt;/strong&gt;属性窗口（Properties）选择&lt;strong&gt;C/C++ Build&lt;/strong&gt;（当前选项卡应该是&lt;strong&gt;Builder Settings&lt;/strong&gt;）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;8、&lt;/strong&gt;在&lt;strong&gt;C/C++ Build&lt;/strong&gt;窗口，编辑&lt;strong&gt;Build directory&lt;/strong&gt;文本栏内容为你想要编译的载具目录。&lt;/p&gt;
&lt;p&gt;A、例如，将&lt;code&gt;${workspace_loc:/ardupilot-master}&lt;/code&gt;变为&lt;code&gt;${workspace_loc:/ardupilot-master/ArduPlane}&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="11" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/EclipseBuildSettings.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;9、&lt;/strong&gt;现在，选择&lt;strong&gt;Behavior&lt;/strong&gt;选项卡&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;10、&lt;/strong&gt;在&lt;strong&gt;Build（Incremental Build）&lt;/strong&gt;项，用你的编译目标（编译参数）替换&lt;strong&gt;all&lt;/strong&gt;，如果你想编译近期的APM飞控板，那么可以改为&lt;strong&gt;apm2&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;11、&lt;/strong&gt;这里还可以填写其他的编译目标（编译参数），包括SIL和各种旋翼构型&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;12、&lt;/strong&gt;可以在不同飞行器目录中的Makefiles文件中查看可用的参数类型（目标类型）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;13、&lt;/strong&gt;最后点击&lt;strong&gt;C/C++ Build&lt;/strong&gt;窗口底部的&lt;strong&gt;OK&lt;/strong&gt;按钮&lt;/p&gt;
&lt;p&gt;&lt;img alt="12" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/EclipseSetBuildTarget.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;编译ArduPilot工程&lt;/h3&gt;
&lt;hr /&gt;
&lt;h3&gt;可用插件&lt;/h3&gt;
&lt;p&gt;1、&lt;strong&gt;AVR Eclipse 插件&lt;/strong&gt;可能在Eclipse中进行APM编程非常有用&lt;/p&gt;
&lt;p&gt;A、 现在，它在窗口底部区域添加了一个AVR Device管理器，有助于找到AVR注册者的相关名称&lt;/p&gt;
&lt;p&gt;2、&lt;strong&gt;EGit插件&lt;/strong&gt;能够在Eclipse进行版本控制，并允许你尽可能的在不脱离IDE的情况下对代码进行升级、比较和提交操作&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;问题排查&lt;/h3&gt;
&lt;p&gt;1、当启动Eclipse时得到“不能找到Java JRE或者JDK”相关错误信息，你需要编辑Eclipse.ini配置文件，设置Java安装包的正确路径&lt;/p&gt;
&lt;p&gt;2、定位到你的Java安装位置，可能位于：&lt;strong&gt;C:/program files/java/jdk1.7.0_07/bin/java&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;3、用文本编辑器，如NotePad++，代开Eclipse.ini配置文件，添加Java安装路径到出现&lt;strong&gt;-vm&lt;/strong&gt;的下一行&lt;/p&gt;
&lt;p&gt;&lt;img alt="13" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/JavaPathInEclipseIni.png" /&gt;&lt;/p&gt;
&lt;p&gt;4、编辑完成后保存&lt;strong&gt;Eclipse.ini&lt;/strong&gt;文件，然后点击&lt;strong&gt;Eclipse.exe&lt;/strong&gt;重启Eclipse&lt;/p&gt;
&lt;p&gt;5、（在完成编辑Eclipse.ini文件，启动Eclipse之前可能还需要重启电脑）&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/editing-the-code-with-eclipse/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Thu, 16 Oct 2014 13:54:19 +0800</pubDate><guid>tag:liung.github.io,2014-10-16:blog/apm/2014-10-16-APM-使用Eclipse编辑代码.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-使用NotePad++编辑代码</title><link>http://liung.github.io/blog/apm/2014-10-16-APM-%E4%BD%BF%E7%94%A8NotePad++%E7%BC%96%E8%BE%91%E4%BB%A3%E7%A0%81.html</link><description>&lt;h3&gt;NotePad++&lt;/h3&gt;
&lt;p&gt;
NOtePad++是开发团队最常用的一款编辑器，可以在&lt;a href="http://notepad-plus-plus.org/"&gt;这里&lt;/a&gt;下载。
&lt;/p&gt;
&lt;h3&gt;使用工程面板组织多文件&lt;/h3&gt;
&lt;p&gt;&lt;img alt="img0" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/NotePad_ProjectPanel.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;设置PDE文件为C++格式&lt;/h3&gt;
&lt;p&gt;&lt;img alt="img1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/NotePad_SetupPDE-1024x603.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;使用空白符代替Tab&lt;/h3&gt;
&lt;p&gt;在设置--》属性--》语言菜单栏，确保已经点选了“Replace [tab] by space”项。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img2" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/EditingTheCode_NotePad++.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;其他编辑器&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;一些开发团队成员强烈建议Windows用户使用&lt;a href="http://liung.github.io/blog/apm/2014-10-16-APM-使用Atmel_Studio或者微软的Visual_Studio编辑代码.html"&gt;MS Visual Studio&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Windows平台上PX4/Pixhawk开发推荐使用Eclipse，相关设置说明请点击&lt;a href="http://liung.github.io/blog/apm/2014-10-16-APM-使用Eclipse编辑代码.html"&gt;这里&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/editing-the-code/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Thu, 16 Oct 2014 13:54:19 +0800</pubDate><guid>tag:liung.github.io,2014-10-16:blog/apm/2014-10-16-APM-使用NotePad++编辑代码.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-回放功能测试</title><link>http://liung.github.io/blog/apm/2014-10-15-APM-%E5%9B%9E%E6%94%BE%E5%8A%9F%E8%83%BD%E6%B5%8B%E8%AF%95.html</link><description>&lt;h3&gt;简介&lt;/h3&gt;


&lt;p&gt;回放功能是用来处理dataflash日志文件的一套程序，并通过最近的主代码展示一系列基于真实数据的模拟结果。它可以用来重现产生bug的准确情形，或在同样的条件下测试改变EKF参数的影响。回放功能仅仅运行于Liunx/Ubuntu平台，且仅适用来自于高速CPU诸如PX4/Pixhawk运行2014年5月之后的ArduCopter/ArduPlane/ArduRover（例如AC3.2-dev或更高版本）所产生的dataflash日志文件。
&lt;/p&gt;
&lt;p&gt;&lt;img alt="img0" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/05/Replay_EKFVsINAV.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;回放功能所需要的Dataflash日志信息&lt;/h3&gt;
&lt;p&gt;为了能够使用回放功能，下面的dataflash信息必须被启用：&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;AHRS2, BARO, EKF1, EKF2, EKF3, EKF4, GPS, IMU, IMU2, MAG, MAG2&lt;/strong&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;编译回放模块&lt;/h3&gt;
&lt;p&gt;在你的Liunx上或Ubuntu虚拟机上：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="p"&gt;..&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Replay&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;linux&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;上述操作将会生成一个&lt;code&gt;/tmp/Replay.build/Replay.elf&lt;/code&gt;文件&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;使用回放功能&lt;/h3&gt;
&lt;p&gt;首先，将你需要分析的dataflash日志文件放入&lt;code&gt;../ardupilot/Tools/Replay&lt;/code&gt;目录。&lt;/p&gt;
&lt;p&gt;显示回放帮助：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Replay&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;build&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Replay&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;elf&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;h&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;通过Replay运行日志，生成图片和EKF数据文件：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;tmp&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Replay&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;build&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Replay&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;elf&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;r400&lt;/span&gt; &lt;span class="n"&gt;MyLogFile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;BIN&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;注意：参数&lt;code&gt;-r400&lt;/code&gt;是针对ArduCopter的主循环运行频率，对于ArduPlane和Rover自动忽略或替换为&lt;code&gt;-r50&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;上述操作将会产生六个输出文件：plot.dat, plot2.dat, EKF1.dat, EKF2.dat, EKF3.dat, EKF4.dat&lt;/p&gt;
&lt;p&gt;查看原始文件用来了解哪些有用的数值需要被绘制：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;less&lt;/span&gt; &lt;span class="n"&gt;plot&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dat&lt;/span&gt;  &lt;span class="c1"&gt;//可以用其它六个文件的任何一个文件来代替 plot.dat&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="img1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/05/Replay_PlotDatColumns-300x150.png" /&gt;&lt;/p&gt;
&lt;p&gt;可以使用相对简单的plotit.sh脚本来绘制数据。下面命令用来比较由EKF计算的高度与较早的使用惯性导航计算的高度和实际飞行高度。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/05/Replay_EKFInavFlightAlt.png" /&gt;&lt;/p&gt;
&lt;p&gt;也可以使用更复杂的mavgraph.py来绘制数据：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;mavgraph&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt; &lt;span class="n"&gt;MyLogFile&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;BIN&lt;/span&gt; &lt;span class="n"&gt;EKF1&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PN&lt;/span&gt; &lt;span class="n"&gt;NTUN&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;PosX&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="mf"&gt;0.01&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这个例子用来将EKF估算的相对家的南北位置与较早的惯性导航估算的位置做比较。结果请看本页的第一张图片。&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/testing-with-replay/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Wed, 15 Oct 2014 18:44:26 +0800</pubDate><guid>tag:liung.github.io,2014-10-15:blog/apm/2014-10-15-APM-回放功能测试.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-Linux上SITL仿真设置</title><link>http://liung.github.io/blog/apm/2014-10-14-APM-Linux%E4%B8%8ASITL%E4%BB%BF%E7%9C%9F%E8%AE%BE%E7%BD%AE.html</link><description>&lt;h3&gt;简介&lt;/h3&gt;
&lt;p&gt;
SITL（software in the loop）仿真可以让你在没有任何硬件的情况下运行ArduPlane，Copter或者Rover。它使用通用的C++编译器来完成autopilot的代码编译工作，从而可以让你从运行过程中不需要任何硬件就能完成代码的测试。&lt;/p&gt;
&lt;p&gt;本页面详细说明了如何在Linux平台上设置SITL。文中使用的相关命令在 &lt;strong&gt;Ubuntu 12.10&lt;/strong&gt; 和 &lt;strong&gt;Ubuntu 13.04&lt;/strong&gt;  平台上测试通过。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img0" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/04/SITL_Linux.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;相关细节&lt;/h3&gt;
&lt;p&gt;HITL（Hardware In The Loop）模拟对于APM代码测试工作相当有用，但是对于某些任务存在一些限制。这些限制包括：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;不能运行所有的autopilot代码，因为当硬件放置在桌面上时，底层驱动不能兼容所有的飞行测试输入量。&lt;/li&gt;
&lt;li&gt;不能使用一系列对正常C++调试非常有用的高级编程工具（例如调试器和内存监视器）&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;内建有ArduPilot的SITL克服了上述限制，它仍然运行相同的代码，但是它是作为PC上的本地可执行程序，并且使用了一些C++技巧，在注册层来模拟APM飞控板的硬件。所以，这些底层的硬件驱动（例如ADC， 陀螺仪，加速度计和GPS）就像真实飞行环境一样正常运行。&lt;/p&gt;
&lt;p&gt;APM的SITL环境在如下系统中开发并测试：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows： Windows 7&lt;/li&gt;
&lt;li&gt;Linux： Ubuntu 13.04 或 之后版本&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;关于虚拟机&lt;/h3&gt;
&lt;p&gt;如果你尝试在虚拟机上运行SITL，你可能会发现定时器非常糟糕以至于很难飞行。具体表现为飞行非常不稳定或者经常撞机。那么，你可以通过以下方法来改善这种情况：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;设置虚拟机使用尽可能多的CPU数量&lt;/li&gt;
&lt;li&gt;不使用ardupilot中EKF（旧的DCM代码对于差的传感器定时处理相对灵活）。设置方法：在mavproxy终端键入“&lt;code&gt;param set AHRS_EKF_USE 0&lt;/code&gt;”&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;安装步骤&lt;/h3&gt;
&lt;p&gt;请遵循以下步骤&lt;/p&gt;
&lt;h4&gt;Step 1： 下载ardupilot&lt;/h4&gt;
&lt;p&gt;如果没有ardupilot的git库本地备份，请打开终端并运行：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;clone&lt;/span&gt; &lt;span class="n"&gt;git&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/diydrones/ardupilot.git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Step 2： JSBSim&lt;/h4&gt;
&lt;p&gt;如果你想要运行固定翼模拟器，那么你就需要JSBSim包。在同一目录下（home目录）运行下面命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;clone&lt;/span&gt; &lt;span class="n"&gt;git&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/tridge/jsbsim.git&lt;/span&gt;
&lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;libtool&lt;/span&gt; &lt;span class="n"&gt;automake&lt;/span&gt; &lt;span class="n"&gt;autoconf&lt;/span&gt; &lt;span class="n"&gt;libexpat1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;dev&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Step 3： 安装所需包&lt;/h4&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;matplotlib&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;serial&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;wxgtk2&lt;/span&gt;&lt;span class="mf"&gt;.8&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;lxml&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;scipy&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;opencv&lt;/span&gt; &lt;span class="n"&gt;ccache&lt;/span&gt; &lt;span class="n"&gt;gawk&lt;/span&gt; &lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pip&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;pymavlink&lt;/span&gt; &lt;span class="n"&gt;MAVProxy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Step 4： 将目录添加到搜索路径&lt;/h4&gt;
&lt;p&gt;添加下面几行到home目录中“.bashrc”的文件尾部（注意文件名以&lt;strong&gt;.&lt;/strong&gt;开始）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;export&lt;/span&gt; &lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;HOME&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;autotest&lt;/span&gt;
&lt;span class="n"&gt;export&lt;/span&gt; &lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;HOME&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;MAVProxy&lt;/span&gt;
&lt;span class="n"&gt;export&lt;/span&gt; &lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;HOME&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;mavlink&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;pymavlink&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;examples&lt;/span&gt;
&lt;span class="n"&gt;export&lt;/span&gt; &lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;HOME&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;jsbsim&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;src&lt;/span&gt;
&lt;span class="n"&gt;export&lt;/span&gt; &lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ccache&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;PATH&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;然后使用“&lt;strong&gt;.&lt;/strong&gt;”命令在终端重载路径文件&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="o"&gt;~/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bashrc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Step 5： 编译JSBSim，运行如下命令&lt;/h4&gt;
&lt;p&gt;如果要运行SITL中的固定翼版本，那么你需要安装JSBSim。（Copter 和 Rover 不需要）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;jsbsim&lt;/span&gt;
&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;autogen&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;Step 6： 启动SITL模拟器&lt;/h4&gt;
&lt;p&gt;开始运行模拟器，首先需要将目录切换到对应飞行器目录。例如，对于固定翼需要将目录切换到ardupilot/ArduPlane。&lt;/p&gt;
&lt;p&gt;使用sim_vehicle.sh启动模拟器。第一次启动时需要加-w命令选项来清除之前的EEPROM数据，加载当前你的飞行器的正确默认参数，并使用“make configure”来生成配置文件。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;
&lt;span class="n"&gt;sim_vehicle&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;w&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;当默认参数加载完成，就可以正常启动模拟器了。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sim_vehicle&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;console&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;aircraft&lt;/span&gt; &lt;span class="n"&gt;test&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;sim_vehicle.sh有许多有用参数选项。请使用-h项查看可用的选项哦~&lt;/p&gt;
&lt;h4&gt;Step 7： 加载任务&lt;/h4&gt;
&lt;p&gt;让我们来开始加载测试任务吧~&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;wp&lt;/span&gt; &lt;span class="n"&gt;load&lt;/span&gt; &lt;span class="p"&gt;..&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;autotest&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduPlane&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;Missions&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;CMAC&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;toff&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;loop&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;txt&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这个任务写入了绕我本地领域的一个飞行循环。现在开始起飞~在MAVProxy中运行“&lt;code&gt;auto&lt;/code&gt;”，你的虚拟飞行器现在开始起飞啦~啦~~哦~&lt;/p&gt;
&lt;h4&gt;Step 8： 学习MAVProxy&lt;/h4&gt;
&lt;p&gt;想要学习SITL之外的东西？那就开始学习使用MAVProxy吧。这个是&lt;a href="http://tridge.github.io/MAVProxy/"&gt;MAVProxy文档&lt;/a&gt;。飞行愉快哦~0-0.&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/setting-up-sitl-on-linux/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Wed, 15 Oct 2014 14:06:42 +0800</pubDate><guid>tag:liung.github.io,2014-10-15:blog/apm/2014-10-14-APM-Linux上SITL仿真设置.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-Windows上SITL仿真设置</title><link>http://liung.github.io/blog/apm/2014-10-14-APM-Windows%E4%B8%8ASITL%E4%BB%BF%E7%9C%9F%E8%AE%BE%E7%BD%AE.html</link><description>&lt;h3&gt;简介&lt;/h3&gt;
&lt;p&gt;
SITL（software in the loop）仿真可以让你在没有任何硬件的情况下运行ArduPlane，Copter或者Rover。它使用通用的C++编译器来完成autopilot的代码编译工作，从而可以让你从运行过程中不需要任何硬件就能完成代码的测试。&lt;/p&gt;
&lt;p&gt;本页面详细说明了如何在windows平台上设置SITL。文中使用的相关命令在装有&lt;strong&gt;VMware ver 5.0.2 build -1031769&lt;/strong&gt; 和 &lt;strong&gt;Ubuntu 12.10&lt;/strong&gt;的Windows8平台上测试通过。
&lt;/p&gt;
&lt;p&gt;需要注意的是：在完成本页面操作请先将&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-获取源码.html"&gt;Ardupilot代码&lt;/a&gt;下载到你的电脑上，并且可以使用&lt;a href="http://liung.github.io/blog/apm/2014-09-06-APM-Windows平台上用Arduino编译ArduPilot.html"&gt;arduino&lt;/a&gt;或者&lt;a href="http://liung.github.io/blog/apm/2014-09-07-APM-Windows平台上用Make方法编译Pixhawk和PX4.html"&gt;Make方法&lt;/a&gt;编译。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/12/Ubuntu_SITL_running_Copter.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step #1 安装VMWare并创建Ubuntu虚拟机&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;下载并安装&lt;a href="https://my.vmware.com/web/vmware/free#desktop_end_user_computing/vmware_player/6_0"&gt;VMware&lt;/a&gt;（搜索VMware Player或者windows平台VMware Player Plus）&lt;/li&gt;
&lt;li&gt;下载&lt;a href="http://www.ubuntu.com/download/desktop/thank-you?release=latest&amp;amp;bits=32&amp;amp;distro=desktop&amp;amp;status=zeroc"&gt;Ubuntu ISO&lt;/a&gt;镜像文件&lt;/li&gt;
&lt;li&gt;开始运行VMware，选择 Player&amp;gt;File&amp;gt;New Virtual Machine，建立一个新虚拟机&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;ul&gt;
&lt;li&gt;填写用户全称，虚拟机的用户名和密码。当你登陆你的虚拟机时将会用到。&lt;/li&gt;
&lt;li&gt;命名你的虚拟机（例如 ArduCopter-SITL）&lt;/li&gt;
&lt;li&gt;设置硬盘空间-保持默认20GB的最大空间，并选择“分割虚拟硬盘为多文件”&lt;/li&gt;
&lt;li&gt;在“新虚拟机向导”的下一页面，电机“自定义硬件”按钮。&lt;/li&gt;
&lt;li&gt;在硬件栏设置内存：3GB，处理器：4，硬盘容量：20GB，网络适配器：NAT&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img alt="img2" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/12/Ubuntu_VMSettings_Hardware.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step #2 初次运行VM&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1、&lt;/strong&gt;双击启动刚刚创建的虚拟机&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2、&lt;/strong&gt;当遇到任何像 “Cannot connect to the XXX device because no corresponding device is available on the host”的问题时点"No"&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3、&lt;/strong&gt;在登陆界面输入密码&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4、&lt;/strong&gt;当提示升级时选择不升级&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5、&lt;/strong&gt;打开火狐浏览器确保虚拟机能够连接网络&lt;/p&gt;
&lt;p&gt;&lt;img alt="img3" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/12/Ubuntu_TestNetworkWithFirefox-300x205.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6、&lt;/strong&gt;双击右上角设置时钟，选择地图中你的位置，然后“设置时间”为“自动从网络获取”&lt;/p&gt;
&lt;p&gt;&lt;img alt="img4" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/12/Ubuntu_setTimezone-300x212.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7、&lt;/strong&gt;设置终端窗口快捷方式：点击左上角的Home图标，键入“终端（terminal）”，然后将终端应用拖拽到左边的起始栏&lt;/p&gt;
&lt;p&gt;&lt;img alt="img5" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/12/Ubuntu_TerminalShortcut-1024x488.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step #3 设置Windows和Ubuntu虚拟机的共享文件&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1、&lt;/strong&gt;确保VM已经关闭电源：在绿色按钮的下拉菜单中选择“Power Off”（如果不是灰色）&lt;/p&gt;
&lt;p&gt;&lt;img alt="img6" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/12/Ubuntu_PowerOff-300x200.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2、&lt;/strong&gt;在VMware虚拟机界面选择Player&amp;gt;Manage&amp;gt;Virtual Machine Settings ... &amp;gt; Options Tab&amp;gt;Shared Folders&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;选中“Always enabled”，点击Add&lt;/li&gt;
&lt;li&gt;将“Host Path”设置导航到安装有ardupilot软件的文件夹位置&lt;/li&gt;
&lt;li&gt;选中“Enable this share”&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="img7" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/12/Ubuntu_VMSettings_SetupSharedFolder.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3、&lt;/strong&gt;启动VM，进入系统&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;4、&lt;/strong&gt;打开终端，键入“&lt;code&gt;ls/mnt/hgfs&lt;/code&gt;”，然后你应该能看到你刚刚设置共享的文件&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5、&lt;/strong&gt;输入“&lt;code&gt;ln -s /mnt/hgfs/&amp;lt;foldername&amp;gt;&lt;/code&gt;”(&lt;foldername&gt;替换成上面你设置的共享文件名)，用以在主目录创建一个符号链接。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step #4 在你的VM上安装所需模块&lt;/h3&gt;
&lt;p&gt;打开终端，然后输入下面命令：
&lt;code&gt;sudo apt-get update&lt;/code&gt; &amp;lt;--用来从软件中心升级一系列包&lt;/p&gt;
&lt;p&gt;&lt;code&gt;sudo apt-get install &amp;lt;name&amp;gt;&lt;/code&gt;安装下列文件（回复'y'确保你有足够的剩余空间可以使用）&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;dos2unix&lt;/li&gt;
&lt;li&gt;python-wxgtk2.8&lt;/li&gt;
&lt;li&gt;python-matplotlib&lt;/li&gt;
&lt;li&gt;python-opencv&lt;/li&gt;
&lt;li&gt;python-pip&lt;/li&gt;
&lt;li&gt;g++&lt;/li&gt;
&lt;li&gt;g++-4.7&lt;/li&gt;
&lt;li&gt;gawk&lt;/li&gt;
&lt;li&gt;git&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ccache&lt;/p&gt;
&lt;p&gt;sudo pip install pymavlink
sudo pip install mavproxy&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;如果你想运行ArduPlane，那么你还需要安装：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;libexpat1-dev&lt;/li&gt;
&lt;li&gt;auto.conf&lt;/li&gt;
&lt;li&gt;libtool&lt;/li&gt;
&lt;li&gt;automake&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;Step #5 按照如下Linux说明&lt;/h3&gt;
&lt;p&gt;现在你已经有了Linux的VM虚拟机，你可以参照&lt;a href="http://liung.github.io/blog/apm/2014-10-14-APM-Linux上SITL仿真设置.html"&gt;Liunx平台软件仿真&lt;/a&gt;说明。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;连接Mission Planner&lt;/h3&gt;
&lt;p&gt;除了使用Mavproxy地面站外(使用Python写的地面站)，还可能要和Mission Planner链接，这就需要在启动命令后面添加上&lt;code&gt;--viewerip=xxx.x.x.x&lt;/code&gt;,也就是你电脑的IP地址，通过在cmd界面键入&lt;code&gt;ipconfig&lt;/code&gt;来查看你电脑的IP&lt;/p&gt;
&lt;p&gt;注意：你可能需要尝试图片中的各个IP地址，直到地面站可以正常通信为止&lt;/p&gt;
&lt;p&gt;&lt;img alt="img8" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/12/SITL_ipconfig.png" /&gt;&lt;/p&gt;
&lt;p&gt;那么，在Ubuntu虚拟机的终端就可以键入如下命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;autotest&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;autotest&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;py&lt;/span&gt; &lt;span class="n"&gt;build&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ArduCopter&lt;/span&gt; &lt;span class="n"&gt;fly&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ArduCopter&lt;/span&gt; &lt;span class="n"&gt;logs&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;ArduCopter&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;map&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;viewerip&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;192.168.184.1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;接下来首先将Mission Planner的连接方式从“COM Port”改为“UDP”&lt;/p&gt;
&lt;p&gt;&lt;img alt="img9" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/12/SITL_connectWithMP.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;数据存储器（Dataflash）日志&lt;/h3&gt;
&lt;p&gt;当模拟开始后，以“ArduCopter.flashlog”或“CopterAVC.flashlog”命名的数据日志文件将会在“buildlogs”文件夹自动创建，该目录和ardupilot目录（包含有ArduCopter、ArduPlane和libraries目录的上层目录）处于同一级别。由于命名的不便，在打开Mission Planner之前，你需要先将这些文件改为以“.log”结尾。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;链接&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="dev.ardupilot.com/wiki/setting-up-sitl-on-windows/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Tue, 14 Oct 2014 13:56:44 +0800</pubDate><guid>tag:liung.github.io,2014-10-14:blog/apm/2014-10-14-APM-Windows上SITL仿真设置.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-模拟仿真</title><link>http://liung.github.io/blog/apm/2014-10-14-APM-%E6%A8%A1%E6%8B%9F%E4%BB%BF%E7%9C%9F.html</link><description>&lt;!-- PELICAN_BEGIN__SUMMARY --&gt;

&lt;p&gt;本页面描述了如何使用APM进行模拟仿真，它可以让我们安全的测试试验代码和一些设置。毕竟，撞毁模拟飞机可要比真实的飞机划算的多哦！&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;硬件循环仿真（HITL）:&lt;/strong&gt;硬件仿真使用模拟器代替真实的飞行器和大气环境，该模拟器包含有高精度的飞行动力学模型和大气环境模型（模拟气流，突风等）。通过在飞行中采用APM飞控板，连接运行模拟器的电脑，来代替真实飞行器。&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;软件循环仿真（SITL）:&lt;/strong&gt;软件仿真额外的将APM飞控板虚拟化，如同硬件仿真中的飞行器和大气环境一样，它有利于原型快速开发，或者物理硬件（autopilots板或地面站）不可用或缺失时。
&lt;!-- PELICAN_END__SUMMARY --&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-14-APM-Linux上SITL仿真设置.html"&gt;Linux上SITL仿真设置&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-14-APM-Windows上SITL仿真设置.html"&gt;Windows上SITL仿真设置&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;日志回放：&lt;/strong&gt;你可以使用系统的“Replay”功能回放二进制dataflash日志文件，来查看ardupilot内部组件各个方面的输出特性。&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/simulation-2/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Tue, 14 Oct 2014 13:52:49 +0800</pubDate><guid>tag:liung.github.io,2014-10-14:blog/apm/2014-10-14-APM-模拟仿真.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>常用气动软件</title><link>http://liung.github.io/blog/qi-dong/2014-09-17-%E5%B8%B8%E7%94%A8%E6%B0%94%E5%8A%A8%E8%BD%AF%E4%BB%B6.html</link><description>&lt;h3&gt;XFoil&lt;/h3&gt;
&lt;p&gt;XFoil是一个为设计和分析亚音速飞机独立翼型编写的互动式的程序&lt;/p&gt;
&lt;p&gt;主页：&lt;a href="http://web.mit.edu/drela/Public/web/xfoil/"&gt;&lt;strong&gt;http://web.mit.edu/drela/Public/web/xfoil/&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Profili&lt;/h3&gt;
&lt;p&gt;Profili是一款用来帮助你进行飞机机翼设计和分析机翼的空气动力学的分析设计软件&lt;/p&gt;
&lt;h3&gt;AVL&lt;/h3&gt;
&lt;p&gt;&lt;a href="http://web.mit.edu/drela/Public/web/avl/"&gt;AVL&lt;/a&gt;是MIT（麻省理工）用fortran开发的一个气动和飞行动力学分析程序。&lt;/p&gt;
&lt;p&gt;下面是它的一个官方说明：&lt;/p&gt;
&lt;p&gt;AVL is a program for the aerodynamic and flight-dynamic analysis of rigid aircraft 
of arbitrary configuration. It employs an extended &lt;strong&gt;vortex lattice model&lt;/strong&gt; for 
the lifting surfaces, together with a slender-body model for fuselages and nacelles. 
General nonlinear flight states can be specified. The flight dynamic analysis 
combines a &lt;strong&gt;full linearization of the aerodynamic model&lt;/strong&gt; about any flight state, 
together with specified mass properties.&lt;/p&gt;
&lt;h4&gt;扩展涡格模型&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;气动组成&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;升力面&lt;/li&gt;
&lt;li&gt;细长体&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;结构定义&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;以关键字描述几何外形的输入文件&lt;/li&gt;
&lt;li&gt;线性差值定义截面&lt;/li&gt;
&lt;li&gt;截面属性&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;翼型：NACA xxxx 或者来自翼型文件&lt;/li&gt;
&lt;li&gt;操纵面偏转&lt;/li&gt;
&lt;li&gt;抛物线形剖面极线，尺度放缩&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;整个表面或机身的缩放，平移，旋转操作&lt;/li&gt;
&lt;li&gt;整个表面或机身的重叠设置&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;离散化&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Uniform（归一化）&lt;/li&gt;
&lt;li&gt;Sine&lt;/li&gt;
&lt;li&gt;Cosine&lt;/li&gt;
&lt;li&gt;Blend（组合）&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;控制舵面的偏转&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Via normal-vector tilting（通过倾斜法向量）&lt;/li&gt;
&lt;li&gt;前缘或后缘副翼&lt;/li&gt;
&lt;li&gt;Flaps independent of discretization（副翼的离散化）&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;通常的自由来流描述&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;$\alpha, \beta$， 来流角度&lt;/li&gt;
&lt;li&gt;p, q, r 飞行器旋转角速度分量&lt;/li&gt;
&lt;li&gt;亚音速的普朗特-葛劳涡（Prandtl-Glauert）压缩性修正&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;气动力和力矩输出&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;体轴和稳定轴系下的气动力或力矩&lt;/li&gt;
&lt;li&gt;包含有阻力特性分析的Trefftz-plane &lt;/li&gt;
&lt;li&gt;力和力矩导数，关于角度，旋转角速度，控制面等...&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;配平计算&lt;/h4&gt;
&lt;h4&gt;质量特性&lt;/h4&gt;
&lt;h4&gt;模态分析&lt;/h4&gt;
&lt;h4&gt;非定常流动&lt;/h4&gt;
&lt;p&gt;AVL对于非定常流动都假定为准定常流动，这意味着计算时忽略了非定常脱落涡流。而且，AVL还将飞机状态限定在一定的缩减频率范围内，如，无量纲的旋转角速度一般做如下限制：&lt;/p&gt;
&lt;p&gt;-0.10 &amp;lt; pb/2V &amp;lt; 0.10&lt;/p&gt;
&lt;p&gt;-0.03 &amp;lt; qc/2V &amp;lt; 0.03&lt;/p&gt;
&lt;p&gt;-0.25 &amp;lt; rb/2V &amp;lt; 0.25&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://web.mit.edu/drela/Public/web/avl/avl_doc.txt"&gt;帮助文档&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;AirFoil&lt;/h3&gt;
&lt;h3&gt;XFLR5&lt;/h3&gt;
&lt;p&gt;项目地址：&lt;a href="http://www.xflr5.cn/"&gt;&lt;strong&gt;http://www.xflr5.cn&lt;/strong&gt;/&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Tornado&lt;/h3&gt;
&lt;p&gt;用Matlab编写的基于涡格法的分析程序&lt;/p&gt;
&lt;h3&gt;QBlade&lt;/h3&gt;
&lt;p&gt;QBlade is a Blade Element Momentum Method (BEM) and Double Multiple Streamtube (DMS) Design and Simulation Software for Vertical- and Horizontal Axis Wind Turbines. It also includes tools to setup and simulate the internal blade structure and perform an aeroelastic analysis of a wind turbine rotor in turbulent inflow conditions through a coupling with FAST from NREL&lt;/p&gt;
&lt;p&gt;项目地址：&lt;a href="http://www.q-blade.org/"&gt;&lt;strong&gt;http://www.q-blade.org/&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Manticore Aerofoil Design&lt;/h3&gt;
&lt;p&gt;Aerofoil design software based on Panel2D from Aerospace, Mechanical &amp;amp; Mechatronic Engineering, University of Sydney with considerable enhancements.&lt;/p&gt;
&lt;p&gt;项目地址：&lt;a href="http://mdesign.sourceforge.net/"&gt;&lt;strong&gt;http://mdesign.sourceforge.net/&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Foils - model airfoil plotter&lt;/h3&gt;
&lt;p&gt;Draws accurately scaled model airfoil rib or foam cutting templates on any
printer in Windows 3.1 or later, or via clipboard to some drawing and CAD programs.&lt;/p&gt;
&lt;p&gt;主页地址：&lt;a href="http://foils.sourceforge.net/"&gt;&lt;strong&gt;http://foils.sourceforge.net/&lt;/strong&gt;&lt;/a&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Wed, 17 Sep 2014 10:55:29 +0800</pubDate><guid>tag:liung.github.io,2014-09-17:blog/qi-dong/2014-09-17-常用气动软件.html</guid><category>气动</category><category>气动软件</category></item><item><title>Pandas学习笔记</title><link>http://liung.github.io/blog/python/2014-09-14-Pandas%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</link><description>&lt;p&gt;通过索引方式返回的列只是相应数据的视图，因此，对返回的Series所做的任何就地修改都会反映到DataFrame上。通过Series的&lt;code&gt;copy&lt;/code&gt;方法可显式地复制列。&lt;/p&gt;
&lt;h4&gt;DataFrame构造器可以接受的数据：&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;二维ndarray：&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;由数组、列表或元祖组成的字典：&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Numpy的结构化、记录数组：&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;由Series组成的字典：&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;由字典组成的字典：&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;字典或Series的列表：&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;由列表或元祖组成的列表：&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;另一个DataFrame：&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Numpy的MaskedArray：&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;索引对象&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Index对象是不可修改的&lt;/strong&gt;&lt;/p&gt;
&lt;h4&gt;pandas中主要的index对象&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Index&lt;/strong&gt;：最泛化的Index对象，将轴标签表示为一个有Python对象组成的Numpy数组&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Int64Index&lt;/strong&gt;：针对整数的特殊Index&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;MultiIndex&lt;/strong&gt;：“层次化”索引对象，表示单个轴上的多层索引。可以看做由元祖组成的数组&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;DatetimeIndex&lt;/strong&gt;：存储纳秒级时间戳（用Numpy的datetime64类型表示）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;PeriodIndex&lt;/strong&gt;：针对Period数据（时间间隔）的特殊Index&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Index的方法和属性&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;append&lt;/strong&gt;：连接另一个Index对象，产生一个新的Index&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;diff&lt;/strong&gt;：计算差集，并得到一个Index&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;intersection&lt;/strong&gt;：计算交集&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;union&lt;/strong&gt;：计算并集&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;isin&lt;/strong&gt;：计算一个指示各值是否都包含在参数集合中的布尔型数组&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;delete&lt;/strong&gt;：删除索引i处的元素，并得到新的Index&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;drop&lt;/strong&gt;：删除传入的值，并得到新的Index&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;insert&lt;/strong&gt;：将元素插入到索引i处，并得到新的Index&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;is_monotonic&lt;/strong&gt;：当元素均大于等于前一个元素时，返回True&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;is_unique&lt;/strong&gt;：当Index没有重复值时，返回True&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;unique&lt;/strong&gt;：计算Index中唯一值的数组&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;基本方法&lt;/h3&gt;
&lt;p&gt;reindex：重新索引，当某个索引值当前不存在，就引入缺失值&lt;/p&gt;
&lt;p&gt;&lt;em&gt;(not over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sun, 14 Sep 2014 14:26:24 +0800</pubDate><guid>tag:liung.github.io,2014-09-14:blog/python/2014-09-14-Pandas学习笔记.html</guid><category>python</category><category>ipython</category><category>pandas</category></item><item><title>Numpy学习笔记</title><link>http://liung.github.io/blog/python/2014-09-14-numpy%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0.html</link><description>&lt;hr /&gt;
&lt;h3&gt;数组的方法&lt;/h3&gt;
&lt;h4&gt;数组转置和轴对换&lt;/h4&gt;
&lt;p&gt;转置（&lt;strong&gt;transpose&lt;/strong&gt;，或者通过&lt;strong&gt;T属性&lt;/strong&gt;）返回的是源数据视图（不会进行任何复制操作）。ndarray还有一个&lt;strong&gt;swapaxes&lt;/strong&gt;方法，它需要接受一对轴编号。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;数组索引&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;数组切片索引：&lt;/strong&gt;数组切片是原始数组的视图。这意味着数据不会被复制，视图上的任何修改都会直接反映到原数组上。如果要得到ndarray切片的一份副本而非视图，就需要显式地进行复制操作，例如：&lt;code&gt;arr[5:8].copy&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;布尔型索引：&lt;/strong&gt;通过布尔型索引选取得到的数组中的数据，将总是创建数据的副本，即使返回一模一样的数组也是如此。&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;花式索引：&lt;/strong&gt;只需传入一个用于指定顺序的整数列表或者ndarray即可，它总是将数据复制到新数组中。如&lt;code&gt;arr[[4, 3, 0, 6]]&lt;/code&gt;。一次传入多个索引数据时，它返回的是一个一维数组，其中元素对应各个索引元素。选取一个矩形行列子集的方法可以为：&lt;code&gt;arr[[1, 5, 7, 2]][:, [0, 3, 1, 2]]&lt;/code&gt;，或者使用&lt;code&gt;np.ix_&lt;/code&gt;函数，它可以将两个一维整数数组转换为一个用于选取正方形区域的索引器。&lt;code&gt;arr[np.ix_([1, 5, 7, 2], [0, 3, 1, 2])]&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;数组的集合运算&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;np.unique(x):&lt;/strong&gt;计算x中的唯一元素，并返回有序结果&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;np.intersect1d(x,y):&lt;/strong&gt;计算x和y中的公共元素，并返回有序结果&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;np.union1d(x,y):&lt;/strong&gt;计算x和y的并集，并返回有序结果&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;np.in1d(x,y):&lt;/strong&gt;用于测试一个数组中的值在另一个数组中的成员资格，得到一个表示“x的元素是否包含于y”的布尔型数组&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;import&lt;/span&gt; &lt;span class="n"&gt;numpy&lt;/span&gt; &lt;span class="n"&gt;as&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;

&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;val&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;7&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;8&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;

&lt;span class="n"&gt;In&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;in1d&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;val&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;&lt;span class="mi"&gt;5&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
&lt;span class="n"&gt;Out&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([&lt;/span&gt; &lt;span class="n"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="n"&gt;True&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;False&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="kt"&gt;bool&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;np.setdiff1d(x,y):&lt;/strong&gt;集合的差，即元素在x中且不在y中&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;np.setxor1d(x,y):&lt;/strong&gt;集合的对称差，即存在于一个数组中，但不同时存在于两个数组中的元素&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;数组的文件输入输出&lt;/h3&gt;
&lt;h4&gt;二进制格式&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;np.save(fname, X)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;np.load(fname)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;np.savez(fname,a,b,...)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;savez_compressed&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;文本文件格式&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;np.loatxt(filename, dtype, delimiter=' ', skiprows, usecols=(0,1,...), comments, converters={0:func0, 1:func1,...})&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;np.genfromtxt(...)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;np.fromfile(...)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;np.savetxt(filename,data,fmt="%d",delimiter)&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;np.tofile(...)&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;线性代数&lt;/h3&gt;
&lt;h4&gt;常用的numpy.linalg函数&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;diag&lt;/strong&gt;：以一维数组的形式返回方阵的对角线（或非对角线）元素，或将一维数组转换成方阵（非对角线元素为0）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;dot&lt;/strong&gt;：矩阵乘法&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;trace&lt;/strong&gt;：计算对角线元素的和&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;det&lt;/strong&gt;：计算矩阵行列式&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;eig&lt;/strong&gt;：计算方阵的本征值和本征向量&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;inv&lt;/strong&gt;：计算方阵的逆&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;pinv&lt;/strong&gt;：计算矩阵的Moore-Penrose伪逆&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;qr&lt;/strong&gt;：计算QR分解&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;svd&lt;/strong&gt;：计算奇异值分解（SVD）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;solve&lt;/strong&gt;：解线性方程组Ax = b， 其中A为一个方阵&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;lstsq&lt;/strong&gt;：计算Ax = b 的最小二乘解&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;随机数生成&lt;/h3&gt;
&lt;h4&gt;部分numpy.random函数&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;seed&lt;/strong&gt;：确定随机数生成器的种子&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;permutation&lt;/strong&gt;：返回一个序列的随机排列或返回一个随机排列的范围&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;shuffle&lt;/strong&gt;：对一个序列就地随机排序&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;rand&lt;/strong&gt;：产生一个均匀分布的样本值&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;randint&lt;/strong&gt;：从给定的上下限范围内随机选取整数&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;randn&lt;/strong&gt;：产生正态分布（平均值0，标准差为1）的样本值，类似于Matlab接口&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;binomial&lt;/strong&gt;：产生二项分布的样本值&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;normal&lt;/strong&gt;：产生正态（高斯）分布的样本值&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;beta&lt;/strong&gt;：产生Beta分布的样本值&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;chisquare&lt;/strong&gt;：产生卡方分布的样本值&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;gamma&lt;/strong&gt;：产生Gamma分布的样本值&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;uniform&lt;/strong&gt;：产生在[0, 1]中均匀分布的样本值&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sun, 14 Sep 2014 12:49:44 +0800</pubDate><guid>tag:liung.github.io,2014-09-14:blog/python/2014-09-14-numpy学习笔记.html</guid><category>Python</category><category>Numpy</category></item><item><title>APM-Linux平台上用Make方法编译Pixhawk/PX4</title><link>http://liung.github.io/blog/apm/2014-09-10-APM-Linux%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%94%A8Make%E6%96%B9%E6%B3%95%E7%BC%96%E8%AF%91Pixhawk%E5%92%8CPX4.html</link><description>&lt;h3&gt;快速开始&lt;/h3&gt;
&lt;p&gt;
对于Ubuntu平台，采用下面步骤来编译代码。对于Linux其他平台，请参阅下面的更深入的说明
&lt;/p&gt;
&lt;h4&gt;1、安装&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;安装git&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;qq&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;“克隆”源码&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;clone&lt;/span&gt; &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/diydrones/ardupilot.git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;运行 install-prereqs-ubuntu.sh 脚本&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;scripts&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;prereqs&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;重载路径(注销并再次登陆使其写入系统配置文件中)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="o"&gt;~/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;profile&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;2、编译&lt;/h4&gt;
&lt;p&gt;&lt;strong&gt;编译ArduCopter&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduCopter&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;v2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;编译ArduPlane&lt;/strong&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduPlane&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;v2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h3&gt;深入介绍&lt;/h3&gt;
&lt;p&gt;为了在Linux平台上编译PX4，你需要下面这些工具及Git代码库：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;gcc-arm交叉编译器[&lt;a href="http://firmware.diydrones.com/Tools/PX4-tools/"&gt;here&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;ardupilot的git代码库[&lt;a href="https://github.com/diydrones/ardupilot"&gt;github.com/diydrones/ardupilot&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;PX4NuttX的git代码库[&lt;a href="https://github.com/diydrones/PX4NuttX"&gt;https://github.com/diydrones/PX4NuttX&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;PX4Firmware的git代码库[&lt;a href="https://github.com/diydrones/PX4Firmware"&gt;github.com/diydrones/PX4NuttX&lt;/a&gt;]&lt;/li&gt;
&lt;li&gt;GNU make，gawk和相关的linux标准编译工具&lt;/li&gt;
&lt;li&gt;Ubuntu平台你将需要安装genromfs工具包&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;需要注意的是你需要使用diydrones的github账户下的PX4nuttx和PX4Firmware代码库，而不是PX4下的。因为来自于PX4的代码库没有使用APM相关代码进行过验证。&lt;/p&gt;
&lt;h4&gt;设置权限&lt;/h4&gt;
&lt;p&gt;你需要将你当前用户添加到dialout群组中：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;usermod&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;a&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;G&lt;/span&gt; &lt;span class="n"&gt;dialout&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;USER&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;注销并再次登陆是群组操作生效。&lt;/p&gt;
&lt;p&gt;还有，值得注意的是确保没有安装modemmanager包（调制解调器管理），并且modem-manager进程没有运行。&lt;/p&gt;
&lt;h4&gt;目录结构&lt;/h4&gt;
&lt;p&gt;Ardupilot、PX4Nuttx和PX4Firmware的git代码需要放在同一个目录下。因为目录中的makefile文件将在Ardupilot目录的上层目录寻找PX4Nuttx和PX4Firmware。&lt;/p&gt;
&lt;h4&gt;编译器&lt;/h4&gt;
&lt;p&gt;需要指定gcc-arm交叉编译器链接上述文件。&lt;/p&gt;
&lt;p&gt;首先，你需要解压编译器：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;tar&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;xjvf&lt;/span&gt; &lt;span class="n"&gt;gcc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;arm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;eabi&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="n"&gt;_6&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2012&lt;/span&gt;&lt;span class="n"&gt;q2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;20120614.&lt;/span&gt;&lt;span class="n"&gt;tar&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;bz2&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;然后编辑$HOME/.bashrc文件，在文件末尾添加如下链接，将原始代码中的bin目录添加到你的环境变量中&lt;code&gt;%PATH&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;export&lt;/span&gt; &lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;:/&lt;/span&gt;&lt;span class="n"&gt;home&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;your_username&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;arm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;eabi&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="n"&gt;_6&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2012&lt;/span&gt;&lt;span class="n"&gt;q2&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;快速编译工具ccache&lt;/h4&gt;
&lt;p&gt;安装ccache工具将极大加速你的编译时间。一旦你安装了它（例如通过“&lt;code&gt;sudo apt-get install ccache&lt;/code&gt;”）你应该像这样链接编译器到/usr/lib/ccache。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ccache&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;ln&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ccache&lt;/span&gt; &lt;span class="n"&gt;arm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;eabi&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;ln&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;usr&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;bin&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ccache&lt;/span&gt; &lt;span class="n"&gt;arm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;eabi&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;gcc&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;然后像前面一样将/usr/lib/ccache加入你的环境变量里&lt;code&gt;%PATH&lt;/code&gt;&lt;/p&gt;
&lt;h4&gt;编译&lt;/h4&gt;
&lt;p&gt;当你下载好了上述三个git代码库并配置完成编译器，就可以在你的飞行器目录开始编译工作。例如，编译ArduPlane：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduPlane&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;编译完成后将生成两个文件：ArduPlane-v1.px4 和 ArduPlane-v2.px4。v1文件针对PX4V1平台，V2针对PX4v2平台（Pixhawk）。&lt;/p&gt;
&lt;p&gt;同样可以使用&lt;code&gt;make px4-v1&lt;/code&gt;或者&lt;code&gt;make px4-v2&lt;/code&gt;来编译对应平台文件。&lt;/p&gt;
&lt;p&gt;第一次编译时间可能有点漫长，因为它需要编译整个px4的文件架构。之后的编译过程将变得非常快（特别是你正确地设置了ccache）。&lt;/p&gt;
&lt;h4&gt;加载固件&lt;/h4&gt;
&lt;p&gt;使用下面的命令将固件加载到飞控板上：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;v1&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;upload&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;或&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;v2&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;upload&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;当通过USB向你的PX4加载代码提示“waiting for bootloader”之后。&lt;/p&gt;
&lt;p&gt;如果在擦出阶段上传总是失败，检查是否运行了modemmanager，它可以控制PX4的USB端口。如果是，尝试移除modemmanager来获得帮助。&lt;/p&gt;
&lt;h4&gt;清理&lt;/h4&gt;
&lt;p&gt;更新完成git代码后，你可能需要一个干净的编译结果。使用下面命令来实现：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clean&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这将会移除编译过程的PX4Nuttx文件架构信息以便于重新编译。&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-px4-for-linux-with-make/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Wed, 10 Sep 2014 17:24:31 +0800</pubDate><guid>tag:liung.github.io,2014-09-10:blog/apm/2014-09-10-APM-Linux平台上用Make方法编译Pixhawk和PX4.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-Linux平台上用Make方法编译APM2.x</title><link>http://liung.github.io/blog/apm/2014-09-10-APM-Linux%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%94%A8Make%E6%96%B9%E6%B3%95%E7%BC%96%E8%AF%91APM2.x.html</link><description>&lt;h3&gt;快速开始&lt;/h3&gt;
&lt;p&gt;
对于Ubuntu平台，采用下面步骤来编译代码。对于Linux其他平台，请参阅下面的更深入的说明
&lt;/p&gt;
&lt;h4&gt;1、安装&lt;/h4&gt;
&lt;p&gt;安装git&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;qq&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;“克隆”源码&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;clone&lt;/span&gt; &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/diydrones/ardupilot.git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;运行 install-prereqs-ubuntu.sh 脚本&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;Tools&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;scripts&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;install&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;prereqs&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;ubuntu&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;重载路径(注销并再次登陆使其写入系统配置文件中)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;.&lt;/span&gt; &lt;span class="o"&gt;~/&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;profile&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h4&gt;2、编译&lt;/h4&gt;
&lt;p&gt;编译ArduCopter&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduCopter&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;编译ArduPlane&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduPlane&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h3&gt;深入介绍&lt;/h3&gt;
&lt;p&gt;为了在Linux上编译Ardupilot固件，你需要一个针对板子芯片的类型相同的特定编译器。如果你使用的是基于Ubuntu发布框架的debian系统，可以使用下面命令获取你所需要的核心包：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;gcc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;avr&lt;/span&gt; &lt;span class="n"&gt;avrdude&lt;/span&gt; &lt;span class="n"&gt;avr&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;libc&lt;/span&gt; &lt;span class="n"&gt;binutils&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;avr&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;此外，使用SITL系统和开发者工具还需要一些其他的辅助工具。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;apt&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;get&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;serial&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;wxgtk2&lt;/span&gt;&lt;span class="mf"&gt;.8&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;matplotlib&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;opencv&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;pexpect&lt;/span&gt; &lt;span class="n"&gt;python&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;scipy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;安装完成之后，你就可以切换到你需要编译的的飞行器目录，通过运行&lt;code&gt;make&lt;/code&gt;来编译你想要的代码。具体编译目标列表请查看mk/targets.mk。&lt;/p&gt;
&lt;h4&gt;Ubuntu Linux&lt;/h4&gt;
&lt;p&gt;Ubuntu上针对APM1/APM2(arduino)系统的编译还需要下面的工具。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;gawk&lt;/span&gt; &lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;arduino&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;core&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="o"&gt;++&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;编译PX4平台的Ardupilot，首先需要安装PX4工具链，并下载PX4源代码。查看&lt;strong&gt;PX4 工具链安装页面 &lt;/strong&gt;(&lt;a href="https://pixhawk.ethz.ch/px4/dev/toolchain_installation_lin"&gt;Here!&lt;/a&gt;)&lt;/p&gt;
&lt;p&gt;安装这些需要的工具最简单的方法是运行&lt;code&gt;ardupilot/Tools/scripts/install-prereqs-ubuntu.sh&lt;/code&gt;脚本，来自动安装所需包和工具。&lt;/p&gt;
&lt;h4&gt;Building using make&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;在第一次编译代码前，需要在sketch（i.e. ArduPlane, ArduCopter, etc…）目录运行&lt;code&gt;make configure&lt;/code&gt;.它将在代码库的顶层目录创建一个&lt;code&gt;config.mk&lt;/code&gt;文件，你可以查看该文件内的默认设置。&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;在sketch目录，运行 &lt;code&gt;make&lt;/code&gt;来编译APM2。&lt;code&gt;make apm1&lt;/code&gt; 将编译为APM1平台文件，&lt;code&gt;make px4&lt;/code&gt;将编译为px4平台文件.二进制文件保存在&lt;code&gt;/tmp/sketchname.build&lt;/code&gt;目录。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;运行&lt;code&gt;make upload&lt;/code&gt;加载固件. 需要在 &lt;code&gt;config.mk&lt;/code&gt;文件中设置正确的默认串行端口.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-the-code-onlinux/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Wed, 10 Sep 2014 17:18:44 +0800</pubDate><guid>tag:liung.github.io,2014-09-10:blog/apm/2014-09-10-APM-Linux平台上用Make方法编译APM2.x.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-MacOS平台上用Make方法编译Pixhawk/PX4</title><link>http://liung.github.io/blog/apm/2014-09-08-APM-MacOS%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%94%A8Make%E6%96%B9%E6%B3%95%E7%BC%96%E8%AF%91Pixhawk%E5%92%8CPX4.html</link><description>&lt;h3&gt;MAC (10.6版本或更早)&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;1、&lt;/strong&gt;在Mac OS X上安装Homebrew&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2、&lt;/strong&gt;使用brew命令安装下列包&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;brew&lt;/span&gt; &lt;span class="n"&gt;tap&lt;/span&gt; &lt;span class="n"&gt;PX4&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;homebrew&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;px4&lt;/span&gt;
&lt;span class="n"&gt;brew&lt;/span&gt; &lt;span class="n"&gt;update&lt;/span&gt;
&lt;span class="n"&gt;brew&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;genromfs&lt;/span&gt;
&lt;span class="n"&gt;brew&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;gcc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;arm&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;none&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;eabi&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;3、&lt;/strong&gt;使用下面命令安装pip和pyserial:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;easy_install&lt;/span&gt; &lt;span class="n"&gt;pip&lt;/span&gt;
&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="n"&gt;pyserial&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;4、&lt;/strong&gt;现在创建你的工作目录，然后安装下面所有软件:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;mkdir&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;p&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;
&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;
&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;clone&lt;/span&gt; &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/diydrones/ardupilot.git&lt;/span&gt;
&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;clone&lt;/span&gt; &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/diydrones/PX4Firmware.git&lt;/span&gt;
&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;clone&lt;/span&gt; &lt;span class="n"&gt;https&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/diydrones/PX4NuttX.git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;5、&lt;/strong&gt;然后使用下面命令为编译ArduCopter设置配置文件:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduCopter&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;configure&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;打开ardupilot/config.mk文件，将下面的信息改为你对应的文件目录:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;PX4_ROOT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;..&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;PX4Firmware&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;改成你本地的&lt;/span&gt;&lt;span class="n"&gt;PX4Firmware&lt;/span&gt;&lt;span class="err"&gt;目录&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;NUTTX_SRC&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;..&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;PX4NuttX&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;nuttx&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;nuttx&lt;/span&gt;&lt;span class="err"&gt;目录同上&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

&lt;span class="n"&gt;make&lt;/span&gt;   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;第一次使用将会编译&lt;/span&gt;&lt;span class="n"&gt;PX4Firmware&lt;/span&gt;&lt;span class="err"&gt;和&lt;/span&gt;&lt;span class="n"&gt;NuttX&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt;   &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="err"&gt;第二次将会编译&lt;/span&gt;&lt;span class="n"&gt;ArduCopter&lt;/span&gt;&lt;span class="err"&gt;固件&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;strong&gt;6、&lt;/strong&gt;用下面命令编译面向px4的ArduCopter:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;cd&lt;/span&gt; &lt;span class="n"&gt;ardupilot&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;ArduCopter&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;quad&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;编译完成之后，在你的ArduCopter文件目录将会发现两个文件。ArduCopter-v1.px4是针对原始PX4平台，而ArduCopter-v2.px4是针对pixhawk平台。&lt;/p&gt;
&lt;p&gt;有时你可能升级PX4Firmware和PX4NuttX。为了确保能有正确编译，在运行之前请先使用clean选项清理编译环境：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;clean&lt;/span&gt;
&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;frame&lt;/span&gt; &lt;span class="n"&gt;type&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;可使用的框架类型有：&lt;strong&gt;quad, tri, hexa, y6, octa, octa-quad, hell&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;然后连接并加载固件到你的飞行器上:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;make&lt;/span&gt; &lt;span class="n"&gt;px4&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;quad&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;upload&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-px4-with-make-on-mac/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Mon, 08 Sep 2014 09:27:32 +0800</pubDate><guid>tag:liung.github.io,2014-09-08:blog/apm/2014-09-08-APM-MacOS平台上用Make方法编译Pixhawk和PX4.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-MacOS平台上用Arduino编译APM2.x</title><link>http://liung.github.io/blog/apm/2014-09-08-APM-MacOS%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%94%A8Arduino%E7%BC%96%E8%AF%91APM2.x.html</link><description>

&lt;p&gt;在MacOS平台上针对AVR芯片的Ardupilot的源码编译可以有两种选择。第一种是使用特殊版的Arduino编译环境。你可以在&lt;a href="http://firmware.diydrones.com/"&gt;http://firmware.diydrones.com/&lt;/a&gt;的工具目录下获得。第二种选择是使用&lt;code&gt;make&lt;/code&gt;命令行工具进行编译。
&lt;/p&gt;
&lt;p&gt;如果你选择Arduino工具，当你安装完成之后，你还需要做下面这些事情：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;在Ardupilot菜单下选择你的飞控板类型&lt;/li&gt;
&lt;li&gt;在菜单File--&amp;gt;&amp;gt;属性Preferences下设置Sketchbook位置到你的Ardupilot源码目录&lt;/li&gt;
&lt;li&gt;关闭并重启Arduino&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-the-code-on-mac/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Mon, 08 Sep 2014 09:02:28 +0800</pubDate><guid>tag:liung.github.io,2014-09-08:blog/apm/2014-09-08-APM-MacOS平台上用Arduino编译APM2.x.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-Windows平台使用Make方法编译Pixhawk和PX4</title><link>http://liung.github.io/blog/apm/2014-09-07-APM-Windows%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%94%A8Make%E6%96%B9%E6%B3%95%E7%BC%96%E8%AF%91Pixhawk%E5%92%8CPX4.html</link><description>&lt;h3&gt;Windows平台&lt;/h3&gt;
&lt;p&gt;
&lt;strong&gt;1、&lt;/strong&gt; 安装&lt;a href="http://windows.github.com/"&gt;Github for Windows&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;2、&lt;/strong&gt;  确保你的github上设置行结束符不发生改变。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;当你安装完成Git，顺带也安装了“Git shell（or Bash）”。点击“Git shell（or Bash）”图标，然后在弹出的Git “MINGW32”终端窗口键入：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;git config --global core.autocrlf false&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;3、&lt;/strong&gt;“克隆”（clone）Ardupilot，PX4Firmware和PX4NuttX代码库到你的本地电脑上：&lt;/p&gt;


&lt;ul&gt;
&lt;li&gt;到 &lt;a href="https://github.com/diydrones/ardupilot"&gt;GitHub/diydrones/ardupilot&lt;/a&gt; 的web页面点击“Clone in Desktop”按钮&lt;/li&gt;
&lt;li&gt;到&lt;a href="https://github.com/diydrones/PX4Firmware"&gt; GitHub/diydrones/PX4Firmware &lt;/a&gt;的web页面点击“Clone in Desktop”按钮&lt;/li&gt;
&lt;li&gt;到&lt;a href="https://github.com/diydrones/PX4NuttX"&gt; GitHub/diydrones/PX4NuttX &lt;/a&gt;的web页面点击“Clone in Desktop”按钮&lt;/li&gt;
&lt;li&gt;&lt;img alt="img1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/06/BuildingTheCode_PX4OnWindows1.png" /&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;4、&lt;/strong&gt;运行&lt;a href="http://www.inf.ethz.ch/personal/lomeier/downloads/px4_toolchain_installer_v12_win.exe"&gt; px4_toolchain_installer_v12_win.exe &lt;/a&gt;下载并安装PX4工具链（在&lt;a href="http://pixhawk.org/firmware/downloads#px4_arm_toolchain"&gt;该页面&lt;/a&gt;的底部搜索“PX4 Toolchain Installer”）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;5、&lt;/strong&gt;创建并定制config.mk文件：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;win7平台可以在开始&amp;gt;&amp;gt;所有程序&amp;gt;&amp;gt;PX4 Toolchain找到PX4Console并运行，或直接运行该C:\px4\toolchain\msys\1.0\px4_console.bat文件。&lt;/li&gt;
&lt;li&gt;切换到步骤三中Ardupilot固件的文件目录，然后进入ArduCopter目录（确保这里&lt;strong&gt;A&lt;/strong&gt;rdu&lt;strong&gt;C&lt;/strong&gt;opter中的A和C要大写）。上述操作可以在命令行中如下执行：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;cd /c/Users/&amp;lt;username&amp;gt;/Documents/GitHub/ardupilot/ArduCopter&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;通过在终端键入下列命令创建config.mk文件。系统将会出现这样的 &amp;#8220;WARNING &amp;#8211; 信息：包含有准确文件位置信息的config.mk文件已经写入。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;make configure&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;如果步骤三中创建PX4Firmware和PX4NuttX仓库时使用了相同的名字和位置，那么就不需要更改config.mk文件。但是如果名字或者位置有一个不同，那你就需要用诸如&lt;a href="http://notepad-plus-plus.org/download/v6.4.5.html"&gt;NotePad++&lt;/a&gt;等文本编辑器打开config.mk，并将PX4_ROOT和/或NUTTX_SRC值设置与实际位置匹配。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img2" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/06/BuildingTheCode_PX4OnWindows2.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;6、&lt;/strong&gt;打开PX4控制台开始编译固件，首先切换到ArduCopter目录，然后输入下面命令执行编译&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;make px4&lt;/code&gt;                &amp;lt;– 将会编译四旋翼的PX4和PixHawk固件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make px4-v2&lt;/code&gt;           &amp;lt;– 将会编译四旋翼的PixHawk固件&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make px4-v2-hexa&lt;/code&gt;  &amp;lt;–将会编译六旋翼的PixHawk固件(其它可支持的后缀参数包括“octa”和"heli")&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make clean&lt;/code&gt;             &amp;lt;– 清理（“clean”） ardupilot 文件目录&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make px4-clean&lt;/code&gt;      &amp;lt;– 清理（“clean”）PX4Firmware 和 PX4NuttX  文件目录以便于下次重新编译&lt;/li&gt;
&lt;li&gt;&lt;code&gt;make px4-v2-upload&lt;/code&gt;  &amp;lt;– 编译并上传四旋翼的Pixhawk固件(如果使用该命令，那么就不需要执行下面的步骤七了)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;编译好的固件以.px4文件扩展名结尾，位于在ArduCopter目录&lt;/p&gt;
&lt;p&gt;&lt;img alt="img3" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/06/PX4_ArduCopter_Build.png" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;7、&lt;/strong&gt;使用Mission Planner 加载固件的方法：初始设置（Initial Setup）&amp;gt;&amp;gt;安装固件（Install Firmware）界面点击“Load custom firmware”链接&lt;/p&gt;
&lt;h3&gt;加快编译时间的一些小建议&lt;/h3&gt;
&lt;p&gt;杀毒防护软件有可能会减慢编译时间，特别对PX4尤为明显，所以建议包含有Ardupilot、PX4Firmware和PX4NuttX源代码的文件夹不在你的杀毒软件实时扫描范围内。&lt;/p&gt;
&lt;p&gt;当执行完&lt;code&gt;make px4-clean&lt;/code&gt;后的第一次编译将会非常的慢，这是因为要重新编译链接每一个文件。&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-px4-with-make/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sun, 07 Sep 2014 13:59:57 +0800</pubDate><guid>tag:liung.github.io,2014-09-07:blog/apm/2014-09-07-APM-Windows平台上用Make方法编译Pixhawk和PX4.html</guid><category>APM</category><category>硬件</category></item><item><title>APM-Windows平台上用Arduino编译ArduPilot</title><link>http://liung.github.io/blog/apm/2014-09-06-APM-Windows%E5%B9%B3%E5%8F%B0%E4%B8%8A%E7%94%A8Arduino%E7%BC%96%E8%AF%91ArduPilot.html</link><description>

&lt;p&gt;&lt;strong&gt;版本要求： Copter 3.1， Plane 2.76&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;硬件要求： APM 2.0,2.5,2.6&lt;/strong&gt;
&lt;/p&gt;
&lt;p&gt;&lt;img alt="apm" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image001.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 1 安装Git-SCM&lt;/h3&gt;
&lt;p&gt;软件链接： &lt;a href="http://git-scm.com/download/win"&gt;http://git-scm.com/download/win&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在安装过程中请按照下面的截图勾选相应的选项。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img1" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image004.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img2" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image006.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;在欢迎界面和许可证界面点击Next按钮&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img alt="img3" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image008.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img4" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image018.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;在选择组件点击Next按钮，然后点击Finish按钮。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img alt="img5" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image014.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img6" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image016.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;在替换用户文件界面点击Next按钮，然后等待Git完成安装。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img alt="img7" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image012.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img8" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image010.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;如上图，选择切换到window风格（checkout windows-style），然后点击Next按钮，选择从windows命令界面运行Git，点击Next按钮。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 2 下载源码&lt;/h3&gt;
&lt;p&gt;首先在你电脑的C盘，建立一个名为GIT的文件夹。&lt;/p&gt;
&lt;p&gt;用windows资源管理器到该文件夹下。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img9" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image020.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;然后在文件夹空白地方右击选择git Bash选项。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img10" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image022.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;此时，屏幕上会弹出下面的窗口。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img11" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image024.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;在该命令窗口中，键入：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;git&lt;/span&gt; &lt;span class="n"&gt;clone&lt;/span&gt; &lt;span class="n"&gt;git&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="c1"&gt;//github.com/diydrones/ardupilot.git&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;img alt="img26" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image026.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;当命令执行完毕之后，应该像下面这样...&lt;/p&gt;
&lt;p&gt;&lt;img alt="img12" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image028.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 3 安装MHV_AVR_Tools到软件默认位置&lt;/h3&gt;
&lt;p&gt;软件链接：&lt;a href="http://firmware.diydrones.com/Tools/Arduino/MHV_AVR_Tools_20121007.exe"&gt;http://firmware.diydrones.com/Tools/Arduino/MHV_AVR_Tools_20121007.exe&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img13" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image030.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img14" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image038.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;安装引导界面点击Next按钮然后选择Install按钮开始安装&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img alt="img15" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image036.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="img16" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image034.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;在选择组件界面两项都勾选，然后点击Next按钮，选择安装到默认位置。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;img alt="img17" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image032.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;在许可证界面点击同意（I Agree）完成安装。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 4 安装Ardupilot-Arduino&lt;/h3&gt;
&lt;p&gt;接下来下载特定版本的 ArduPilot Arduino 压缩包。&lt;/p&gt;
&lt;p&gt;这里有一个新版本的，采用GCC 4.7.2编译。&lt;/p&gt;
&lt;p&gt;地址：&lt;a href="http://firmware.diydrones.com/Tools/Arduino/ArduPilot-Arduino-1.0.3-gcc-4.8.2-windows.zip"&gt;http://firmware.diydrones.com/Tools/Arduino/ArduPilot-Arduino-1.0.3-gcc-4.8.2-windows.zip&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;我将该文件解压到我电脑上的C盘。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 5 配置Arduino&lt;/h3&gt;
&lt;p&gt;打开放置Arduino的文件夹&lt;/p&gt;
&lt;p&gt;&lt;img alt="img18" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image0401.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;双击Arduino图标&lt;/p&gt;
&lt;p&gt;&lt;img alt="img19" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image040.jpg" /&gt;&lt;/p&gt;
&lt;p&gt;当Arduino打开之后，到文件（file）菜单栏&lt;/p&gt;
&lt;p&gt;&lt;img alt="img20" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image042.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;点击属性&lt;/p&gt;
&lt;p&gt;&lt;img alt="img21" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image044.png" /&gt;&lt;/p&gt;
&lt;p&gt;设置Sketchbook到你电脑上GIT文件夹下的Ardupilot目录&lt;/p&gt;
&lt;p&gt;同样选择编译和加载选项，这样在执行相应功能时就可以查看到详细信息。&lt;/p&gt;
&lt;p&gt;不要选择启动时自动升级功能（该版本是针对Ardupilot的特殊版本）&lt;/p&gt;
&lt;p&gt;点击OK，然后关闭Arduino&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 6 通过USB连接你的APM&lt;/h3&gt;
&lt;p&gt;重新打开Arduino，然后在file菜单栏中点击Sketchbook，选择你想要加载到你的APM2.x上的程序代码（比如这里选择ArduCopter,其它采用同样的方法设置）。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img22" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image047.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;一旦文件加载完成，点击Ardupilot菜单，选择HAL板下的Ardupilot Mega 2.x&lt;/p&gt;
&lt;p&gt;&lt;img alt="img23" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image049.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;然后点击Tools菜单，选择Board 选项卡下的 Arduino Mega 2560 or Mega ADK&lt;/p&gt;
&lt;p&gt;&lt;img alt="img24" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image051.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;接下来重新选择Tools菜单，设置你的APM连接到电脑上的端口号Serial Port&lt;/p&gt;
&lt;p&gt;&lt;img alt="img25" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image053.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;在这个例子中为COM4，你可以在你的电脑的设备管理器中，在端口Ports中查看APM对应的端口。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img27" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image055.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 7 配置Arducopter&lt;/h3&gt;
&lt;p&gt;点击文件APM_Config.h选项卡。&lt;/p&gt;
&lt;p&gt;设置你的飞行器构型（例如&lt;code&gt;#define FRAME_CONFIG HEXA_FRAME&lt;/code&gt;）&lt;/p&gt;
&lt;p&gt;在该文件中可以启用/不启用相应的功能。&lt;/p&gt;
&lt;p&gt;例如：如果在编译过程中想让auto tune 功能失效，那么你可以简单的将该行取消注释&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;//# AUTOTUNE              DISABLED            // 不启用该功能可以节省7k的闪存空间&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;改为：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# AUTOTUNE              DISABLED            // 不启用该功能可以节省7k的闪存空间&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;默认是启用该功能。&lt;/p&gt;
&lt;p&gt;源代码中所有注释掉的功能都不是默认的，你需要做的就是通过取消注释来改变系统的默认选项&lt;/p&gt;
&lt;p&gt;保存该文件然后选择文件Arducopter&lt;/p&gt;
&lt;p&gt;接下来就可以准备开始编译了。&lt;/p&gt;
&lt;p&gt;但一般来讲我会先选择校验（verify）代码。&lt;/p&gt;
&lt;p&gt;&lt;img alt="img28" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image057.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;Step 8 将代码加载到你的Ardupilot板上&lt;/h3&gt;
&lt;p&gt;点击编译按钮&lt;/p&gt;
&lt;p&gt;&lt;img alt="img29" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image058.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;这可能会花费一些时间...&lt;/p&gt;
&lt;p&gt;当出现下面提示时表明编译完成...&lt;/p&gt;
&lt;p&gt;&lt;img alt="img30" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/11/image061.jpg" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;最后用地面站软件Mission Planner确认能否正常使用&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;注意&lt;/h3&gt;
&lt;p&gt;你自己配置并编译过的代码是没有经过测试的，请仅仅将它用来做测试之用。如果你没有足够的把握，建议你使用Mission Planner来加载预先编译过的代码。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;升级你的代码&lt;/h3&gt;
&lt;p&gt;请确认你电脑上的代码为最新版，否则就用git来升级你的代码到最新版本。&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-ardupilot-with-arduino-windows/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sat, 06 Sep 2014 15:34:19 +0800</pubDate><guid>tag:liung.github.io,2014-09-06:blog/apm/2014-09-06-APM-Windows平台上用Arduino编译ArduPilot.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-编译代码</title><link>http://liung.github.io/blog/apm/2014-09-06-APM-%E7%BC%96%E8%AF%91%E4%BB%A3%E7%A0%81.html</link><description>

&lt;p&gt;下面这些页面的链接，将提供给你更多关于如何编译APM2.x和PX4的飞行器控制和地面站源码的信息。&lt;/p&gt;


&lt;hr /&gt;
&lt;h3&gt;APM:Plane,Copter,Rover:&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;Windows用户：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-06-APM-Windows平台上用Arduino编译ArduPilot.html"&gt;Windows平台上用Arduino编译ArduPilot&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-07-APM-Windows平台上用Make方法编译Pixhawk和PX4.html"&gt;Windows平台上用Make方法编译Pixhawk/PX4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-the-code/wiki/building-ardupilot-apm-with-visual-studio-visual-micro/"&gt;使用Atmel Studio或者Visual Studio编译APM&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;MacOS用户：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-08-APM-MacOS平台上用Arduino编译APM2.x.html"&gt;MacOS平台上用Arduino编译APM2.x&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-08-APM-MacOS平台上用Make方法编译Pixhawk和PX4.html"&gt;MacOS平台上用Make方法编译Pixhawk/PX4&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Linux用户：&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-10-APM-Linux平台上用Make方法编译APM2.x.html"&gt;Linux平台上用Make方法编译APM2.x&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-10-APM-Linux平台上用Make方法编译Pixhawk和PX4.html"&gt;Linux平台上用Make方法编译Pixhawk/PX4&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-for-beaglebone-black-on-linux/"&gt;Linux平台上用Make方法编译BeagleBone Black&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h3&gt;地面站Mission Planner：&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-the-code/wiki/compile-mission-planner/"&gt;Windows平台上使用Visual Studio编译Mission Planner&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-the-code/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sat, 06 Sep 2014 14:03:34 +0800</pubDate><guid>tag:liung.github.io,2014-09-06:blog/apm/2014-09-06-APM-编译代码.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-增加新的MAVLink通讯协议消息</title><link>http://liung.github.io/blog/apm/2014-09-05-APM-%E5%A2%9E%E5%8A%A0%E6%96%B0%E7%9A%84MAVLink%E9%80%9A%E8%AE%AF%E5%8D%8F%E8%AE%AE%E6%B6%88%E6%81%AF.html</link><description>&lt;h3&gt;综述&lt;/h3&gt;
&lt;p&gt;
地面站之间的数据和指令通信都是通过串行接口使用&lt;a href="http://en.wikipedia.org/wiki/MAVLink"&gt;MAVLink协议&lt;/a&gt;来传递的。本页面将提供关于添加新的MAVLink信息的一些高级建议。&lt;/p&gt;
&lt;p&gt;这些指令仅在Liunx上测试完成（通过Windows上虚拟机运行的Ubuntu）。关于设置虚拟机的方法在&lt;a href="http://dev.ardupilot.com/wiki/code-overview-adding-a-new-mavlink-message/wiki/setting-up-sitl-on-windows/"&gt;SITL(软件层面仿真)页面&lt;/a&gt;有相关介绍。如果你要运行SITL，你最好遵循下面的一些建议。这些指令不能直接在Windows或者Mac平台上本地运行。
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #1&lt;/strong&gt;：确保你已经安装了最新的ardupilot代码，同时也检查一下mavproxy是否是最新版本。mavproxy工具可以通过在终端窗口运行下面命令进行升级。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;sudo&lt;/span&gt; &lt;span class="n"&gt;pip&lt;/span&gt; &lt;span class="n"&gt;install&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;upgrade&lt;/span&gt; &lt;span class="n"&gt;mavproxy&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #2&lt;/strong&gt;：先确定你所要添加的信息的类型，以及如何和已有的&lt;a href="https://pixhawk.ethz.ch/mavlink/"&gt;MavLink消息&lt;/a&gt;兼容。&lt;/p&gt;
&lt;p&gt;比如：你可能会想要向飞行器发送一个新的导航指令，让它可以在任务中期（自动模式中）模仿一个特技动作（比如翻筋斗）。在这个例子中，你需要一个类似于&lt;code&gt;MAV_CMD_NAV_WAYPOINT&lt;/code&gt;（可以在&lt;a href="https://pixhawk.ethz.ch/mavlink/"&gt;MAVLink消息页面&lt;/a&gt;搜索&lt;code&gt;MAV_CMD_NAV_WAYPOINT&lt;/code&gt;）一样的新的导航指令&lt;code&gt;MAV_CMD_NAV_TRICK&lt;/code&gt;。&lt;/p&gt;
&lt;p&gt;又或者你想要从飞行器发送一个新的传感器数据类型到地面站,可能类似于&lt;a href="https://pixhawk.ethz.ch/mavlink/#SCALED_PRESSURE"&gt;SCALED_PRESSURE&lt;/a&gt;消息。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #3&lt;/strong&gt;：在&lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/GCS_MAVLink/message_definitions/common.xml"&gt;common.xml&lt;/a&gt;和&lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/GCS_MAVLink/message_definitions/ardupilotmega.xml"&gt;ardupilotmega.xml&lt;/a&gt;文件中添加你的信息的定义声明。&lt;/p&gt;
&lt;p&gt;如果你希望将该指令添加到MAVLink协议中，那么你应该添加该指令到../ardupilot/libraries/GCS_MAVLink/message_definitions/common.xml文件中。如果你仅仅个人使用或者仅仅和ArduCopter，ArduPlane，ArduRover搭配使用，那么它就应该被添加到ardupimega.xml文件中。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #4&lt;/strong&gt;：重新生成你的所有inlcude文件，确保添加的信息在主代码中可以被识别。&lt;/p&gt;
&lt;p&gt;首先将目录切换到ardupilot文件夹下，然后执行下面命令：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libraries&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;GCS_MAVLink&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;generate&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sh&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;成功执行后，你应该看到下面这些文件都应经被更新。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;../libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/ardupilotmega.h&lt;/span&gt;
&lt;span class="cp"&gt;../libraries/GCS_MAVLink/include/mavlink/v1.0/ardupilotmega/version.h&lt;/span&gt;
&lt;span class="cp"&gt;../libraries/GCS_MAVLink/include/mavlink/v1.0/common/version.h&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;文件version.h仅简单的更新了文件的日期和时间，但是ardupilotmega.h文件已经应该有了你的新消息的定义声明。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #5&lt;/strong&gt;：在飞行器主代码中添加函数方法用来控制向/从地面站发送/接收指令。&lt;/p&gt;
&lt;p&gt;这些顶层代码指令绝大部分包含在飞行器的&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/GCS_Mavlink.pde"&gt;GCS_MAVLink.pde&lt;/a&gt;文件中或在&lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/GCS_MAVLink/GCS.h"&gt;../libraries/GCS_MAVLink/GCS&lt;/a&gt;类中。&lt;/p&gt;
&lt;p&gt;在我们想要添加一个新的导航指令的例子中（比如执行特技动作），应该需要下面信息：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;扩展&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Mission"&gt;AP_Mission库&lt;/a&gt;中的&lt;code&gt;mission_cmd_to_mavlink()&lt;/code&gt;和&lt;code&gt;mavlink_to_mission_cmd()&lt;/code&gt;方法，将mavproxy的指定转换到一个&lt;code&gt;AP_Mission::Mission_Command&lt;/code&gt;结构体中。&lt;/li&gt;
&lt;li&gt;在飞行器的&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/commands_logic.pde"&gt;commands_logic.pde&lt;/a&gt;文件中分别添加&lt;code&gt;start_command()&lt;/code&gt;函数和&lt;code&gt;verify_command()&lt;/code&gt;函数的一个&lt;code&gt;case&lt;/code&gt;分支，用来校验新的消息指令&lt;code&gt;MAV_CMD_NAV_TRICK&lt;/code&gt;是否接收到。这些需要你调用自己创建的两个新函数&lt;code&gt;do_trick()&lt;/code&gt;和&lt;code&gt;verify_trick()&lt;/code&gt;（具体参考下面）。&lt;/li&gt;
&lt;li&gt;创建两个新函数&lt;code&gt;do_trick()&lt;/code&gt;和&lt;code&gt;verify_trick()&lt;/code&gt;，用来控制飞行器如何执行特技动作（这可能需要调用&lt;a href=""&gt;control_auto.pde&lt;/a&gt;中的另一个函数来设置&lt;code&gt;auto_mode&lt;/code&gt;变量，然后调用新方法&lt;code&gt;auto_trick_start()&lt;/code&gt;）。当指令第一次被唤醒时将使用&lt;code&gt;do_trick()&lt;/code&gt;函数。&lt;code&gt;verify_trick()&lt;/code&gt;函数将会以10hz频率（或者更高）被重复调用直到特技动作完成，当特技动作执行完毕之后&lt;code&gt;verify_trick()&lt;/code&gt;函数应该返回&lt;code&gt;True&lt;/code&gt;。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #6&lt;/strong&gt;：考虑是否发布你的代码到主代码仓库中。&lt;/p&gt;
&lt;p&gt;你可以发邮件到&lt;a href="https://groups.google.com/forum/#!forum/drones-discuss"&gt;drones-discuss email list&lt;/a&gt;并且/或者&lt;a href="http://dev.ardupilot.com/wiki/code-overview-adding-a-new-mavlink-message/wiki/submitting-patches-back-to-master/"&gt;发送一个pull请求&lt;/a&gt;。如果你发送一个pull提交请求，最好将改变的部分分成至少三个部分的提交确认（commits,与git指令相关，包括pull、push等）。一个是.xml文件的改变提交确认（Setp #3），另一个是重新生成文件的（Step #4），剩下的还有一个或者更多是关于飞行器主代码变化的提交确认。&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/code-overview-adding-a-new-mavlink-message/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Fri, 05 Sep 2014 14:41:58 +0800</pubDate><guid>tag:liung.github.io,2014-09-05:blog/apm/2014-09-05-APM-增加新的MAVLink通讯协议消息.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-规划新代码使之按一定频率运行</title><link>http://liung.github.io/blog/apm/2014-09-05-APM-ArduCopter%E8%A7%84%E5%88%92%E6%96%B0%E4%BB%A3%E7%A0%81%E4%BD%BF%E4%B9%8B%E6%8C%89%E4%B8%80%E5%AE%9A%E9%A2%91%E7%8E%87%E8%BF%90%E8%A1%8C.html</link><description>&lt;p&gt;本页面将向你介绍如何规划你的新代码块使之可以按需运行。&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;用代码调度器运行你的代码&lt;/h3&gt;
&lt;p&gt;在给定时间间隔内来运行你的代码的最灵活的方式就是使用调度器。这可以通过将你的函数添加到文件&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde"&gt;ArduCopter.pde&lt;/a&gt;中的&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde#L788"&gt;&lt;code&gt;scheduler_tasks&lt;/code&gt;&lt;/a&gt;数组来完成。需要表明的是：实际上该文件中有两个任务列表，&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde#L788"&gt;上面的任务列表&lt;/a&gt;是针对高频CPUs（如Pixhawk），&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde#L856"&gt;下面的&lt;/a&gt;是针对低频CPUs（如APM2）。&lt;/p&gt;


&lt;p&gt;添加一个任务是相当的简单，你只要在列表添加新的一行代码就可以了（列表中位置越靠前意味着拥有更高的级别）。任务项中的第一列代表了函数名，第二列是以2.5ms为单位的数字（或者APM2中以10ms为单位）。所以，如果你想要你的函数执行频率为400Hz，那么该列就需要填写为“1”，如果想要50Hz，那么就需要改为“8”。任务项的最后一列代表该函数预计运行花费的微秒（百万分之一秒）时间。这可以帮助调度器来预估在下一个主循环开始之前有否有足够的时间来运行你的函数。
&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cm"&gt;/*&lt;/span&gt;
&lt;span class="cm"&gt;  scheduler table - all regular tasks apart from the fast_loop()&lt;/span&gt;
&lt;span class="cm"&gt;  should be listed here, along with how often they should be called&lt;/span&gt;
&lt;span class="cm"&gt;  (in 10ms units) and the maximum time they are expected to take (in&lt;/span&gt;
&lt;span class="cm"&gt;  microseconds)&lt;/span&gt;
&lt;span class="cm"&gt; */&lt;/span&gt;
&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;const&lt;/span&gt; &lt;span class="n"&gt;AP_Scheduler&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;Task&lt;/span&gt; &lt;span class="n"&gt;scheduler_tasks&lt;/span&gt;&lt;span class="p"&gt;[]&lt;/span&gt; &lt;span class="no"&gt;PROGMEM&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;update_GPS&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;            &lt;span class="mh"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;900&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;update_nav_mode&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;       &lt;span class="mh"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;400&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;medium_loop&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;           &lt;span class="mh"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;700&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;update_altitude&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;      &lt;span class="mh"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="mh"&gt;1000&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;fifty_hz_loop&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;         &lt;span class="mh"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;950&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;run_nav_updates&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;      &lt;span class="mh"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;800&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;slow_loop&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;            &lt;span class="mh"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;500&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;gcs_check_input&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;       &lt;span class="mh"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;700&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;gcs_send_heartbeat&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="mh"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;700&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;gcs_data_stream_send&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="mh"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="mh"&gt;1500&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;gcs_send_deferred&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="mh"&gt;1200&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;compass_accumulate&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="mh"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;700&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;barometer_accumulate&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;  &lt;span class="mh"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;900&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;super_slow_loop&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;100&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="mh"&gt;1100&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;
      &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;my_new_function&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;      &lt;span class="mh"&gt;10&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;200&lt;/span&gt; &lt;span class="p"&gt;},&lt;/span&gt;  &lt;span class="c1"&gt;//here,添加你的任务项&lt;/span&gt;
    &lt;span class="p"&gt;{&lt;/span&gt; &lt;span class="n"&gt;perf_update&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;        &lt;span class="mh"&gt;1000&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="mh"&gt;500&lt;/span&gt; &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h3&gt;作为循环的一部分运行你的代码&lt;/h3&gt;
&lt;p&gt;为了代替在代码调度器中加入一个新的函数入口，你还可以在现有的任何时间循环事件中添加你的函数。除了在fast-loop循环中添加外，这种方法对比起上面的代码调度器方法并没有什么实质性好处。但当你的代码添加到fast-loop循环中时，就意味着它将以最高的优先级别来执行（它几乎能100%达到所确保的400hz运行速度）。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde#L990"&gt;&lt;strong&gt;fast_loop&lt;/strong&gt;&lt;/a&gt;:APM2上运行频率100hz，Pixhawk上400Hz&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde#L1119"&gt;&lt;strong&gt;fifty_hz_loop&lt;/strong&gt;&lt;/a&gt;:运行频率50hz&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde#L1101"&gt;&lt;strong&gt;ten_hz_logging_loop&lt;/strong&gt;&lt;/a&gt;:运行频率10hz&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde#L1138"&gt;&lt;strong&gt;three_hz_loop&lt;/strong&gt;&lt;/a&gt;:运行频率3.3hz&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde#L1159"&gt;&lt;strong&gt;on_hz_loop&lt;/strong&gt;&lt;/a&gt;:运行频率1hz&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;所以举个例子，如果你想让你的代码运行频率为10hz，那么你就要将它添加到&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde"&gt;ArduCopter.pde&lt;/a&gt;文件的&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/ArduCopter.pde#L1101"&gt;&lt;code&gt;ten_hz_logging_loop()&lt;/code&gt;&lt;/a&gt;函数声明中。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;// ten_hz_logging_loop&lt;/span&gt;
&lt;span class="c1"&gt;// should be run at 10hz&lt;/span&gt;
&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="n"&gt;ten_hz_logging_loop&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log_bitmask&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="no"&gt;MASK_LOG_ATTITUDE_MED&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Log_Write_Attitude&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log_bitmask&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="no"&gt;MASK_LOG_RCIN&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;DataFlash&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Log_Write_RCIN&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log_bitmask&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="no"&gt;MASK_LOG_RCOUT&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;DataFlash&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Log_Write_RCOUT&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;log_bitmask&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&lt;/span&gt; &lt;span class="no"&gt;MASK_LOG_NTUN&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class="n"&gt;mode_requires_GPS&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;control_mode&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;Log_Write_Nav_Tuning&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

        &lt;span class="c1"&gt;// 在这里添加你的新代码&lt;/span&gt;
        &lt;span class="n"&gt;my_new_function&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/code-overview-scheduling-your-new-code-to-run-intermittently/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Fri, 05 Sep 2014 12:08:26 +0800</pubDate><guid>tag:liung.github.io,2014-09-05:blog/apm/2014-09-05-APM-ArduCopter规划新代码使之按一定频率运行.html</guid><category>APM</category><category>APM:Copter</category><category>飞控板</category><category>硬件</category></item><item><title>APM-添加新的飞行模式</title><link>http://liung.github.io/blog/apm/2014-09-05-APM-ArduCopter%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%9A%84%E9%A3%9E%E8%A1%8C%E6%A8%A1%E5%BC%8F.html</link><description>

&lt;p&gt;这部分将涵盖一些怎样创建一个新的高级别的飞行模式的基本操作步骤（类似于自稳，悬停等），这些新模式处于“the onion”（洋葱头工程）中的高级别代码控制部分，如之前&lt;a href="http://liung.github.io/blog/apm/2014-08-31-APM-ArduCopter姿态控制概览.html"&gt;姿态控制页面&lt;/a&gt;描述的一样。不过遗憾的是本页面并没有提供给你关于所创建的理想飞行模式需要的所有信息，但是希望这将是一个好的开始。
&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #1&lt;/strong&gt;：在文件&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/defines.h#L88"&gt;defines.h&lt;/a&gt;中用&lt;code&gt;#define&lt;/code&gt;定义你自己新的飞行模式,然后将飞行模式数量&lt;code&gt;NUM_MODES&lt;/code&gt;加1。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;    &lt;span class="c1"&gt;// Auto Pilot modes&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;STABILIZE&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt; &lt;span class="c1"&gt;// hold level position&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;ACRO&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt; &lt;span class="c1"&gt;// rate control&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;ALT_HOLD&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="c1"&gt;// AUTO control&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;AUTO&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt; &lt;span class="c1"&gt;// AUTO control&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;GUIDED&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt; &lt;span class="c1"&gt;// AUTO control&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;LOITER&lt;/span&gt; &lt;span class="mi"&gt;5&lt;/span&gt; &lt;span class="c1"&gt;// Hold a single location&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;RTL&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt; &lt;span class="c1"&gt;// AUTO control&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;CIRCLE&lt;/span&gt; &lt;span class="mi"&gt;7&lt;/span&gt; &lt;span class="c1"&gt;// AUTO control&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;LAND&lt;/span&gt; &lt;span class="mi"&gt;9&lt;/span&gt; &lt;span class="c1"&gt;// AUTO control&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;OF_LOITER&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt; &lt;span class="c1"&gt;// Hold a single location using optical flow sensor&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;DRIFT&lt;/span&gt; &lt;span class="mi"&gt;11&lt;/span&gt; &lt;span class="c1"&gt;// DRIFT mode (Note: 12 is no longer used)&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;SPORT&lt;/span&gt; &lt;span class="mi"&gt;13&lt;/span&gt; &lt;span class="c1"&gt;// earth frame rate control&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;FLIP&lt;/span&gt; &lt;span class="mi"&gt;14&lt;/span&gt; &lt;span class="c1"&gt;// flip the vehicle on the roll axis&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;AUTOTUNE&lt;/span&gt; &lt;span class="mi"&gt;15&lt;/span&gt; &lt;span class="c1"&gt;// autotune the vehicle&amp;#39;s roll and pitch gains&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;POSHOLD&lt;/span&gt; &lt;span class="mi"&gt;16&lt;/span&gt; &lt;span class="c1"&gt;// position hold with manual override&lt;/span&gt;

    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;NEWFLIGHTMODE&lt;/span&gt; &lt;span class="mi"&gt;17&lt;/span&gt;    &lt;span class="c1"&gt;// 描述你所定义的模式内容&lt;/span&gt;
    &lt;span class="err"&gt;#&lt;/span&gt;&lt;span class="n"&gt;define&lt;/span&gt; &lt;span class="n"&gt;NUM_MODES&lt;/span&gt; &lt;span class="mi"&gt;18&lt;/span&gt;        &lt;span class="c1"&gt;//模式数+1&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #2&lt;/strong&gt;：类似于相似的飞行模式的&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/control_stabilize.pde"&gt;control_stabilize.pde&lt;/a&gt;或者&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/control_loiter.pde"&gt;control_loiter.pde&lt;/a&gt;文件，创建新的飞行模式的&lt;code&gt;&amp;lt;new flight mode&amp;gt;.pde&lt;/code&gt;控制sketch文件。该文件中必须包含一个&lt;code&gt;_init()&lt;/code&gt;初始化函数和&lt;code&gt;_run()&lt;/code&gt;运行函数。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;/// -*- tab-width: 4; Mode: C++; c-basic-offset: 4; indent-tabs-mode: nil -*-&lt;/span&gt;

&lt;span class="cm"&gt;/*&lt;/span&gt;
&lt;span class="cm"&gt; * control_newflightmode.pde - init and run calls for new flight mode&lt;/span&gt;
&lt;span class="cm"&gt; */&lt;/span&gt;

&lt;span class="c1"&gt;// newflightmode_init - initialise flight mode&lt;/span&gt;
&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;newflightmode_init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;ignore_checks&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// do any required initialisation of the flight mode here&lt;/span&gt;
    &lt;span class="c1"&gt;// this code will be called whenever the operator switches into this mode&lt;/span&gt;

    &lt;span class="c1"&gt;// return true initialisation is successful, false if it fails&lt;/span&gt;
    &lt;span class="c1"&gt;// if false is returned here the vehicle will remain in the previous flight mode&lt;/span&gt;
    &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;

&lt;span class="c1"&gt;// newflightmode_run - runs the main controller&lt;/span&gt;
&lt;span class="c1"&gt;// will be called at 100hz or more&lt;/span&gt;
&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="n"&gt;newflightmode_run&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// if not armed or throttle at zero, set throttle to zero and exit immediately&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;motors&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;armed&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="o"&gt;||&lt;/span&gt; &lt;span class="n"&gt;g&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rc_3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;control_in&lt;/span&gt; &lt;span class="o"&gt;&amp;lt;=&lt;/span&gt; &lt;span class="mh"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="n"&gt;attitude_control&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;relax_bf_rate_controller&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;attitude_control&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_yaw_target_to_current_heading&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
        &lt;span class="n"&gt;attitude_control&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_throttle_out&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mh"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;false&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="c1"&gt;// convert pilot input into desired vehicle angles or rotation rates&lt;/span&gt;
    &lt;span class="c1"&gt;//   g.rc_1.control_in : pilots roll input in the range -4500 ~ 4500&lt;/span&gt;
    &lt;span class="c1"&gt;//   g.rc_2.control_in : pilot pitch input in the range -4500 ~ 4500&lt;/span&gt;
    &lt;span class="c1"&gt;//   g.rc_3.control_in : pilot&amp;#39;s throttle input in the range 0 ~ 1000&lt;/span&gt;
    &lt;span class="c1"&gt;//   g.rc_4.control_in : pilot&amp;#39;s yaw input in the range -4500 ~ 4500&lt;/span&gt;

    &lt;span class="c1"&gt;// call one of attitude controller&amp;#39;s attitude control functions like&lt;/span&gt;
    &lt;span class="c1"&gt;//   attitude_control.angle_ef_roll_pitch_rate_yaw(roll angle, pitch angle, yaw rate);&lt;/span&gt;

    &lt;span class="c1"&gt;// call position controller&amp;#39;s z-axis controller or simply pass through throttle&lt;/span&gt;
    &lt;span class="c1"&gt;//   attitude_control.set_throttle_out(desired throttle, true);&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #3&lt;/strong&gt;：在文件&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/flight_mode.pde#L269"&gt;flight_mode.pde&lt;/a&gt;文件的&lt;code&gt;set_mode()&lt;/code&gt;函数中增加一个新飞行模式的&lt;code&gt;case&lt;/code&gt;（C++中switch..case语法）选项，然后调用上面的&lt;code&gt;_init()&lt;/code&gt;函数。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;// set_mode - change flight mode and perform any necessary initialisation&lt;/span&gt;
&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="n"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;set_mode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;uint8_t&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// boolean to record if flight mode could be set&lt;/span&gt;
    &lt;span class="n"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;success&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;false&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;ignore_checks&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="o"&gt;!&lt;/span&gt;&lt;span class="n"&gt;motors&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;armed&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;   &lt;span class="c1"&gt;// allow switching to any mode if disarmed.  We rely on the arming check to perform&lt;/span&gt;

    &lt;span class="c1"&gt;// return immediately if we are already in the desired mode&lt;/span&gt;
    &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mode&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="n"&gt;control_mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;true&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;

    &lt;span class="n"&gt;switch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nl"&gt;ACRO:&lt;/span&gt;
            &lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="no"&gt;FRAME_CONFIG&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="no"&gt;HELI_FRAME&lt;/span&gt;
                &lt;span class="n"&gt;success&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;heli_acro_init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ignore_checks&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;
                &lt;span class="n"&gt;success&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;acro_init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ignore_checks&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;endif&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="c1"&gt;//这里添加case选型：指定飞行模式，然后条用_init()函数&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nl"&gt;NEWFLIGHTMODE:&lt;/span&gt;
            &lt;span class="n"&gt;success&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;newflightmode_init&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ignore_checks&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #4&lt;/strong&gt;：在文件&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/flight_mode.pde#L269"&gt;flight_mode.pde&lt;/a&gt;文件的&lt;code&gt;update_flight_mode()&lt;/code&gt;函数中增加一个新飞行模式的&lt;code&gt;case&lt;/code&gt;选项，然后调用上面的&lt;code&gt;_run()&lt;/code&gt;函数。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;// update_flight_mode - calls the appropriate attitude controllers based on flight mode&lt;/span&gt;
&lt;span class="c1"&gt;// called at 100hz or more&lt;/span&gt;
&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="k"&gt;void&lt;/span&gt; &lt;span class="n"&gt;update_flight_mode&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="n"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;control_mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nl"&gt;ACRO:&lt;/span&gt;
            &lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="no"&gt;FRAME_CONFIG&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="no"&gt;HELI_FRAME&lt;/span&gt;
                &lt;span class="n"&gt;heli_acro_run&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
            &lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="k"&gt;else&lt;/span&gt;
                &lt;span class="n"&gt;acro_run&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
            &lt;span class="p"&gt;#&lt;/span&gt;&lt;span class="n"&gt;endif&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

        &lt;span class="c1"&gt;//这里添加case选型：指定飞行模式，然后条用_run()函数&lt;/span&gt;
        &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="nl"&gt;NEWFLIGHTMODE:&lt;/span&gt;
            &lt;span class="n"&gt;success&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;newflightmode_run&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;
            &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="p"&gt;}&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #5&lt;/strong&gt;：在文件&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/flight_mode.pde#L269"&gt;flight_mode.pde&lt;/a&gt;文件的&lt;code&gt;print_flight_mode()&lt;/code&gt;函数中增加可以输出新飞行模式字符串的&lt;code&gt;case&lt;/code&gt;选项。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;static&lt;/span&gt; &lt;span class="kt"&gt;void&lt;/span&gt;
&lt;span class="nf"&gt;print_flight_mode&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;AP_HAL&lt;/span&gt;&lt;span class="o"&gt;::&lt;/span&gt;&lt;span class="n"&gt;BetterStream&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="kt"&gt;uint8_t&lt;/span&gt; &lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;switch&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;mode&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;STABILIZE&lt;/span&gt;:
        &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;print_P&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;PSTR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;STABILIZE&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

    &lt;span class="c1"&gt;//这里增加case选型，执行输出当前飞行模式&lt;/span&gt;
    &lt;span class="k"&gt;case&lt;/span&gt; &lt;span class="n"&gt;NEWFLIGHTMODE&lt;/span&gt;:
        &lt;span class="n"&gt;port&lt;/span&gt;&lt;span class="o"&gt;-&amp;gt;&lt;/span&gt;&lt;span class="n"&gt;print_P&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;PSTR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;NEWFLIGHTMODE&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;
        &lt;span class="k"&gt;break&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #6&lt;/strong&gt;：在文件&lt;a href=""&gt;Parameters.pde&lt;/a&gt;中向&lt;code&gt;FLTMODE1&lt;/code&gt; ~ &lt;code&gt;FLTMODE6&lt;/code&gt;参数中正确的增加你的新飞行模式到&lt;code&gt;@Values&lt;/code&gt;列表中。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;// @Param: FLTMODE1&lt;/span&gt;
&lt;span class="c1"&gt;// @DisplayName: Flight Mode 1&lt;/span&gt;
&lt;span class="c1"&gt;// @Description: Flight mode when Channel 5 pwm is 1230, &amp;lt;= 1360&lt;/span&gt;
&lt;span class="c1"&gt;// @Values: 0:Stabilize,1:Acro,2:AltHold,3:Auto,4:Guided,5:Loiter,6:RTL,7:Circle,8:Position,9:Land,10:OF_Loiter,11:ToyA,12:ToyM,13:Sport,17:NewFlightMode  //列表末尾添加新的正确形式飞行模式&lt;/span&gt;
&lt;span class="c1"&gt;// @User: Standard&lt;/span&gt;
&lt;span class="no"&gt;GSCALAR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;flight_mode1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;FLTMODE1&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;               &lt;span class="no"&gt;FLIGHT_MODE_1&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;

&lt;span class="c1"&gt;// @Param: FLTMODE2&lt;/span&gt;
&lt;span class="c1"&gt;// @DisplayName: Flight Mode 2&lt;/span&gt;
&lt;span class="c1"&gt;// @Description: Flight mode when Channel 5 pwm is &amp;gt;1230, &amp;lt;= 1360&lt;/span&gt;
&lt;span class="c1"&gt;// @Values: 0:Stabilize,1:Acro,2:AltHold,3:Auto,4:Guided,5:Loiter,6:RTL,7:Circle,8:Position,9:Land,10:OF_Loiter,11:ToyA,12:ToyM,13:Sport,17:NewFlightMode  //列表末尾添加新的正确形式飞行模式&lt;/span&gt;
&lt;span class="c1"&gt;// @User: Standard&lt;/span&gt;
&lt;span class="no"&gt;GSCALAR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;flight_mode2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;FLTMODE2&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;               &lt;span class="no"&gt;FLIGHT_MODE_2&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #7&lt;/strong&gt;：如果你想让你的新飞行模式出现的Mission Planner的平视显示器HUD和飞行模式组件中，你可以在&lt;a href="https://github.com/diydrones/MissionPlanner/issues"&gt;Mission Planner的问题列表&lt;/a&gt;中提出你的请求。&lt;/p&gt;
&lt;p&gt;&lt;img alt="MP_HUD" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/FlightMode.png" /&gt;&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/apmcopter-adding-a-new-flight-mode/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Fri, 05 Sep 2014 11:01:10 +0800</pubDate><guid>tag:liung.github.io,2014-09-05:blog/apm/2014-09-05-APM-ArduCopter添加新的飞行模式.html</guid><category>APM</category><category>APM:Copter</category><category>飞控板</category><category>硬件</category></item><item><title>APM-添加新的参数</title><link>http://liung.github.io/blog/apm/2014-09-02-APM-%E6%B7%BB%E5%8A%A0%E6%96%B0%E7%9A%84%E5%8F%82%E6%95%B0.html</link><description>

&lt;p&gt;我们既可以在主执行代码中添加新的参数，也可以在库中添加。
&lt;/p&gt;
&lt;h3&gt;在主执行代码中添加参数&lt;/h3&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #1&lt;/strong&gt;：在文件&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/Parameters.h"&gt;Parameters.h&lt;/a&gt;参数类中的枚举变量（enum）的合适位置，像下面代码块最后一行一样添加你自己的新的参数。你需要注意下面这些事情：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;尽量在执行类似功能的参数区域添加新的参数，或者最坏的情形下就是在“Misc（混合）”区域的末尾添加。&lt;/li&gt;
&lt;li&gt;确保你添加的参数区域中还可以有编号添加新的参数。检查是否能继续添加参数的方法是：检查参数的计数，确保你所要添加的参数的上一个元素编号要小于你的下一部分代码的编号。比如，Misc部分的第一个参数起始于#20,。&lt;code&gt;my_new_parameter&lt;/code&gt;是#36。如果下一部分参数开始于#36，那么我们就不能在这里添加新的参数。&lt;/li&gt;
&lt;li&gt;不要再一个代码块的中间参加新的参数，那样容易造成现存参数对应的信息的改变。&lt;/li&gt;
&lt;li&gt;不要在参数旁边用“弃用（deprecated）”或“移除（remove）”做注解，这是因为一些使用者将此注释用作在eeprom上的旧的参数的默认注解，如果你添加的新参数也是这样注解，那么就让人就会看起来很奇怪和疑惑。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;enum&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
    &lt;span class="c1"&gt;// Misc&lt;/span&gt;
    &lt;span class="c1"&gt;//&lt;/span&gt;
    &lt;span class="n"&gt;k_param_log_bitmask&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;20&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_log_last_filenumber&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;            &lt;span class="c1"&gt;// *** Deprecated - remove&lt;/span&gt;
                                            &lt;span class="c1"&gt;// with next eeprom number&lt;/span&gt;
                                            &lt;span class="c1"&gt;// change&lt;/span&gt;
    &lt;span class="n"&gt;k_param_toy_yaw_rate&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;                           &lt;span class="c1"&gt;// THOR The memory&lt;/span&gt;
                                                    &lt;span class="c1"&gt;// location for the&lt;/span&gt;
                                                    &lt;span class="c1"&gt;// Yaw Rate 1 = fast,&lt;/span&gt;
                                                    &lt;span class="c1"&gt;// 2 = med, 3 = slow&lt;/span&gt;

    &lt;span class="n"&gt;k_param_crosstrack_min_distance&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;    &lt;span class="c1"&gt;// deprecated - remove with next eeprom number change&lt;/span&gt;
    &lt;span class="n"&gt;k_param_rssi_pin&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_throttle_accel_enabled&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;     &lt;span class="c1"&gt;// deprecated - remove&lt;/span&gt;
    &lt;span class="n"&gt;k_param_wp_yaw_behavior&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_acro_trainer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_pilot_velocity_z_max&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_circle_rate&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_sonar_gain&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_ch8_option&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_arming_check_enabled&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_sprayer&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_angle_max&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
    &lt;span class="n"&gt;k_param_gps_hdop_good&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;          &lt;span class="c1"&gt;// 35&lt;/span&gt;

    &lt;span class="n"&gt;k_param_my_new_parameter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;       &lt;span class="c1"&gt;// 36（这里添加你的新的参数）&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #2&lt;/strong&gt;：在枚举变量后面的参数类中声明这些变量。可使用的类型包括&lt;code&gt;AP_Int8&lt;/code&gt;,&lt;code&gt;AP_Int16&lt;/code&gt;,&lt;code&gt;AP_Float&lt;/code&gt;,&lt;code&gt;AP_Int32&lt;/code&gt;,&lt;code&gt;AP_Vector3&lt;/code&gt;(目前还不支持&lt;code&gt;unsigned integer&lt;/code&gt;无符号整型)。新的枚举变量的名称应该保持一致，只是去掉了前缀&lt;code&gt;k_param_&lt;/code&gt;。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;// 254,255: reserved&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;

&lt;span class="n"&gt;AP_Int16&lt;/span&gt;        &lt;span class="n"&gt;format_version&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;AP_Int8&lt;/span&gt;         &lt;span class="n"&gt;software_type&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="c1"&gt;// Telemetry control&lt;/span&gt;
&lt;span class="c1"&gt;//&lt;/span&gt;
&lt;span class="n"&gt;AP_Int16&lt;/span&gt;        &lt;span class="n"&gt;sysid_this_mav&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;AP_Int16&lt;/span&gt;        &lt;span class="n"&gt;sysid_my_gcs&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;AP_Int8&lt;/span&gt;         &lt;span class="n"&gt;serial3_baud&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;AP_Int8&lt;/span&gt;         &lt;span class="n"&gt;telem_delay&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="n"&gt;AP_Int16&lt;/span&gt;        &lt;span class="n"&gt;rtl_altitude&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;AP_Int8&lt;/span&gt;         &lt;span class="n"&gt;sonar_enabled&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;AP_Int8&lt;/span&gt;         &lt;span class="n"&gt;sonar_type&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;       &lt;span class="c1"&gt;// 0 = XL, 1 = LV,&lt;/span&gt;
                                  &lt;span class="c1"&gt;// 2 = XLL (XL with 10m range)&lt;/span&gt;
                                  &lt;span class="c1"&gt;// 3 = HRLV&lt;/span&gt;
&lt;span class="n"&gt;AP_Float&lt;/span&gt;        &lt;span class="n"&gt;sonar_gain&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;AP_Int8&lt;/span&gt;         &lt;span class="n"&gt;battery_monitoring&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;         &lt;span class="c1"&gt;// 0=disabled, 3=voltage only,&lt;/span&gt;
                                            &lt;span class="c1"&gt;// 4=voltage and current&lt;/span&gt;
&lt;span class="n"&gt;AP_Float&lt;/span&gt;        &lt;span class="n"&gt;volt_div_ratio&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;AP_Float&lt;/span&gt;        &lt;span class="n"&gt;curr_amp_per_volt&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="n"&gt;AP_Int16&lt;/span&gt;        &lt;span class="n"&gt;pack_capacity&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;              &lt;span class="c1"&gt;// Battery pack capacity less reserve&lt;/span&gt;
&lt;span class="n"&gt;AP_Int8&lt;/span&gt;         &lt;span class="n"&gt;failsafe_battery_enabled&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;   &lt;span class="c1"&gt;// battery failsafe enabled&lt;/span&gt;
&lt;span class="n"&gt;AP_Int8&lt;/span&gt;         &lt;span class="n"&gt;failsafe_gps_enabled&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;       &lt;span class="c1"&gt;// gps failsafe enabled&lt;/span&gt;
&lt;span class="n"&gt;AP_Int8&lt;/span&gt;         &lt;span class="n"&gt;failsafe_gcs&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;               &lt;span class="c1"&gt;// ground station failsafe behavior&lt;/span&gt;
&lt;span class="n"&gt;AP_Int16&lt;/span&gt;        &lt;span class="n"&gt;gps_hdop_good&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;              &lt;span class="c1"&gt;// GPS Hdop value below which represent a good position&lt;/span&gt;

&lt;span class="n"&gt;AP_Int16&lt;/span&gt;        &lt;span class="n"&gt;my_new_parameter&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                  &lt;span class="c1"&gt;// my new parameter&amp;#39;s description goes here（新添加的参数的注解）&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #3&lt;/strong&gt;：在&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/Parameters.pde"&gt;Parameters.pde&lt;/a&gt;文件中向var_info表中添加变量的声明信息。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c1"&gt;// @Param: MY_NEW_PARAMETER&lt;/span&gt;
&lt;span class="c1"&gt;// @DisplayName: My New Parameter&lt;/span&gt;
&lt;span class="c1"&gt;// @Description: A description of my new parameter goes here&lt;/span&gt;
&lt;span class="c1"&gt;// @Range: -32768 32767&lt;/span&gt;
&lt;span class="c1"&gt;// @User: Advanced&lt;/span&gt;
&lt;span class="no"&gt;GSCALAR&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;my_new_parameter&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;MY_NEW_PARAMETER&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="no"&gt;MY_NEW_PARAMETER_DEFAULT&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;地面站（如Mission Planner）中将使用&lt;code&gt;@Param ~ @User&lt;/code&gt;的注释信息向使用者说明用户所设置的变量的范围等。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #4&lt;/strong&gt;:在&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/config.h"&gt;config.h&lt;/a&gt;中添加你的新参数。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;#ifndef MY_NEW_PARAMETER_DEFAULT&lt;/span&gt;
 &lt;span class="c"&gt;# define MY_NEW_PARAMETER_DEFAULT      100     // default value for my new parameter&lt;/span&gt;
&lt;span class="c"&gt;#endif&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;向主执行代码添加参数的工作就完成了！添加到主代码中(并非库中)的参数就可以通过诸如&lt;code&gt;g.my_new_parameter&lt;/code&gt;这样来使用。&lt;/p&gt;
&lt;h3&gt;向库中添加参数&lt;/h3&gt;
&lt;p&gt;同样可以使用下列步骤向库中添加新的参数。以&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Compass"&gt;AP_Compass&lt;/a&gt;库为例：&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #1&lt;/strong&gt;：首先在库代码的.h头文件添加新的变量(如&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Compass"&gt;Compass.h&lt;/a&gt;)。可使用的类型包括&lt;code&gt;AP_Int8&lt;/code&gt;,&lt;code&gt;AP_Int16&lt;/code&gt;,&lt;code&gt;AP_Float&lt;/code&gt;,&lt;code&gt;AP_Int32&lt;/code&gt;,&lt;code&gt;AP_Vector3f&lt;/code&gt;。然后添加你的参数的默认值（我们将在Step #2中使用）。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="cp"&gt;#define MY_NEW_PARAM_DEFAULT         100    &lt;/span&gt;&lt;span class="c1"&gt;///在此处声明变量和默认值&lt;/span&gt;

&lt;span class="n"&gt;class&lt;/span&gt; &lt;span class="n"&gt;Compass&lt;/span&gt;
&lt;span class="p"&gt;{&lt;/span&gt;
&lt;span class="nl"&gt;public:&lt;/span&gt;
    &lt;span class="kt"&gt;int16_t&lt;/span&gt; &lt;span class="n"&gt;product_id&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                         &lt;span class="c1"&gt;/// product id&lt;/span&gt;
    &lt;span class="kt"&gt;int16_t&lt;/span&gt; &lt;span class="n"&gt;mag_x&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                      &lt;span class="c1"&gt;///&amp;lt; magnetic field strength along the X axis&lt;/span&gt;
    &lt;span class="kt"&gt;int16_t&lt;/span&gt; &lt;span class="n"&gt;mag_y&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                      &lt;span class="c1"&gt;///&amp;lt; magnetic field strength along the Y axis&lt;/span&gt;
    &lt;span class="kt"&gt;int16_t&lt;/span&gt; &lt;span class="n"&gt;mag_z&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                      &lt;span class="c1"&gt;///&amp;lt; magnetic field strength along the Z axis&lt;/span&gt;
    &lt;span class="kt"&gt;uint32_t&lt;/span&gt; &lt;span class="n"&gt;last_update&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;               &lt;span class="c1"&gt;///&amp;lt; micros() time of last update&lt;/span&gt;
    &lt;span class="kt"&gt;bool&lt;/span&gt; &lt;span class="n"&gt;healthy&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                               &lt;span class="c1"&gt;///&amp;lt; true if last read OK&lt;/span&gt;

    &lt;span class="c1"&gt;/// Constructor&lt;/span&gt;
    &lt;span class="c1"&gt;///&lt;/span&gt;
    &lt;span class="n"&gt;Compass&lt;/span&gt;&lt;span class="p"&gt;();&lt;/span&gt;

&lt;span class="nl"&gt;protected:&lt;/span&gt;
    &lt;span class="n"&gt;AP_Int8&lt;/span&gt; &lt;span class="n"&gt;_orientation&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;AP_Vector3f&lt;/span&gt; &lt;span class="n"&gt;_offset&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;AP_Float&lt;/span&gt; &lt;span class="n"&gt;_declination&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="n"&gt;AP_Int8&lt;/span&gt; &lt;span class="n"&gt;_use_for_yaw&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                       &lt;span class="c1"&gt;///&amp;lt;enable use for yaw calculation&lt;/span&gt;
    &lt;span class="n"&gt;AP_Int8&lt;/span&gt; &lt;span class="n"&gt;_auto_declination&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;                  &lt;span class="c1"&gt;///&amp;lt;enable automatic declination code&lt;/span&gt;

    &lt;span class="n"&gt;AP_Int16&lt;/span&gt; &lt;span class="n"&gt;_my_new_lib_parameter&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;              &lt;span class="c1"&gt;/// description of my new parameter（你的变量的注解）&lt;/span&gt;
&lt;span class="p"&gt;};&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #2&lt;/strong&gt;：然后在.cpp文件（如&lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AP_Compass/Compass.cpp"&gt;Compass.cpp&lt;/a&gt;）中添加变量包含有&lt;code&gt;@Param ~ @Increment&lt;/code&gt;的var_info表信息，以便允许GCS向用户显示来自地面站的关于该参数值的范围设定。当添加新参数时应注意：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;自己添加的代码编号（下面的编号9）一定要比之前变量的大。&lt;/li&gt;
&lt;li&gt;参数的名称（如&lt;code&gt;MY_NEW_P&lt;/code&gt;）包括对象自动添加的前缀要少于16个字符。比如罗盘对象的前缀为“&lt;code&gt;COMPASS_&lt;/code&gt;”。&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nx"&gt;const&lt;/span&gt; &lt;span class="nx"&gt;AP_Param&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="nl"&gt;GroupInfo&lt;/span&gt; &lt;span class="nx"&gt;Compass&lt;/span&gt;&lt;span class="p"&gt;::&lt;/span&gt;&lt;span class="nl"&gt;var_info&lt;/span&gt;&lt;span class="err"&gt;[&lt;/span&gt;&lt;span class="cp"&gt;]&lt;/span&gt; PROGMEM = {
    // index 0 was used for the old orientation matrix

    // @Param: OFS_X
    // @DisplayName: Compass offsets on the X axis
    // @Description: Offset to be added to the compass x-axis values to compensate for metal in the frame
    // @Range: -400 400
    // @Increment: 1

&lt;span class="nt"&gt;&amp;lt;snip&amp;gt;&lt;/span&gt;

    // @Param: ORIENT
    // @DisplayName: Compass orientation
    // @Description: The orientation of the compass relative to the autopilot board.
    // @Values: 0:None,1:Yaw45,2:Yaw90,3:Yaw135,4:Yaw180,5:Yaw225,6:Yaw270,7:Yaw315,8:Roll180
    AP_GROUPINFO(&amp;quot;ORIENT&amp;quot;, 8, Compass, _orientation, ROTATION_NONE),

    //你添加的代码区域
    // @Param: MY_NEW_P
    // @DisplayName: My New Library Parameter
    // @Description: The new library parameter description goes here
    // @Range: -32768 32767
    // @User: Advanced
    AP_GROUPINFO(&amp;quot;MY_NEW_P&amp;quot;, 9, Compass, _my_new_lib_parameter, MY_NEW_PARAM_DEFAULT),
    //以上为你添加的代码区域

    AP_GROUPEND
};
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;这样，新添加的参数将以&lt;code&gt;_my_new_lib_parameter&lt;/code&gt;包含在库中。需要指明的是：&lt;code&gt;protected&lt;/code&gt;保护类型的参数是不能够在类外被访问的。如果我们将其变为&lt;code&gt;public&lt;/code&gt;类型，那么我们就可以在主代码中使用&lt;code&gt;compass._my_new_lib_parameter&lt;/code&gt;参数了。&lt;/p&gt;
&lt;hr /&gt;
&lt;p&gt;&lt;strong&gt;Step #3&lt;/strong&gt;：如果在代码中添加的是一个完整的新类（相对于已经存在的类，如&lt;code&gt;AP_Compass&lt;/code&gt;），那么应该在&lt;code&gt;Parameters.pde&lt;/code&gt;文件主要载具的变量信息var_info表中添加该类的相关信息（变量表中的顺序并不重要）。如下面代码块红色部分的Compass类。&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/code-overview-adding-a-new-parameter/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Tue, 02 Sep 2014 14:21:41 +0800</pubDate><guid>tag:liung.github.io,2014-09-02:blog/apm/2014-09-02-APM-添加新的参数.html</guid><category>APM</category><category>APM:Copter</category><category>飞控板</category><category>硬件</category></item><item><title>APM-ArduCopter姿态控制概览</title><link>http://liung.github.io/blog/apm/2014-08-31-APM-ArduCopter%E5%A7%BF%E6%80%81%E6%8E%A7%E5%88%B6%E6%A6%82%E8%A7%88.html</link><description>

&lt;p&gt;在从版本AC3.1向AC3.2的过渡中，姿态控制逻辑运算作为“the onion”（洋葱头）工程的一部分进行了重构。下面来展示重构后的程序执行流程。
&lt;/p&gt;
&lt;hr /&gt;
&lt;h3&gt;手动飞行模式&lt;/h3&gt;
&lt;p&gt;&lt;strong&gt;自稳模式（Stabilize Mode）、特技模式（Acro Mode）、浮动模式（Drift Mode）&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="flight-mode" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/06/AC_CodeOverview_ManualFlightMode.png" /&gt;&lt;/p&gt;
&lt;p&gt;在主循环执行过程中（比如Pixhawk的运行频率为400Hz，APM2.x为100Hz），系统依次执行如下操作：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;调用最高层次级别文件flight-mode.pde中的&lt;code&gt;update_flight_mode()&lt;/code&gt;函数。该函数监测当前飞行器的飞行模式（使用变量&lt;code&gt;control_mode&lt;/code&gt;），然后执行相应飞行模式下的&lt;code&gt;&amp;lt;flight mode&amp;gt;_run()&lt;/code&gt;函数（如自稳模式的&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/control_stabilize.pde#L20"&gt;&lt;code&gt;stabilize_run&lt;/code&gt;&lt;/a&gt;，返航模式（RTL）的&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/control_rtl.pde#L23"&gt;&lt;code&gt;rtl_run&lt;/code&gt;&lt;/a&gt;等）。执行&lt;code&gt;&amp;lt;flight mode&amp;gt;_run&lt;/code&gt;的结果是，系统将会找到与飞行模式相对应的命名为&lt;code&gt;control_&amp;lt;flight mode&amp;gt;.pde&lt;/code&gt;飞行控制文件（比如：&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/control_stabilize.pde"&gt;&lt;code&gt;control_stabilize.pde&lt;/code&gt;&lt;/a&gt;，&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/control_rtl.pde"&gt;&lt;code&gt;control_rtl.pde&lt;/code&gt;&lt;/a&gt;等）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;flight mode&amp;gt;_run&lt;/code&gt;函数负责将用户的输入（从&lt;code&gt;g.rc_1.control_in&lt;/code&gt;，&lt;code&gt;g.rc_2.control_in&lt;/code&gt;等读入）转换为此时飞行模式下的倾斜角（lean angle）、滚转速率（rotation rate）、爬升率（climb rate）等。举个例子：&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/control_althold.pde#L22"&gt;AltHold&lt;/a&gt;(定高，altitude hold)模式中将用户的滚转和俯仰输入转换为倾斜角（单位：角度/°），将偏航输入转换为滚转速率（单位：°/s），将油门输入转换为爬升率（单位：cm/s）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;code&gt;&amp;lt;flight mode&amp;gt;_run&lt;/code&gt;函数最后还必须要完成的就是将&lt;strong&gt;预期角度、速率等参数&lt;/strong&gt;传送给姿态控制和/或方位控制库（它们都放在&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AC_AttitudeControl"&gt;AC_AttitiudeControl&lt;/a&gt;文件夹内）。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AC_AttitudeControl"&gt;AC_AttitiudeControl&lt;/a&gt;库提供了5中可能的方法来调整飞行器的姿态，下面来说明最通用的三种方法：&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;------&amp;gt;1) &lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AC_AttitudeControl/AC_AttitudeControl.h#L98"&gt;&lt;code&gt;angle_ef_roll_pitch_rate_ef_yaw()&lt;/code&gt;&lt;/a&gt;:该函数需要一个地轴系坐标下滚转和偏航角度，一个地轴系坐标下的偏航速率。例如：传递给该函数三个参数分别为，&lt;code&gt;roll = -1000， pitch = -1500， yaw = 500&lt;/code&gt;代表飞行器此时向左倾斜10°，低头15°，向右偏航速率为5°/s。&lt;/p&gt;
&lt;p&gt;------&amp;gt;2) &lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AC_AttitudeControl/AC_AttitudeControl.h#L102"&gt;&lt;code&gt;angle_ef_roll_pitch_yaw()&lt;/code&gt;&lt;/a&gt;:该函数接受地轴系下的滚转、俯仰和偏航角。和上面的函数类似，不过参数&lt;code&gt;yaw = 500&lt;/code&gt;代表飞行器北偏东5°&lt;/p&gt;
&lt;p&gt;------&amp;gt;3) &lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AC_AttitudeControl/AC_AttitudeControl.h#L108"&gt;&lt;code&gt;rate_bf_roll_pitch_yaw()&lt;/code&gt;&lt;/a&gt;:该函数接受一个&lt;strong&gt;体轴系&lt;/strong&gt;下的滚转、俯仰和偏航角速率（°/s）。例如：传递给该函数三个参数：&lt;code&gt;roll = -1000， pitch = -1500， yaw = 500&lt;/code&gt;代表飞行器此时左倾速率10°/s，低头速率15°/s，绕Z轴速率为5°/s。&lt;/p&gt;
&lt;p&gt;当上述这些函数调用之后，就会接着调用&lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AC_AttitudeControl/AC_AttitudeControl.h#L114"&gt;&lt;code&gt;AC_AttitudeControl::rate_controller_run()&lt;/code&gt;&lt;/a&gt;函数，将上面所列举的函数的输出转化为滚转、偏航和俯仰输入，并使用&lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AP_Motors/AP_Motors_Class.h#L99"&gt;&lt;code&gt;set_roll,set_pitch,set_yaw&lt;/code&gt; 和 &lt;code&gt;set_throttle&lt;/code&gt;&lt;/a&gt;方法将这些输入发送给&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Motors"&gt;&lt;strong&gt;AP_Motors&lt;/strong&gt;&lt;/a&gt;库。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AC_AttitudeControl/AC_PosControl.h"&gt;AC_PosControl&lt;/a&gt;库用来控制飞行器的3D方位。不过通常只用来调整比较简单的Z轴方向（如姿态控制），这是因为许多需要复杂3D方位调整的飞行模式(例如&lt;a href="https://github.com/diydrones/ardupilot/blob/master/ArduCopter/control_loiter.pde#L30"&gt;悬停Loiter&lt;/a&gt;)使用的是&lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AC_WPNav/AC_WPNav.h"&gt;AC_WPNav&lt;/a&gt;库。总之，AC_PosControl库中常用的方法有：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;------&amp;gt;1) &lt;code&gt;set_alt_target_from_climb_rate()&lt;/code&gt;:将爬升率（cm/s）作为参数，用来更新一个需要调整的相对高度目标。&lt;/p&gt;
&lt;p&gt;------&amp;gt;2)  &lt;code&gt;set_pos_target()&lt;/code&gt;:接受一个以系统中的&lt;code&gt;home&lt;/code&gt;位置作为参考点的3D位置矢量（单位：cm）。&lt;/p&gt;
&lt;p&gt;如果调用了AC_PosControl中的任何一个方法，那么在该飞行模式下就必须调用函数&lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AC_AttitudeControl/AC_PosControl.h#L134"&gt;&lt;code&gt;AC_PosControl::update_z_controller()&lt;/code&gt;&lt;/a&gt;。这样的话，就可以启用Z轴的方位控制PID循环，并向&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Motors"&gt;&lt;strong&gt;AP_Motors&lt;/strong&gt;&lt;/a&gt;库发送低级别的油门信息。同样，如果调用了xy轴的函数，那就就必须调用&lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AC_AttitudeControl/AC_PosControl.h#L202"&gt;&lt;code&gt;AC_PosControl::update_xy_controller()&lt;/code&gt;&lt;/a&gt;函数。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;AP_Motors&lt;/strong&gt;库含有“电机混合模式”代码。这些代码负责将从&lt;strong&gt;AC_AttitudeControl&lt;/strong&gt;和&lt;strong&gt;AC_PosControl&lt;/strong&gt;库发送过来的滚转、俯仰、偏航角度和油门值信息转换为电机的相对输出值（例如：PWM值）。因此，这样高级别的库就必须要使用如下函数：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;------&amp;gt;1) &lt;a href="https://github.com/diydrones/ardupilot/blob/master/libraries/AP_Motors/AP_Motors_Class.h#L99"&gt;&lt;code&gt;set_roll(),set_pitch(),set_yaw()&lt;/code&gt;&lt;/a&gt;：接受在[-4500,4500]角度范围内的滚转、俯仰和偏航角。这些参数不是期望角度或者速率，更准确的讲，它仅仅是一个数值。例如，set_roll(-4500)将代表飞行器尽可能快的向左滚转。&lt;/p&gt;
&lt;p&gt;------&amp;gt;2) &lt;code&gt;set_throttle()&lt;/code&gt;:接受一个范围在[0,1000]的相对油门值。0代表电机关闭，1000代表满油门状态。&lt;/p&gt;
&lt;p&gt;虽然对于不同飞行器构型（如四旋翼，Y6，传统直升机等）的控制代码中有许多不同的类，但这些类中都有一个相同的函数&lt;code&gt;output_armed&lt;/code&gt;，负责将这些滚转、俯仰、偏航和油门值转换为PWM类型输入值。这转换的过程中，会应用到&lt;strong&gt;stability patch&lt;/strong&gt;（译者注：翻译成中文感觉不妥，类似于控制飞行器稳定性分析程序代码块），用来控制由于飞行器构型限制所引起的轴系的优先级问题（例如四旋翼的四个电机不可能在做最大速度滚转时四个电机的油门同时达到最大，因为必须一部分电机输出小于另一部分才能引起滚转）。在执行函数&lt;code&gt;output_armed&lt;/code&gt;的最后，还将调用&lt;code&gt;hal.rcout-&amp;gt;write()&lt;/code&gt;，把期望PWM值传递给&lt;strong&gt;AP_HAL&lt;/strong&gt;层。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;AP_HAL库（硬件抽象层）提供了针对所有飞控板统一的借口。实际控制中，&lt;code&gt;hal.rc_out_write()&lt;/code&gt;函数将接受到的来自于AP_Motors类中指定的PWM值，输出至飞控板对应的PWM端口（pin端）。&lt;/li&gt;
&lt;/ul&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/apmcopter-programming-attitude-control-2/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sun, 31 Aug 2014 21:53:09 +0800</pubDate><guid>tag:liung.github.io,2014-08-31:blog/apm/2014-08-31-APM-ArduCopter姿态控制概览.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>IPython学习笔记</title><link>http://liung.github.io/blog/python/2014-08-31-IPython%E5%91%BD%E4%BB%A4%E9%9B%86.html</link><description>&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;ipython --pylab=inline:&lt;/strong&gt;ipython启动后默认导入numpy和matplotlib.pylab模块&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ipython qtconsole&lt;/strong&gt;:使用Qt Gui 后台&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;%lsmagic：&lt;/strong&gt;列出ipython中的所有魔法命令&lt;/li&gt;
&lt;li&gt;&lt;strong&gt; %whos:&lt;/strong&gt; 查看变量&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;%reset:&lt;/strong&gt; 清空变量，包括np和pylab模块&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;%pylab：&lt;/strong&gt;重新导入numpy和pylab模块&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;%bookmark alias：&lt;/strong&gt;将当前目录用alias作为标签，cd alias可以直接进入该目录&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;%run script.py&lt;/strong&gt; 执行脚本&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;%edit script.py&lt;/strong&gt; 编辑器中编辑脚本&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;%hist：&lt;/strong&gt;输入之前的输入历史&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;_：&lt;/strong&gt;下划线表示暂存的上次返回变量（grab previous result）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;ipython采用tab自动补全功能&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;ipython继承Unix风格命令&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;%ls&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;%cd&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;%pwd&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;...&lt;/li&gt;
&lt;/ul&gt;
&lt;h4&gt;Available line magics&lt;/h4&gt;
&lt;p&gt;%alias  %alias_magic  %autocall  %automagic  %autosave  %bookmark  %cd  %clear  %cls  %colors  %config  %connect_info  %debug  %dhist  %dirs  %doctest_mode  %ed  %edit  %env  %gui  %guiref  %hist  %history  %install_default_config  %install_ext  %install_profiles  %killbgscripts  %less  %load  %load_ext  %loadpy  %logoff  %logon  %logstart  %logstate  %logstop  %lsmagic  %macro  %magic  %matplotlib  %more  %notebook  %page  %pastebin  %pdb  %pdef  %pdoc  %pfile  %pinfo  %pinfo2  %popd  %pprint  %precision  %profile  %prun  %psearch  %psource  %pushd  %pwd  %pycat  %pylab  %qtconsole  %quickref  %recall  %rehashx  %reload_ext  %rep  %rerun  %reset  %reset_selective  %run  %save  %sc  %store  %sx  %system  %tb  %time  %timeit  %unalias  %unload_ext  %who  %who_ls  %whos  %xdel  %xmode&lt;/p&gt;
&lt;h4&gt;Available cell magics&lt;/h4&gt;
&lt;p&gt;%%!  %%HTML  %%SVG  %%bash  %%capture  %%cmd  %%debug  %%file  %%html  %%javascript  %%latex  %%perl  %%powershell  %%prun  %%pypy  %%python  %%python3  %%ruby  %%script  %%sh  %%svg  %%sx  %%system  %%time  %%timeit  %%writefile&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Automagic is ON, % prefix IS NOT needed for line magics.&lt;/strong&gt;&lt;/p&gt;
&lt;h3&gt;IPython标准键盘快捷键&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+P或上箭头&lt;/strong&gt;：后向搜索命令历史中以当前输入的文本开头的命令&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+N或下箭头&lt;/strong&gt;：前向搜索命令历史中以当前输入的文本开头的命令&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+R&lt;/strong&gt;：执行读取的反向历史搜索（部分搜索）&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+Shift+V&lt;/strong&gt;：从剪切板粘贴文本&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+C&lt;/strong&gt;：终止当前正在执行的代码&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+A&lt;/strong&gt;：将光标移至行首&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+E&lt;/strong&gt;：将光标移至行尾&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+K&lt;/strong&gt;：删除从光标开始至行尾的文本&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+U&lt;/strong&gt;：删除当前行的所有文本&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+F&lt;/strong&gt;：将光标向前移动一个字符&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+B&lt;/strong&gt;：将光标向后移动一个字符&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Ctrl+L&lt;/strong&gt;：清屏&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sun, 31 Aug 2014 10:55:41 +0800</pubDate><guid>tag:liung.github.io,2014-08-31:blog/python/2014-08-31-IPython命令集.html</guid><category>python</category><category>ipython</category></item><item><title>APM:Copter相关库</title><link>http://liung.github.io/blog/apm/2014-08-30-APM-Arducopter%E7%9B%B8%E5%85%B3%E5%BA%93%E4%BB%8B%E7%BB%8D.html</link><description>

&lt;p&gt;这些&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries"&gt;库文件&lt;/a&gt;也同样被ArduPlane和ArduRover所使用。下面将列出一系列高层次的库的说明和它们的函数说明。
&lt;/p&gt;
&lt;h3&gt;核心库&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_AHRS"&gt;AP_AHRS&lt;/a&gt;：采用DCM（方向余弦矩阵方法）或EKF（扩展卡尔曼滤波方法）预估飞行器姿态&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_InertialNav"&gt;AP_Common&lt;/a&gt;：所有执行文件（sketch格式，arduino IDE的文件）和其他库都需要的基础核心库。&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Math"&gt;AP_Math&lt;/a&gt;：包含了许多数学函数，特别对于矢量运算&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AC_PID"&gt;AP_PID&lt;/a&gt;：PID控制器库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_InertialNav"&gt;AP_InertialNav&lt;/a&gt;：扩展带有gps和气压计数据的惯性导航库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AC_AttitudeControl"&gt;AP_AttitudeControl&lt;/a&gt;：姿态控制相关库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_InertialNav"&gt;AP_WPNav&lt;/a&gt;：航点相关的导航库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Motors"&gt;AP_Motors&lt;/a&gt;：多旋翼和传统直升机混合的电机库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/RC_Channel"&gt;RC_channel&lt;/a&gt;：更多的关于从APM_RC的PWM输入/输出数据转换到内部通用单位的库，比如角度&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_HAL"&gt;AP_HAL&lt;/a&gt;，&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_HAL_AVR"&gt;AP_HAL_AVR&lt;/a&gt;，&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_HAL_PX4"&gt;AP_HAL_PX4&lt;/a&gt;:硬件抽象层库，提供给其他高级控制代码一致的接口，而不必担心底层不同的硬件&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;传感器相关库&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_InertialSensor"&gt;AP_InertialSensor&lt;/a&gt;：读取陀螺仪和加速度计数据，并向主程序执行标准程序和提供标准单位数据（deg/s，m/s）。&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_RangeFinder"&gt;AP_RangerFinder&lt;/a&gt;：声呐和红外测距传感器的交互库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Baro"&gt;AP_Baro&lt;/a&gt;：气压计相关库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_GPS"&gt;AP_GPS&lt;/a&gt;：GPS相关库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Compass"&gt;AP_Compass&lt;/a&gt;：三轴罗盘相关库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_OpticalFlow"&gt;AP_OpticalFlow&lt;/a&gt;：光流传感器相关库&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;其他库&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Mount"&gt;AP_Mount&lt;/a&gt;，&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Camera"&gt;AP_Camera&lt;/a&gt;, &lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Relay"&gt;AP_Relay&lt;/a&gt;：相机安装控制库，相机快门控制库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Mission"&gt;AP_Mission&lt;/a&gt;： 从eeprom（电可擦只读存储器）存储/读取飞行指令相关库&lt;/li&gt;
&lt;li&gt;&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries/AP_Buffer"&gt;AP_Buffer&lt;/a&gt;：惯性导航时所用到的一个简单的堆栈（FIFO，先进先出）缓冲区&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;这是本人做的一张关于库的导航图：&lt;/p&gt;
&lt;p&gt;&lt;img alt="daohang" src="http://liung.github.io/images/apm-libraries.png" /&gt;&lt;/p&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/apmcopter-programming-libraries/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sat, 30 Aug 2014 15:53:36 +0800</pubDate><guid>tag:liung.github.io,2014-08-30:blog/apm/2014-08-30-APM-Arducopter相关库介绍.html</guid><category>APM:Copter</category><category>APM</category><category>硬件</category><category>C++</category></item><item><title>APM:Copter 代码预览</title><link>http://liung.github.io/blog/apm/2014-08-30-APM-Arducopter%E4%BB%A3%E7%A0%81%E9%A2%84%E8%A7%88.html</link><description>&lt;!-- PELICAN_BEGIN__SUMMARY --&gt;

&lt;p&gt;&lt;a href="https://github.com/diydrones/ardupilot"&gt;&lt;strong&gt;APM::Copter&lt;/strong&gt;&lt;/a&gt;代码主要放在ArduCopter文件夹中，并且和&lt;strong&gt;ArduPlane&lt;/strong&gt;和&lt;strong&gt;ArduRover&lt;/strong&gt;使用同样的&lt;a href="https://github.com/diydrones/ardupilot/tree/master/libraries"&gt;库文件&lt;/a&gt;。
&lt;/p&gt;
&lt;p&gt;下面这张图展示了从飞行模式到电机输出相关的高级视图：&lt;/p&gt;
&lt;h2&gt;&lt;img alt="file-mode" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/06/AC_CodeOverview_AutoFlightModes.png" /&gt;&lt;/h2&gt;
&lt;h3&gt;主要组成部分&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-30-APM-Arducopter相关库介绍.html"&gt;库说明&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-31-APM-ArduCopter姿态控制概览.html"&gt;姿态控制&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-02-APM-添加新的参数.html"&gt;如何添加参数&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-05-APM-ArduCopter添加新的飞行模式.html"&gt;如何创建新的飞行模式&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-05-APM-ArduCopter规划新代码使之按一定频率运行.html"&gt;如何间断地执行新代码&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-05-APM-增加新的MAVLink通讯协议消息.html"&gt;如何增加新的MAVLink协议信息&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/apmcopter-code-overview/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sat, 30 Aug 2014 15:29:29 +0800</pubDate><guid>tag:liung.github.io,2014-08-30:blog/apm/2014-08-30-APM-Arducopter代码预览.html</guid><category>APM</category><category>APM:Copter</category><category>飞控板</category><category>硬件</category></item><item><title>APM开发人员参考手册目录列表</title><link>http://liung.github.io/blog/apm/2014-08-29-APM-%E5%BC%80%E5%8F%91%E4%BA%BA%E5%91%98%E5%8F%82%E8%80%83%E6%89%8B%E5%86%8C%E7%9B%AE%E5%BD%95%E5%88%97%E8%A1%A8.html</link><description>

&lt;p&gt;从现在开始，我打算利用我空闲的时间，针对APM官网上的开发流程进行翻译，翻译不求精准，但求能准确传达要表达的意思即可，非专业译者，水平有限，敬请谅解。并且，还计划展开一系列的专题blog，对APM的源码进行解析，以了解APM自动飞控的工作原理（希望我的C++水平过关，可以理解源码的意思），由于涉及到了非常专业的单片机、飞行器控制、空气动力学原理、计算机编程、调试等非常专业的知识，所以难免出现一些错误，如有发现，希望通过邮箱与我指正。同时，真切希望国内也有如此爱好开源、爱好贡献的人们积极参与到诸如此类如此有趣的项目中来，让每个人从中受益。帮助别人的同时，也在丰富自己。 :&amp;gt;
&lt;/p&gt;
&lt;p&gt;&lt;em&gt;由于本人已经加入到APM中文网翻译组，所以关于该目录中的相关翻译内容可以在&lt;a href="http://ardupilot.cn"&gt;APM中文网&lt;/a&gt;的开发者页面找到，不过在本博客中某些内容的翻译加入了博主的理解，与官方翻译各有特点。&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;下文中的条目如果我已经翻译完成，那么我将链接到对应的博客目录中去，如果还没有翻译，那么将默认连接到原官网的链接,且用*标示出来。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/table-of-contents/"&gt;英文目录&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="http://dev.ardupilot.cn/"&gt;介  绍&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-获取源码.html"&gt;获取代码&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-30-APM-Arducopter代码预览.html"&gt;ArduCopter源码预览&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-30-APM-Arducopter相关库介绍.html"&gt;代码库介绍&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-31-APM-ArduCopter姿态控制概览.html"&gt;姿态控制&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-02-APM-添加新的参数.html"&gt;添加新的参数&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-05-APM-ArduCopter添加新的飞行模式.html"&gt;添加新的飞行模式&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-05-APM-ArduCopter规划新代码使之按一定频率运行.html"&gt;规划新代码使之按一定频率运行&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-05-APM-增加新的MAVLink通讯协议消息.html"&gt;增加新的MAVLink通讯协议消息&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-06-APM-编译代码.html"&gt;编译代码&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-06-APM-Windows平台上用Arduino编译ArduPilot.html"&gt;Windows平台上用Arduino编译ArduPilot&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-07-APM-Windows平台上用Make方法编译Pixhawk和PX4.html"&gt;Windows平台上用Make方法编译Pixhawk/PX4&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-08-APM-MacOS平台上用Arduino编译APM2.x.html"&gt;MacOS平台上用Arduino编译APM2.x&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-08-APM-MacOS平台上用Make方法编译Pixhawk和PX4.html"&gt;MacOS平台上用Make方法编译Pixhawk/PX4&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-10-APM-Linux平台上用Make方法编译APM2.x.html"&gt;Linux平台上用Make方法编译APM2.x&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-09-10-APM-Linux平台上用Make方法编译Pixhawk和PX4.html"&gt;Linux平台上用Make方法编译Pixhawk/PX4&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-17-APM-采用Make方法编译APM2.x（Win，Mac，Linux）.html"&gt;采用Make方法编译APM2.x（Win，Mac，Linux）&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-16-APM-使用Eclipse编辑代码.html"&gt;使用Eclipse进行ArduPilot Mega 开发&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-16-APM-使用Atmel_Studio或者微软的Visual_Studio编辑代码.html"&gt;使用Atmel Studio或者Visual Studio编译APM&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2015-01-24-APM-使用Visual_Studio编译Mission_Planner.html"&gt;使用Visual Studio编译Mission Planner&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-for-beaglebone-black-on-linux/"&gt;Linux上针对BeagleBone Black的编译 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/building-apm-for-flymaple/"&gt;Linux上针对Flymaple的APM编译 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2015-02-01-APM-加载代码到APM2.x.html"&gt;加载代码到APM2.x&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-16-APM-使用NotePad++编辑代码.html"&gt;编辑代码&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-16-APM-使用Eclipse编辑代码.html"&gt;使用Eclipse编辑代码&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-16-APM-使用Atmel_Studio或者微软的Visual_Studio编辑代码.html"&gt;使用Atmel Studio 或者微软的Visual Studio编辑代码&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/git_github_guide/"&gt;Git和Github操作指南 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-14-APM-模拟仿真.html"&gt;模拟仿真&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-14-APM-Windows上SITL仿真设置.html"&gt;Windows上设置SITL（Sorftware In The Loop，软件循环仿真）&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-14-APM-Linux上SITL仿真设置.html"&gt;Linux上设置SITL（Sorftware In The Loop，软件循环仿真）&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-15-APM-回放功能测试.html"&gt;日志回放测试&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/debugging-with-gdb/"&gt;GDB调试 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/submitting-patches-back-to-master/"&gt;提交补丁（patches）到git仓库（master） *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/raspberry-pi-via-mavlink/"&gt;通过MAVLink协议和树莓派（Raspberry Pi）通信 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/odroid-via-mavlink/"&gt;通过MAVLink协议和Odroid通信 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-16-APM-Windows7上的MAVProxy使用.html"&gt;Windows7上的MAVProxy使用&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/apmpilot_project_developer_information/"&gt;APMPilot开发信息 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/guidelines-for-contributors-to-the-apm-codebase/"&gt;面向新开发人员向APM代码库添加代码的一些指导 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/interfacing-with-apm-using-the-debug-terminal/"&gt;用Debug终端盒APM交互 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/interfacing-with-pixhawk-using-the-nsh/"&gt;使用NSH与Pixhawk交互 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2015-01-29-APM-mavlink_parameters.html"&gt;MavLink参数集&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2015-01-29-APM-mavlink_commands.html"&gt;MavLink命令集&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/serial_output/"&gt;串行输出 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2014-10-19-APM-I2C.html"&gt;I2C&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/release-procedures/"&gt;代码发布流程 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/advanced-configuration-settings/"&gt;高级配置设置 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/updating-the-apm2-x-bootloade/"&gt;升级APM2.x的引导程序 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2015-01-29-APM-GPS-Guide.html"&gt;GPS指南&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/gps_input/"&gt;GPS输出 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2015-01-29-APM-GPS_input_raw.html"&gt;GPS原始输出&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2015-01-28-APM-Combo2.html"&gt;组合方式2&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2015-01-28-APM-Combo3.html"&gt;组合方式3&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://liung.github.io/blog/apm/2015-01-28-APM-Combo4.html"&gt;组合方式4&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/common-editor-information-resource/"&gt;APM官网的网站编辑器信息资源 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/editor-notes/"&gt;编辑器须知 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/graphics-resource-page/"&gt;图片资源页面 *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/ez-developer-walk-throughs-for-windows/"&gt;EZ Developer Walk Throughs for Windows *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/ez-install-the-ardupilot-source-code-on-your-computer-using-zip/"&gt;EZ Install the ArduPilot Source Code on your Computer Using Zip *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/ez-get-arduino-and-initialize-it-to-work-with-ardupilot/"&gt;EZ Get Arduino and Initialize it to work with ArduPilot *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/ez-arduino-compile-and-upload-the-ardupilot-firmware-to-your-apm/"&gt;EZ Arduino Compile and Upload the ArduPilot Firmware to your APM *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/ez-building-apm2-with-make-in-windows/"&gt;EZ Building APM2 with Make in Windows *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/ez-using-eclipse-for-ardupilot-development-in-windows/"&gt;EZ Using Eclipse for ArduPilot Development in Windows *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/ez-set-up-and-build-ardupilot-for-px4-in-windows/"&gt;EZ Set up and Build ArduPilot for PX4 in Windows *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/mission-planner-terminal/"&gt;Mission Planner Terminal *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/mission-planner-terminal/common-cli-setup-test-modes/"&gt;common-CLI Setup Test modes *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/mission-planner-terminal/commonmission-planner-command-line-interface-cli/"&gt;common-Mission Planner Command Line Interface (CLI) *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/mission-planner-terminal/commonmission-planner-command-line-interface-cli/"&gt;Mission Planner Command Line Interface (CLI) *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/mission-planner-terminal/using-the-command-line-interface/"&gt;Using the Command Line Interface *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/mission-planner-terminal/setting-up-flight-modes-with-the-cli/"&gt;Setting up flight modes with the CLI *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;------------&amp;gt;&amp;gt; &lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/mission-planner-terminal/using-the-command-line-interpreter-to-configure-apmcopter/"&gt;Using the Command Line Interface to Configure APM:Copter *&lt;/a&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;&lt;a href="http://dev.ardupilot.com/wiki/git_tortise/"&gt;Git_Tortise的使用 *&lt;/a&gt;&lt;/strong&gt;&lt;/li&gt;
&lt;/ul&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Fri, 29 Aug 2014 17:17:54 +0800</pubDate><guid>tag:liung.github.io,2014-08-29:blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html</guid><category>APM</category><category>飞控板</category><category>硬件</category></item><item><title>APM-如何获取源码</title><link>http://liung.github.io/blog/apm/2014-08-29-APM-%E8%8E%B7%E5%8F%96%E6%BA%90%E7%A0%81.html</link><description>

&lt;p&gt;整个APM工程的源码都采用&lt;a href="http://git-scm.com/"&gt;git&lt;/a&gt;（译者注：一款自由和开源的分布式版本控制系统）进行代码管理，并且托管在&lt;a href="https://github.com/"&gt;github&lt;/a&gt;网站上。&lt;/p&gt;
&lt;p&gt;目前APM的源码以开源的形式托管在&lt;a href="https://github.com/diydrones/ardupilot"&gt;https://github.com/diydrones/ardupilot&lt;/a&gt;上。由于历史原因，另一个老版本的Google code仓库仍然保持在线可访问状态，但是除非你对老版本（APM 1.x）有特殊的需求，一般建议您不要使用该仓库中的代码。&lt;/p&gt;
&lt;p&gt;固定翼飞机（Plane），旋翼飞行器（Copter），无人车（Rover）模块全部包含在&lt;a href="https://github.com/diydrones/ardupilot"&gt; diydrones/ardupilot &lt;/a&gt;代码库中，天线跟踪模块虽然也包含在该代码库中，但在文件目录&lt;code&gt;Tools/&lt;/code&gt;下。&lt;/p&gt;
&lt;p&gt;地面站MissionPlanner包含在&lt;a href="https://github.com/diydrones/MissionPlanner"&gt;diydrones/MissionPlanner&lt;/a&gt;代码库中。
&lt;/p&gt;
&lt;h3&gt;预备知识&lt;/h3&gt;
&lt;p&gt;Git在绝大多数操作平台上都是可以使用的，并且还存在各种工具使得开始使用Git更加简单。首先，你需要&lt;a href="http://git-scm.com/downloads"&gt;下载和安装对应你使用的操作平台的客户端程序&lt;/a&gt;，如果你刚开始接触到这种源代码控制系统，那么，&lt;a href="https://windows.github.com/"&gt;windows版的GitHub&lt;/a&gt;或&lt;a href="https://mac.github.com/"&gt;Mac版的GitHub&lt;/a&gt;客户端都有一个非常好的使用文档，并且和GitHub有着很好的集成，可以从这里开始学习如何使用Git。本次说明将同时使用Windows版的Github用户界面和OSX/Linux终端下的命令行界面进行操作。&lt;/p&gt;
&lt;p&gt;如果你想要直接向APM官网代码库中提交代码，那么你需要&lt;a href="https://github.com/join"&gt;在Github上免费注册一个账号&lt;/a&gt;。&lt;/p&gt;
&lt;h4&gt;学习Git&lt;/h4&gt;
&lt;p&gt;本次操作将用到一些基本的git指令：clone，branch，commit，push。你没必要为了本次操作而必须很精通Git。除了本手册之外还有许多关于使用git的教程，当中有许多资源是在线形式的。这里有一些对你可能有用的资源：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="http://try.github.io/levels/1/challenges/1"&gt;Try Git&lt;/a&gt;：基于浏览器交互学习的学习Git教程&lt;/li&gt;
&lt;li&gt;&lt;a href="http://gitready.com/"&gt;Git Ready&lt;/a&gt;：分不同层次水平的Git学习教程&lt;/li&gt;
&lt;li&gt;&lt;a href="http://git-scm.com/book/en/Getting-Started"&gt;Git SCM Book&lt;/a&gt;：Git的介绍和比较详细文档&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Fork和clone代码库&lt;/h3&gt;
&lt;p&gt;“&lt;strong&gt;Fork&lt;/strong&gt;”是Github上将一个代码库复制到自己账户下的一个操作术语。采用该操作不仅可以保留原始代码库的信息，还能让你在这些代码库的基础上进行开发升级。“&lt;strong&gt;Clone&lt;/strong&gt;”是git中将一个代码库复制到你自己电脑上的操作术语。&lt;/p&gt;
&lt;p&gt;假如你不想在github上注册账号，你可以跳过下面的“Cloning”部分，否则的话，创建你的账户并登陆，开始&lt;strong&gt;forking&lt;/strong&gt;主代码库。&lt;/p&gt;
&lt;h4&gt;Forking主代码库&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;登陆Github并前往&lt;a href="https://github.com/diydrones/ardupilot"&gt;https://github.com/diydrones/ardupilot&lt;/a&gt;。&lt;/li&gt;
&lt;li&gt;“Fork”按键位于页面右上角：&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img alt="Fork-position" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/04/APM-Git-Github-Fork.jpg" /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;点击Fork按钮即可。&lt;/p&gt;
&lt;h4&gt;Cloning主代码库&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;现在你需要克隆一份代码到你的本地电脑上。进入你要克隆的刚刚“Fork”的代码库或者直接在APM的主代码库，在屏幕的右侧，会发现你需要克隆代码库的相关按钮信息：&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img alt="clone-button" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2014/04/APM-Git-Github-Clone.jpg" /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;ul&gt;
&lt;li&gt;克隆代码库到指定目录&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;OSX/Linux终端：&lt;/p&gt;
&lt;p&gt;&lt;code&gt;git clone https://github.com/your_username/ardupilot&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Windows（Github用户界面）：&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;ａ、在你的web浏览器中打开&lt;a href="https://github.com/diydrones/ardupilot"&gt;diydrones/ardupilot 代码库&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;ｂ、点击右下角的“Clone in desktop”按钮&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img alt="clone-in-desktop" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/CloningTheRepository_Windows1-300x246.png" /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;ｃ、 如果你之前还没有安装Github：&lt;/p&gt;
&lt;p&gt;１） 请到windows.github.com页面，按下右上角的“downlaod”按钮下载安装包&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img alt="download-windows-github" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/CloningTheRepository_Windows_DownloadGithub.png" /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;２） 在你的电脑上保存文件，然后运行并按说明安装Github客户端&lt;/p&gt;
&lt;p&gt;３） 在Github客户端界面上点击右侧箭头按钮来查看最近提交的内容列表，或者在
diydrones/ardupilot 代码库上右击选择“open in explorer”（在文件管理器中代开）。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;img alt="open-in-explorer" src="http://dev.ardupilot.com/wp-content/uploads/sites/6/2013/08/CloningTheRepository_Windows_OpenGithub.png" /&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;现在，你可以用你最喜爱的编辑器,如NotePad++，subline Text或者acme中打开文件。&lt;/p&gt;
&lt;hr /&gt;
&lt;h4&gt;链接&lt;/h4&gt;
&lt;ol&gt;
&lt;li&gt;&lt;a href="http://dev.ardupilot.com/wiki/where-to-get-the-code/"&gt;APM官网原文链接&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="http://liung.github.io/blog/apm/2014-08-29-APM-开发人员参考手册目录列表.html"&gt;APM开发人员参考手册目录列表&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(over)&lt;/em&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Fri, 29 Aug 2014 22:11:41 +0800</pubDate><guid>tag:liung.github.io,2014-08-29:blog/apm/2014-08-29-APM-获取源码.html</guid><category>APM</category><category>飞控板</category><category>硬件</category><category>Git</category></item><item><title>测试，这是我的第一个博客网站</title><link>http://liung.github.io/blog/qi-ta/home.html</link><description>&lt;p&gt;Category：Python
Tag: other&lt;/p&gt;
&lt;p&gt;这是用来测试的blog。第一次blog搭建过程。&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Fri, 29 Aug 2014 00:00:00 +0800</pubDate><guid>tag:liung.github.io,2014-08-29:blog/qi-ta/home.html</guid></item><item><title>Pelican官方文档阅读笔记</title><link>http://liung.github.io/blog/python/2014-08-27-Pelican%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3%E9%98%85%E8%AF%BB%E7%AC%94%E8%AE%B0.html</link><description>&lt;hr /&gt;
&lt;h3&gt;Articles and pages&lt;/h3&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;article：一种有时间顺序的文件，诸如博客中的推送，一般都带有明确的日期。&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;page：一般来讲不是一些暂时性的东西，经常用来充当博客中长时间不会改变的内容（比如abot、contact页面等）。通过设置&lt;code&gt;DISPLAY_PAGES_ON_MENU&lt;/code&gt;设置是否要在主导航菜单显示page中的内容（默认为True），在标签中设置&lt;code&gt;status：hidden&lt;/code&gt;来隐藏page中特定的文件。&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;File metadata（文章的元数据）&lt;/h3&gt;
&lt;p&gt;一般写的博客中包含一些&lt;code&gt;metadata&lt;/code&gt;数据。&lt;code&gt;makedown&lt;/code&gt;格式的书写方式：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;Title&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;My&lt;/span&gt; &lt;span class="kd"&gt;super&lt;/span&gt; &lt;span class="n"&gt;title&lt;/span&gt;
&lt;span class="n"&gt;Date&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2010&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;03&lt;/span&gt; &lt;span class="mi"&gt;10&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;20&lt;/span&gt;
&lt;span class="n"&gt;Modified&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2010&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;12&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;05&lt;/span&gt; &lt;span class="mi"&gt;19&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;30&lt;/span&gt;
&lt;span class="n"&gt;Category&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Python&lt;/span&gt;
&lt;span class="n"&gt;Tags&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;pelican&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;publishing&lt;/span&gt;
&lt;span class="n"&gt;Slug&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;my&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="kd"&gt;super&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;post&lt;/span&gt;
&lt;span class="n"&gt;Authors&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Alexis&lt;/span&gt; &lt;span class="n"&gt;Metaireau&lt;/span&gt;&lt;span class="o"&gt;,&lt;/span&gt; &lt;span class="n"&gt;Conan&lt;/span&gt; &lt;span class="n"&gt;Doyle&lt;/span&gt;
&lt;span class="n"&gt;Summary&lt;/span&gt;&lt;span class="o"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Short&lt;/span&gt; &lt;span class="n"&gt;version&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;index&lt;/span&gt; &lt;span class="n"&gt;and&lt;/span&gt; &lt;span class="n"&gt;feeds&lt;/span&gt;

&lt;span class="n"&gt;This&lt;/span&gt; &lt;span class="k"&gt;is&lt;/span&gt; &lt;span class="n"&gt;the&lt;/span&gt; &lt;span class="n"&gt;content&lt;/span&gt; &lt;span class="n"&gt;of&lt;/span&gt; &lt;span class="n"&gt;my&lt;/span&gt; &lt;span class="kd"&gt;super&lt;/span&gt; &lt;span class="n"&gt;blog&lt;/span&gt; &lt;span class="n"&gt;post&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;ul&gt;
&lt;li&gt;日期(Date)：如果文章中没有指定日期或者配置文件中没有设置DEFAULT_DATE = 'fs'，那么pelican将采用文件系统的     mtim时间，并根据文件所在位置的文件名进行分类（category）。&lt;/li&gt;
&lt;li&gt;分类：如果您你想用其他方式组织你的文章，可以在配置文件中设置&lt;code&gt;USE_FOLDER_AS_CATEGORY = False&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;authors:采用逗号分隔的作者列表，如果单作者，可以采用author标签。&lt;/li&gt;
&lt;li&gt;summary:配置文件中可以通过&lt;code&gt;SUMMARY_MAX_LENGTH&lt;/code&gt;设置summary长度。&lt;/li&gt;
&lt;li&gt;文件名：通过&lt;code&gt;FILENAME_METADATA&lt;/code&gt;设置，采用正则表达式。诸如&lt;code&gt;'(?P&amp;lt;date&amp;gt;\d{4}-\d{2}-\d{2})_(?P&amp;lt;slug&amp;gt;.*)'&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3&gt;Linking to internal content（文件中的链接）&lt;/h3&gt;
&lt;p&gt;格式：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="p"&gt;{&lt;/span&gt;&lt;span class="n"&gt;filename&lt;/span&gt;&lt;span class="p"&gt;}&lt;/span&gt;&lt;span class="n"&gt;path&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;to&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;file&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;为向后兼容，也支持&lt;code&gt;|filename|path/to/file&lt;/code&gt;，（&lt;code&gt;{ }&lt;/code&gt;替换为&lt;code&gt;| |&lt;/code&gt;）但可能与reST、markdown等格式冲突，建议不用。&lt;/p&gt;
&lt;p&gt;设置静态文件（自动生成时将copy此文件到bolog目录）：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="n"&gt;STATIC_PATHS&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="n"&gt;images&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;...&lt;/span&gt;&lt;span class="err"&gt;&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;h3&gt;Syntax highlighting（语法高亮）&lt;/h3&gt;
&lt;p&gt;Markdown格式：&lt;/p&gt;
&lt;p&gt;A block of text.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="o"&gt;&amp;lt;&lt;/span&gt;&lt;span class="n"&gt;code&lt;/span&gt; &lt;span class="n"&gt;goes&lt;/span&gt; &lt;span class="n"&gt;here&lt;/span&gt;&lt;span class="o"&gt;&amp;gt;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;以python为例：&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;DemoClass&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;pass&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;myFunction&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;print&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Hello&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;&lt;code&gt;identifier&lt;/code&gt;指定为&lt;code&gt;python&lt;/code&gt;、&lt;code&gt;ruby&lt;/code&gt;等语言即可。&lt;/p&gt;
&lt;p&gt;&lt;em&gt;待补充......&lt;/em&gt;&lt;/p&gt;
&lt;h3&gt;参考阅读&lt;/h3&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;Pelican&lt;/strong&gt;&lt;a href="http://docs.getpelican.com/en/latest/"&gt;官方文档&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Pelican&lt;/strong&gt;&lt;a href="http://pelican-docs-zh-cn.readthedocs.org/en/latest/"&gt;中文文档&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;hr /&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Wed, 27 Aug 2014 20:13:00 +0800</pubDate><guid>tag:liung.github.io,2014-08-27:blog/python/2014-08-27-Pelican官方文档阅读笔记.html</guid><category>python</category><category>博客</category></item><item><title>Quaternions and Key Bindings: Simple 3D Visualization in Matplotlib</title><link>http://liung.github.io/blog/python/simple-3d-visualization-in-matplotlib.html</link><description>&lt;p&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;

&lt;p&gt;Matplotlib is a powerful framework, but its 3D capabilities still have a lot of room to grow. The &lt;a href="http://matplotlib.org/mpl_toolkits/mplot3d/index.html"&gt;mplot3d&lt;/a&gt; toolkit allows for several kinds of 3D plotting, but the ability to create and rotate solid 3D objects is hindered by the inflexibility of the &lt;code&gt;zorder&lt;/code&gt; attribute: because it is not updated when the view is rotated, things in the &amp;quot;back&amp;quot; will cover things in the &amp;quot;front&amp;quot;, obscuring them and leading to very unnatural-looking results.&lt;/p&gt;
&lt;p&gt;I decided to see if I could create a simple script that addresses this. Though it would be possible to use the built-in &lt;code&gt;mplot3d&lt;/code&gt; architecture to take care of rotating and projecting the points, I decided to do it from scratch for the sake of my own education.&lt;/p&gt;
&lt;p&gt;We'll step through it below: by the end of this post we will have created a 3D viewer in matplotlib which I think is quite nice. &lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Rotations-in-3D:-Quaternions"&gt;Rotations in 3D: Quaternions&lt;a class="anchor-link" href="#Rotations-in-3D:-Quaternions"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The first step to creating an interactive 3D object is to decide on a representation for the orientation of the object. &lt;code&gt;mplot3d&lt;/code&gt; uses azimuthal and elevation angles: these are the familiar &lt;span class="math"&gt;\(\theta\)&lt;/span&gt; and &lt;span class="math"&gt;\(\phi\)&lt;/span&gt; of spherical coordinate systems. While this is a common system, it has the disadvantage that things get a little funky near the poles.&lt;/p&gt;
&lt;p&gt;Another common framework for mathematical representation of solid-body rotations is a rotation matrix. This is nice because multiple rotations can be composed quickly, but extracting axis and angle information can require matrix decompositions that are relatively expensive.&lt;/p&gt;
&lt;p&gt;Finally, perhaps the best option is the use of &lt;a href="http://en.wikipedia.org/wiki/Quaternion"&gt;quaternions&lt;/a&gt;, four-dimensional generalizations of complex numbers which can be used to compactly &lt;a href="http://en.wikipedia.org/wiki/Quaternions_and_spatial_rotation"&gt;represent 3D rotations&lt;/a&gt;. A friend who works in the video game industry (in particular the &lt;em&gt;Halo&lt;/em&gt; series) told me that quaternions are what the industry generally prefers in many situations: they are compact, fast to compose, and very powerful. On top of that, they're generally cool enough that I wanted an excuse to play around with them a bit.&lt;/p&gt;
&lt;p&gt;There have been a few attempts to include quaternions natively in the scipy universe, but none have stuck. It's a shame, because it would be a very useful feature. In particular, In particular, I'd love to see something happen with the quaternion dtype, discussed &lt;a href="http://mail.scipy.org/pipermail/numpy-discussion/2011-July/057675.html"&gt;here&lt;/a&gt; on the numpy-dev email list. It looks promising, but has not yet been included in numpy.&lt;/p&gt;
&lt;p&gt;With the lack of available implementations, I decided to write a basic quaternion class which implements the functionality I need: multiplication of quaternions, and tranformation to and from axis-angle representation:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;
In&amp;nbsp;[1]:
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class="highlight-ipynb"&gt;&lt;pre class="ipynb"&gt;&lt;span class="kn"&gt;import&lt;/span&gt; &lt;span class="nn"&gt;numpy&lt;/span&gt; &lt;span class="kn"&gt;as&lt;/span&gt; &lt;span class="nn"&gt;np&lt;/span&gt;

&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;Quaternion&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Quaternions for 3D rotations&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;asarray&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;dtype&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nb"&gt;float&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        
    &lt;span class="nd"&gt;@classmethod&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;from_v_theta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class="sd"&gt;        Construct quaternion from unit vector v and rotation angle theta&lt;/span&gt;
&lt;span class="sd"&gt;        &amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="n"&gt;theta&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;asarray&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;asarray&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        
        &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.5&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;vnrm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="n"&gt;q&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;concatenate&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;vnrm&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;cls&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;q&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__repr__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="s"&gt;&amp;quot;Quaternion:&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__repr__&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__mul__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c"&gt;# multiplication of two quaternions.&lt;/span&gt;
        &lt;span class="n"&gt;prod&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;other&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__class__&lt;/span&gt;&lt;span class="p"&gt;([(&lt;/span&gt;&lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                 &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
                                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                 &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
                                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                 &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]),&lt;/span&gt;
                                &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
                                 &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;prod&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;])])&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;as_v_theta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Return the v, theta equivalent of the (normalized) quaternion&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="c"&gt;# compute theta&lt;/span&gt;
        &lt;span class="n"&gt;norm&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="n"&gt;theta&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;arccos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="n"&gt;norm&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="c"&gt;# compute the unit vector&lt;/span&gt;
        &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:],&lt;/span&gt; &lt;span class="n"&gt;order&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;F&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;copy&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;True&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;/=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sqrt&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;as_rotation_matrix&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Return the rotation matrix of the (normalized) quaternion&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as_v_theta&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
        &lt;span class="n"&gt;c&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;cos&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="n"&gt;s&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sin&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

        &lt;span class="k"&gt;return&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                         &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                         &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;s&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                          &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;v&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;1.&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="o"&gt;+&lt;/span&gt; &lt;span class="n"&gt;c&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The mathematics of quaternions (and the use of unit quaternions to represent rotations) is fascinating in itself, but the details beyond this simple implementation are too much for this short post. I'd suggest &lt;a href="http://courses.cms.caltech.edu/cs171/quatut.pdf"&gt;this paper&lt;/a&gt; for a more complete introduction.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Simple-3D-object:-A-Cube"&gt;Simple 3D object: A Cube&lt;a class="anchor-link" href="#Simple-3D-object:-A-Cube"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Let's use these quaternions to draw a cube in matplotlib.&lt;/p&gt;
&lt;p&gt;A cube is made of six faces, each rotated from the other in multiples of ninety degrees. With this in mind, we'll define a fiducial face, and six rotators which will put the face in place.&lt;/p&gt;
&lt;p&gt;One we have these, we can concatenate a viewing angle to all six, project the results, and display them as polygons on an axes. An important piece here is to get the &lt;code&gt;zorder&lt;/code&gt; attribute correct, so that faces in the back do not cover faces in the front. We'll use the z-coordinate from the projection to do this correctly.&lt;/p&gt;
&lt;p&gt;For later use, we'll do this all within a class derived from &lt;code&gt;plt.Axes&lt;/code&gt;, and make it so that the set of polygons can be updated if needed:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;
In&amp;nbsp;[2]:
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class="highlight-ipynb"&gt;&lt;pre class="ipynb"&gt;&lt;span class="c"&gt;# don&amp;#39;t use %pylab inline, because we want to interact with plots below.&lt;/span&gt;
&lt;span class="o"&gt;%&lt;/span&gt;&lt;span class="k"&gt;pylab&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;
&lt;div class="output_subarea output_stream output_stdout output_text"&gt;
&lt;pre&gt;

Welcome to pylab, a matplotlib-based Python environment [backend: TkAgg].
For more information, type &amp;apos;help(pylab)&amp;apos;.

&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;
In&amp;nbsp;[3]:
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class="highlight-ipynb"&gt;&lt;pre class="ipynb"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CubeAxes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Axes&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;An Axes for displaying a 3D cube&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="c"&gt;# fiducial face is perpendicular to z at z=+1&lt;/span&gt;
    &lt;span class="n"&gt;one_face&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;array&lt;/span&gt;&lt;span class="p"&gt;([[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]])&lt;/span&gt;

    &lt;span class="c"&gt;# construct six rotators for the face&lt;/span&gt;
    &lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;z&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;eye&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
    &lt;span class="n"&gt;rots&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Quaternion&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_v_theta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
    &lt;span class="n"&gt;rots&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Quaternion&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_v_theta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
    &lt;span class="n"&gt;rots&lt;/span&gt; &lt;span class="o"&gt;+=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;Quaternion&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_v_theta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;theta&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
    
    &lt;span class="c"&gt;# colors of the faces&lt;/span&gt;
    &lt;span class="n"&gt;colors&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;blue&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;green&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;white&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;yellow&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;orange&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;red&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
    
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="c"&gt;# We want to set a few of the arguments&lt;/span&gt;
        &lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;update&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;dict&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;xlim&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;ylim&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;2.5&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;frameon&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;False&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                           &lt;span class="n"&gt;xticks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="n"&gt;yticks&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;[],&lt;/span&gt; &lt;span class="n"&gt;aspect&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;equal&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
        &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CubeAxes&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;rect&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;xaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_major_formatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;NullFormatter&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;yaxis&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_major_formatter&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;NullFormatter&lt;/span&gt;&lt;span class="p"&gt;())&lt;/span&gt;
        
        &lt;span class="c"&gt;# define the current rotation&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;current_rot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Quaternion&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_v_theta&lt;/span&gt;&lt;span class="p"&gt;((&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt; &lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;pi&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt; &lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        
    
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;draw_cube&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;draw a cube rotated by theta around the given vector&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="c"&gt;# rotate the six faces&lt;/span&gt;
        &lt;span class="n"&gt;Rs&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;current_rot&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;rot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;as_rotation_matrix&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;rot&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;rots&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;faces&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;np&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;dot&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;one_face&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;T&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;R&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;Rs&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        
        &lt;span class="c"&gt;# project the faces: we&amp;#39;ll use the z coordinate&lt;/span&gt;
        &lt;span class="c"&gt;# for the z-order&lt;/span&gt;
        &lt;span class="n"&gt;faces_proj&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[:,&lt;/span&gt; &lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;faces&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        &lt;span class="n"&gt;zorder&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;face&lt;/span&gt;&lt;span class="p"&gt;[:&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;sum&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt; &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;face&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="n"&gt;faces&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
        
        &lt;span class="c"&gt;# create the polygons if needed.&lt;/span&gt;
        &lt;span class="c"&gt;# if they&amp;#39;re already drawn, then update them&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="ow"&gt;not&lt;/span&gt; &lt;span class="nb"&gt;hasattr&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;_polys&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_polys&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;Polygon&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;faces_proj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt; &lt;span class="n"&gt;fc&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;colors&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;],&lt;/span&gt;
                                       &lt;span class="n"&gt;alpha&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="mf"&gt;0.9&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
                           &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;)]&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_patch&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_polys&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
        &lt;span class="k"&gt;else&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="k"&gt;for&lt;/span&gt; &lt;span class="n"&gt;i&lt;/span&gt; &lt;span class="ow"&gt;in&lt;/span&gt; &lt;span class="nb"&gt;range&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;6&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_polys&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_xy&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;faces_proj&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
                &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_polys&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;set_zorder&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;zorder&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="n"&gt;i&lt;/span&gt;&lt;span class="p"&gt;])&lt;/span&gt;
                
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;canvas&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;draw&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;With this in place, we can draw the cube as follows:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;
In&amp;nbsp;[4]:
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class="highlight-ipynb"&gt;&lt;pre class="ipynb"&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;CubeAxes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_axes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;draw_cube&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbAAAAGwCAYAAADITjAqAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAAPYQAAD2EBqD+naQAAIABJREFUeJzt3UuLLOmd3/FfRGbdb5lZdep0a2ZaMAO2wB4jsAevvDV4
Y2/spZHwUsaMG4Z+DWYkJAYM3pgBeUArL+xX0HjrjbY9A7bVre4+p7Iq75l1yYx8Hi8iom6nqk5V
ZWZk/uP5fuCoqk/f4qifjm8/EZH/iL788ksvAACMiZd9AAAAvAYBAwCYRMAAACYRMACASQQMAGAS
AQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEwAIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGAS
AQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEwAIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGAS
AQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEwAIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGAS
AQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEwAIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGAS
AQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEwAIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGAS
AQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEwAIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGAS
AQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEwAIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGAS
AQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEwAIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGAS
AQMAmFRd9gEAWC3D4VDff/+9Tk9P1Wq11G631e121ev11Ov19P79e33xxRf68Y9/vOxDReCiL7/8
0i/7IADM33A41MnJiZrN5nWI2u22+v2++v2+BoOBzs/PdX55rqvxpSbJWEkylffZKSFKf/jsa7wh
aUNyV9L61br+6pd/pR/96EdL/BUidAQMWHHD4VDNZlOnp6c6Ozu73hF1Oh31+30Nh0Odn5/r4nKk
y/GlxpOJkiR5OESSog0p2pKiTUnb6ddoS4q3pHgz+7olVW5/3ZTiONLFWOo2vaL/EWljuKFf/eJX
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
0ps3b7TOrDoAz8B/smIl5I+BA8BzcRcaAGASAQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEw
AIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGASAQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEw
AIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGASAQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEw
AIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGASAQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEw
AIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGASAQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEw
AIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGASAQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEw
AIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGASAQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEw
AIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGASAQMAmETAAAAmETAAgEkEDABgEgEDAJhEwAAAJhEw
AIBJBAwAYBIBAwCYRMAAACYRMACASQQMAGASAQMAmETAAAAmETAAgEkEDABgEgEDAJj0/wGDSbX4
JMXzjwAAAABJRU5ErkJggg==
"
&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Events-and-Callbacks"&gt;Events and Callbacks&lt;a class="anchor-link" href="#Events-and-Callbacks"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Now comes the fun part. We can add events and callbacks to the axes which will allow us to manipulate the projection by clicking and dragging on the figure.&lt;/p&gt;
&lt;p&gt;We need to add callbacks to the axes: we'll do this in the construction of the class using the &lt;code&gt;mpl_connect&lt;/code&gt; method of the canvas. There are several types of callback events that can be hooked: they can be found by typing &lt;code&gt;plt.connect?&lt;/code&gt; and seeing the doc-string:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;
In&amp;nbsp;[5]:
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class="highlight-ipynb"&gt;&lt;pre class="ipynb"&gt;&lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;connect&lt;/span&gt;&lt;span class="err"&gt;?&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;The available options are:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;'button_press_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'button_release_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'draw_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'key_press_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'key_release_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'motion_notify_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'pick_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'resize_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'scroll_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'figure_enter_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'figure_leave_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'axes_enter_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'axes_leave_event'&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;'close_event'&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Each of these can be connected to a function that performs some operation when those events happen. Below, we'll use the button events, the motion event, and the key press event to create an interactive 3D plot. To be as concise as possible, we'll derive from the class we created above:&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;
In&amp;nbsp;[6]:
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class="highlight-ipynb"&gt;&lt;pre class="ipynb"&gt;&lt;span class="k"&gt;class&lt;/span&gt; &lt;span class="nc"&gt;CubeAxesInteractive&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CubeAxes&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
    &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;An Axes for displaying an Interactive 3D cube&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="nb"&gt;super&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;CubeAxesInteractive&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;__init__&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;*&lt;/span&gt;&lt;span class="n"&gt;args&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;**&lt;/span&gt;&lt;span class="n"&gt;kwargs&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        
        &lt;span class="c"&gt;# define axes for Up/Down motion and Left/Right motion&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_v_LR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_v_UD&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_active&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_xy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;

        &lt;span class="c"&gt;# connect some GUI events&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;canvas&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mpl_connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;button_press_event&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                       &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_mouse_press&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;canvas&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mpl_connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;button_release_event&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                       &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_mouse_release&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;canvas&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mpl_connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;motion_notify_event&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                       &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_mouse_motion&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;canvas&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mpl_connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;key_press_event&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                       &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_key_press&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;canvas&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;mpl_connect&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;#39;key_release_event&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
                                       &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_key_release&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
        
        &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;text&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mf"&gt;0.05&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.05&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;Click and Drag to Move&lt;/span&gt;&lt;span class="se"&gt;\n&lt;/span&gt;&lt;span class="s"&gt;&amp;quot;&lt;/span&gt;
                                    &lt;span class="s"&gt;&amp;quot;Hold shift key to adjust rotation&amp;quot;&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;

    &lt;span class="c"&gt;#----------------------------------------------------------&lt;/span&gt;
    &lt;span class="c"&gt;# when the shift button is down, change the rotation axis&lt;/span&gt;
    &lt;span class="c"&gt;# of left-right movement&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_key_press&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Handler for key press events&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;shift&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_v_LR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_key_release&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Handler for key release event&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;key&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="s"&gt;&amp;#39;shift&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_v_LR&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="c"&gt;#----------------------------------------------------------&lt;/span&gt;
    &lt;span class="c"&gt;# while the mouse button is pressed, set state to &amp;quot;active&amp;quot;&lt;/span&gt;
    &lt;span class="c"&gt;# so that motion event will rotate the plot&lt;/span&gt;
    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_mouse_press&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Handler for mouse button press&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;button&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_active&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;True&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_xy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_mouse_release&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Handler for mouse button release&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;button&lt;/span&gt; &lt;span class="o"&gt;==&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_active&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;False&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_xy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="bp"&gt;None&lt;/span&gt;

    &lt;span class="k"&gt;def&lt;/span&gt; &lt;span class="nf"&gt;_mouse_motion&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="p"&gt;):&lt;/span&gt;
        &lt;span class="sd"&gt;&amp;quot;&amp;quot;&amp;quot;Handler for mouse motion&amp;quot;&amp;quot;&amp;quot;&lt;/span&gt;
        &lt;span class="k"&gt;if&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_active&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
            &lt;span class="n"&gt;dx&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_xy&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="n"&gt;dy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_xy&lt;/span&gt;&lt;span class="p"&gt;[&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;]&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_xy&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;x&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;event&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;y&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            
            &lt;span class="n"&gt;rot1&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Quaternion&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_v_theta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_v_UD&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.01&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;dy&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="n"&gt;rot2&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;Quaternion&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;from_v_theta&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;_v_LR&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mf"&gt;0.01&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;dx&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;

            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;current_rot&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;rot2&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="n"&gt;rot1&lt;/span&gt; &lt;span class="o"&gt;*&lt;/span&gt; &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;current_rot&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
            &lt;span class="bp"&gt;self&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;draw_cube&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;To see the interactive cube, run the following code (interactivity will not work within the web browser) You should be able to use the mouse to change the orientation of the cube, and hold the shift key to change the type of rotation used.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing code_cell rendered"&gt;
&lt;div class="input"&gt;
&lt;div class="prompt input_prompt"&gt;
In&amp;nbsp;[7]:
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
    &lt;div class="input_area"&gt;
&lt;div class="highlight-ipynb"&gt;&lt;pre class="ipynb"&gt;&lt;span class="n"&gt;fig&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;plt&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;figure&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;figsize&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;))&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="n"&gt;CubeAxesInteractive&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;add_axes&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;span class="n"&gt;ax&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="n"&gt;draw_cube&lt;/span&gt;&lt;span class="p"&gt;()&lt;/span&gt;
&lt;span class="n"&gt;display&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="n"&gt;fig&lt;/span&gt;&lt;span class="p"&gt;)&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="output_wrapper"&gt;
&lt;div class="output"&gt;


&lt;div class="output_area"&gt;&lt;div class="prompt"&gt;&lt;/div&gt;


&lt;div class="output_png output_subarea "&gt;
&lt;img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAbAAAAGwCAYAAADITjAqAAAABHNCSVQICAgIfAhkiAAAAAlwSFlz
AAAPYQAAD2EBqD+naQAAIABJREFUeJzt3Xl8VOW9P/DPmSWZrDOZLCwaQBSKiAhoUKxy27gARb3e
VizVuhJvvYgK9jYU9+KKUqQtUpf0RwBBa60FN1alV21FXNBWLahYFoGQZNZMklnP+f0xC5nMJJks
szxzPu/XCxJOJjNnZh7OZ57nPOf7SDt27FBAREQkGE26d4CIiKgvGGBERCQkBhgREQmJAUZEREJi
gBERkZAYYEREJCQGGBERCYkBRkREQmKAERGRkBhgREQkJAYYEREJiQFGRERCYoAREZGQGGBERCQk
BhgREQmJAUZEREJigBERkZAYYEREJCQGGBERCYkBRkREQmKAERGRkBhgREQkJAYYEREJiQFGRERC
YoAREZGQGGBERCQkBhgREQmJAUZEREJigBERkZAYYEREJCQGGBERCYkBRkREQmKAERGRkBhgREQk
JAYYEREJiQFGRERCYoAREZGQGGBERCQkBhgREQmJAUZEREJigBERkZAYYEREJCQGGBERCYkBRkRE
QmKAERGRkBhgREQkJAYYEREJiQFGRERCYoAREZGQGGBERCQkBhgREQmJAUZEREJigBERkZAYYERE
JCQGGBERCYkBRkREQmKAERGRkBhgREQkJAYYEREJiQFGRERCYoAREZGQGGBERCQkBhgREQmJAUZE
REJigBERkZAYYEREJCQGGBERCYkBRkREQmKAERGRkBhgREQkJAYYEREJiQFGRERCYoAREZGQGGBE
RCQkBhgREQmJAUZEREJigBERkZAYYEREJCQGGBERCYkBRkREQmKAERGRkBhgREQkJAYYEREJiQFG
RERCYoAREZGQGGBERCQkBhgREQmJAUZEREJigBERkZAYYEREJCQGGBERCYkBRkREQmKAERGRkBhg
REQkJAYYEREJiQFGRERCYoAREZGQGGBERCQkBhgREQmJAUZEREJigBERkZAYYEREJCRduneAiDKL
y+XCkSNH0NTUBIvFAqvVCrvdDofDAYfDgYaGBtTW1mLChAnp3lVSOWnHjh1KuneCiAaey+XCsWPH
0NjYGAkiq9UKp9MJp9OJlpYWtLW1oc3dBo/XDZ/fC78/AEUJHRKk4B8l9FWTCyAXkD1AjicHv1n2
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
W7YMAODxeNDY2Ihdu3Zh6dKlePHFF7FkyZKMe53WrVuH73//+wMeYJIkIT8/H//85z9x5MgRDB06
NOrnb7zxBvLz89He3p7w60tEmSetAfb555/jiSeeQFVVFR566CFotdrIzyZNmoQf//jH+OCDDyLb
FEWJOeCceuqpKdvfdFAUJaHbSZIU81pcfPHFmDFjBhYtWoT7778fTz75ZLf34fV6kZOT0+d97S1J
khJ+fr01btw4fPPNN9i0aRPmzJkT2X748GH885//xA9+8AO8/vrrSXlsIkqNtAbYunXroNVq8fOf
/zwqvMK0Wi3OOeecbu8j3hBiU1MT1qxZg/fffx92ux1GoxGnnXYabr/99shwZGetra24//77sW/f
Pjz88MMYM2ZM3Nt5vV7U1dVh9+7dOHr0aGS48yc/+UlMT6K6uhqXX345xowZg3Xr1qGxsREnnHAC
ampqYp7Xzp07UVdXh4MHD6KsrAyXX355t887UWeeeSZmzpyJjRs34h//+AfGjx8PIDjMNnLkSEyf
Ph1r167FwYMHMWvWLNTU1GDDhg3YsWMHDh06hPb2dgwdOhQXXXQRZs2aFfM+Pffcc3jttddgs9lw
0kknoaamBs8991zMUG9n1dXVAIAtW7Zgy5YtAIAJEyZEepH//ve/UVdXh3/+85/weDwYNmwYrrji
CkybNi2h563RaDBt2jRs3boVN954Y+SDz6ZNm1BRUYEzzzwzboD97W9/w/r16/HNN99Ao9Fg7Nix
uOGGGzB27NjIz++55x4sXboUkyZNivrdV155BcuXL0ddXR1GjhwJANi7dy/WrFmDzz77DG63G8OH
D8dVV12F733vewk9DyLqWtoCLBAIYPfu3Rg9evSADm01NTXhf/7nfyDLMq6++mqMHDkSDocDH374
IVwuV9wAa2pqwi9/+UsEAgGsXLkSgwcP7vL+fT4fnE4nZs2ahYqKCvj9fnz00Ue47777UFtbi4sv
vjjq9jt37sTevXsxZ84cGAwGvPDCC7jnnnuwZs0aDBkyBADw8ccf46677sLpp5+O++67D4FAAC+8
8AKsVuuADHGde+65MQEmSRK++uorHDhwANdeey0GDx4Mg8EAADhy5Ai+//3v44QTToBer8e+ffvw
3HPP4eDBg6itrY3cb11dHdavX49LL70U559/PhobG7F06VIEAgFUVlZ2u08rVqzAz3/+c0ycOBHX
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
IAsAAAAASUVORK5CYII=
"
&gt;
&lt;/div&gt;

&lt;/div&gt;

&lt;/div&gt;
&lt;/div&gt;

&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;Note that the image above is a static view: To experience the interactivity, &lt;a href="http://jakevdp.github.com/downloads/notebooks/3DCube.ipynb"&gt;download the notebook&lt;/a&gt; and run it on your own machine.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;h2 id="Conclusion"&gt;Conclusion&lt;a class="anchor-link" href="#Conclusion"&gt;&amp;#182;&lt;/a&gt;&lt;/h2&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;

&lt;div class="cell border-box-sizing text_cell rendered"&gt;
&lt;div class="prompt input_prompt"&gt;
&lt;/div&gt;
&lt;div class="inner_cell"&gt;
&lt;div class="text_cell_render border-box-sizing rendered_html"&gt;
&lt;p&gt;If you're anything like me, your mind is probably spinning with all the possibilities of these tools. My eventual goal is to make a fully functional Rubik's cube simulator using these sorts of techniques. It will take some thinking, but I think it can be done, and it would be a very cool demonstration of Matplotlib's capabilities! I'll be working on this with David Hogg over at the &lt;a href="https://github.com/jakevdp/MagicCube"&gt;Magic Cube github repository&lt;/a&gt;: much of the simple script shown above was adapted from code I first wrote there.&lt;/p&gt;
&lt;p&gt;The possibilities are endless, and I hope you have fun with these tools!&lt;/p&gt;
&lt;p&gt;This post was written entirely in an IPython Notebook: the notebook file is available for download &lt;a href="http://jakevdp.github.com/downloads/notebooks/3DCube.ipynb"&gt;here&lt;/a&gt;. For more information on blogging with notebooks in octopress, see my &lt;a href="http://jakevdp.github.com/blog/2012/10/04/blogging-with-ipython/"&gt;previous post&lt;/a&gt; on the subject.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;&lt;/p&gt;</description><dc:creator xmlns:dc="http://purl.org/dc/elements/1.1/">liung</dc:creator><pubDate>Sat, 24 Nov 2012 11:04:00 +0800</pubDate><guid>tag:liung.github.io,2012-11-24:blog/python/simple-3d-visualization-in-matplotlib.html</guid></item></channel></rss>